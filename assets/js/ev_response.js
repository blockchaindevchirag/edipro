
            $(document).ready(function () {


                $(".on-page-search").on("keyup", function () {

                    $('.radio-p-fill-5').prop('checked', false);
                    $('.radio-p-fill-6').prop('checked', false);
                    $('.radio-p-fill-7').prop('checked', false);
                    $('.radio-p-fill-8').prop('checked', false);


                    $('#seperatercol').find('.sepbtn').each(function (e) {
                        var btnid = $(this).attr('id');
                        // console.log(btnid);
                        if ($('#' + btnid).prop('checked') === true)
                        {
                            $('#' + btnid).prop('checked', false);
                        }

                    });

                    var v = $(this).val();

                    // console.log(v);
                    $(".results").removeClass("results");
                    $("section").find("table").find("td").each(function () {
                        if (v !== "" && $(this).text().search(new RegExp(v, 'gi')) !== -1) {
                            $(this).addClass("results");
                            //  $(this).toggle();
                            //  $(this).show();
                        }

                    });



                    $("section").find("a").each(function () {
                        //   var v = $(this).val();
                        // console.log($(this).attr('value'));
                        if (v !== "" && $(this).text().search(new RegExp(v, 'gi')) !== -1) {
                            //  console.log("inside:" + v);
                            // $(this).addClass("results");
                            // $(this).show();
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {
                                // console.log(id);
                                $('#' + id).show();
                            }
                            $(this).show();

                        } else
                        {

                            if (v === "")
                            {
                                var id = $(this).parent().parent().parent().parent().parent().attr('id');
                                if (id !== "undefined")
                                {
                                    // console.log(id);
                                    $('#' + id).show();

                                    if ($('#status').text() === "Active")
                                    {
                                        $('#accordionExample4').hide();
                                        $('#accordionExample5').hide();
                                        $('#accordionExample6').hide();
                                        $('#accordionExample7').hide();
                                    }

                                }
                                $(this).show();
                            } else
                            {
                                var id = $(this).parent().parent().parent().parent().parent().attr('id');
                                if (id !== "undefined")
                                {
                                    //   console.log(id);
                                    $('#' + id).hide();
                                }
                                // $(this).hide();
                            }
                        }
                    });
                });


                var rid = GetParameterValues('rid');
                rid = parseInt(rid);
                var benefittypecode = "";

              /*  _.defer($.ajax({
                    url: "getebbenefittype",
                    type: "get", //send it through get method
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0)
                        {
                            benefittypecode = response.Response;
                            //console.log(response.Response);
                        }
                    }
                })); */


                $('#btnedit').click(function () {

                    window.open("request?rid=" + rid, '_blank');
                });

                $('#export').click(function () {
                    $('#flading').show();

                    _.defer($.ajax({
                        url: "getreportstatus",
                        type: "get", //send it through get method
                        data: {
                            reportstatus: rid
                        },
                        async: true,
                        success: function (dbresponse) {
                            var txt = dbresponse;
                            var response = jQuery.parseJSON(txt);
                            var repostatus = "";
                            for (var i = 0; i < response.Response.length; i++) {
                                repostatus = response.Response[i].Count;
                            }
                            console.log(repostatus);
                            if (repostatus === "0") {
                                // msgbox("Report Data Populating...", "Eligibility View Form", "warning");
                            } else {

                                location.href = "generatenew?requestid=" + rid + "&patientname=" + $('#ptname').text();
                                setTimeout(function ()
                                {
                                    $('#flading').hide();
                                }, 10000);
                            }
                        }
                    }));

                });


                $('#flading').show();


                $('#ShowAllTabs').click(function () {

                    $(".collapse").collapse("show");
                });
                $('#HideAllTabs').click(function () {

                    $(".collapse").collapse("hide");
                });
                $('#showcollepse').click(function () {

                    $(".collapse").collapse("show");
                });
                $('#hidecollepse').click(function () {

                    $(".collapse").collapse("hide");
                });


                $('#btnprint').click(function () {

                    window.location.assign('generate?requestid=' + GetParameterValues('rid'));
                    
                });

                function GetParameterValues(param) {
                    var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                    for (var i = 0; i < url.length; i++) {
                        var urlparam = url[i].split('=');
                        if (urlparam[0] === param) {
                            return urlparam[1];
                        }
                    }
                }

              
                function Getsementname(segmentGroupedBy)
                {
                    var big = 4;
                    var segmentparent_4;
                    var consegment = '';
                    for (var commonBrand in segmentGroupedBy) {

                        var i = segmentGroupedBy[commonBrand].length;
                        if (big === i)
                        {

                            consegment = consegment + commonBrand + ",";
                            segmentparent_4 = commonBrand;
                        }

                    }
                    // console.log(consegment);
                    return consegment;
                    // return segmentparent_4;
                }


                function Getsementname1(segmentGroupedBy)
                {
                    var consegment = '';
                    for (var commonBrand in segmentGroupedBy) {
                        var i = segmentGroupedBy[commonBrand].length;
                        consegment = consegment + commonBrand + ",";
                    }
                    // console.log(consegment);
                    return consegment;
                    // return segmentparent_4;
                }



                function Getsementname30(segmentGroupedBy)
                {
                    var big = 4;
                    var segmentparent_4;
                    var consegment = '';
                    for (var commonBrand in segmentGroupedBy) {

                        var i = segmentGroupedBy[commonBrand].length;
                        // console.log(segmentGroupedBy[commonBrand].length);
                        if (big === i)
                        {

                            consegment = consegment + commonBrand + ",";
                            segmentparent_4 = commonBrand;
                        }

                    }
                    // console.log(consegment);
                    return consegment;
                    // return segmentparent_4;
                }


                const groupBy = (array, key) => {
                    // Return the end result
                    return array.reduce((result, currentValue) => {
                        // If an array already present for key, push it to the array. Else create an array and push the object
                        (result[currentValue[key]] = result[currentValue[key]] || []).push(
                                currentValue
                                );
                        // Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate
                        return result;
                    }, {}); // empty object is the initial value for result object
                };
                function Appendtag(gn, gnid, element, heading, tagvalue, spanid, loopsegment, func, Limitation)
                {
                    // var gn = segloopGroupedBy[groupname1][j].Tid;
                    //  var gnid = segloopGroupedBy[groupname1][j].Parent_4;
                    var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                    var ltpinid = "accordionExampleloop" + segmentid;
                    if (heading !== '')
                    {
                        if (Limitation !== "")
                        {
                            $('#' + loopsegment + '').find('#' + ltpinid).find('a').css("color", "#FF9764");
                            $('#' + loopsegment + '').find('#' + ltpinid).find('a').append(heading);
                        } else
                        {
                            $('#' + loopsegment + '').find('#' + ltpinid).find('a').append(heading);
                        }
                    }
                    if (typeof (element) !== "undefined")
                    {
                        if (func === "6")
                        {
                            var ltpin = (element);
                        } else if (func === "9")
                        {
                            var ltpin = (element);
                        } else if (func === "12")
                        {
                            var ltpin = (element);
                            // console.log(element);
                        } else if (func === "11")
                        {
                            var ltpin = (element);
                        } else
                        {
                            var ltpin = element;
                        }


                        if (ltpin !== "")
                        {
                            if (tagvalue === "MSG" || tagvalue === "Address" || tagvalue === "Contact")
                            {
                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left text-wrap' style='line-height:1.2'><span id='" + spanid + gn.trim() + "' class='float-left' style='word-break: break-word; '>" + ltpin + "</span></td></tr>");
                            } else
                            {
                                if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                {
                                    if (ltpin === "YES")
                                    {
                                        $('#' + loopsegment + '').find('#' + ltpinid).show();
                                        $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                    } else if (ltpin === "NO")
                                    {
                                        $('#' + loopsegment + '').find('#' + ltpinid).show();
                                        $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;   background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                    } else
                                    {
                                        $('#' + loopsegment + '').find('#' + ltpinid).show();
                                        $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;   background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                    }

                                } else {
                                    if (tagvalue === "Payor Name")
                                    {
                                      //  if (func === "30")
                                      //  {
                                         //   $('#' + loopsegment + '').find('#' + ltpinid).show();
                                          //  $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><h4><span id='" + spanid + gn.trim() + "' class='badge badge-primary float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></h4></td></tr>");
                                       // } else
                                       // {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><h4><span id='" + spanid + gn.trim() + "' class='badge badge-primary float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></h4></td></tr>");
                                       // }
                                      


                                    } else if (tagvalue === "Payor Type")
                                    {
                                      //  if (func === "30")
                                       // {
                                                                                     
                                            if (ltpin === "Primary Payer")
                                            {
                                                
                                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><h4><span id='" + spanid + gn.trim() + "' class='badge badge-warning float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></h4></td></tr>");
                                            } else
                                            {
                                                
                                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                            }

                                     //   } else
                                      //  {
                                      //      $('#' + loopsegment + '').find('#' + ltpinid).show();
                                      //      $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                      //  }


                                    } else
                                    {
                                        $('#' + loopsegment + '').find('#' + ltpinid).show();
                                        $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; '>" + ltpin + "</span></td></tr>");

                                    }
                                }


                            }
                        } else
                        {
                            //  $('#' + loopsegment + '').find('#' + ltpinid).hide();
                        }

                    } else
                    {
                        //  $('#' + loopsegment + '').find('#' + ltpinid).hide();
                    }
                }

                function ErrorHanding(response)
                {
                    var Errorloop = response.Response.filter(obj => obj.Segment === "AAA");
                    //  console.log(Errorloop);
                    if (Errorloop.length > 0)
                    {
                        var AAA1 = response.Response.filter(obj => obj.Parent_1 === "1" && obj.Segment === "AAA");
                        var AAA2 = response.Response.filter(obj => obj.Parent_1 === "2" && obj.Segment === "AAA");
                        var AAA3 = response.Response.filter(obj => obj.Parent_1 === "3" && obj.Segment === "AAA");
                        var AAA4 = response.Response.filter(obj => obj.Parent_1 === "4" && obj.Segment === "AAA");
                        // console.log(AAA1.length);
                        //  console.log(AAA3);
                        if (AAA1.length > 0)
                        {
                            if (typeof (AAA1[0].Element) !== "undefined")
                            {
                                $('#hl1aaa1').text(AAA1[0].AAA01);
                            } else
                            {
                                $('#hl1aaa1row').hide();
                            }
                            if (typeof (AAA1[1].Element) !== "undefined")
                            {
                                $('#hl1aaa2').text(AAA1[1].Element);
                            } else
                            {
                                $('#hl1aaa2row').hide();
                            }
                            if (typeof (AAA1[2].Element) !== "undefined")
                            {
                                $('#hl1aaa3').text(AAA1[2].AAA03);
                            } else
                            {
                                $('#hl1aaa3row').hide();
                            }
                            if (typeof (AAA1[3].Element) !== "undefined")
                            {
                                $('#hl1aaa4').text(AAA1[3].AAA04);
                            } else
                            {
                                $('#hl1aaa4row').hide();
                            }

                        } else
                        {
                            $('#accordionExample4').hide();
                        }
                        if (AAA2.length > 0)
                        {
                            if (typeof (AAA2[0].Element) !== "undefined")
                            {
                                $('#hl2aaa1').text(AAA2[0].AAA01);
                            } else
                            {
                                $('#hl2aaa1row').hide();
                            }
                            if (typeof (AAA2[1].Element) !== "undefined")
                            {
                                $('#hl2aaa2').text(AAA2[1].Element);
                            } else
                            {
                                $('#hl2aaa2row').hide();
                            }
                            if (typeof (AAA2[2].Element) !== "undefined")
                            {
                                $('#hl2aaa3').text(AAA2[2].AAA03);
                            } else
                            {
                                $('#hl2aaa3row').hide();
                            }
                            if (typeof (AAA2[3].Element) !== "undefined")
                            {
                                $('#hl2aaa4').text(AAA2[3].AAA04);
                            } else
                            {
                                $('#hl2aaa4row').hide();
                            }
                        } else
                        {
                            $('#accordionExample5').hide();
                        }
                        if (AAA3.length > 0)
                        {
                            if (typeof (AAA3[0].Element) !== "undefined")
                            {
                                $('#hl3aaa1').text(AAA3[0].AAA01);
                            } else
                            {
                                $('#hl3aaa1row').hide();
                            }
                            if (typeof (AAA3[1].Element) !== "undefined")
                            {
                                $('#hl3aaa2').text(AAA3[1].Element);
                            } else
                            {
                                $('#hl3aaa2row').hide();
                            }
                            if (typeof (AAA3[2].Element) !== "undefined")
                            {
                                $('#hl3aaa3').text(AAA3[2].AAA03);
                            } else
                            {
                                $('#hl3aaa3row').hide();
                            }
                            if (typeof (AAA3[3].Element) !== "undefined")
                            {
                                $('#hl3aaa4').text(AAA3[3].AAA04);
                            } else
                            {
                                $('#hl3aaa4row').hide();
                            }

                        } else
                        {
                            $('#accordionExample6').hide();
                        }
                        if (AAA4.length > 0)
                        {
                            if (typeof (AAA4[0].Element) !== "undefined")
                            {
                                $('#hl4aaa1').text(AAA4[0].AAA01);
                            } else
                            {
                                $('#hl4aaa1row').hide();
                            }
                            if (typeof (AAA4[1].Element) !== "undefined")
                            {
                                $('#hl4aaa2').text(AAA4[1].Element);
                            } else
                            {
                                $('#hl4aaa2row').hide();
                            }
                            if (typeof (AAA4[2].Element) !== "undefined")
                            {
                                $('#hl4aaa3').text(AAA4[2].AAA03);
                            } else
                            {
                                $('#hl4aaa3row').hide();
                            }
                            if (typeof (AAA4[3].Element) !== "undefined")
                            {
                                $('#hl4aaa4').text(AAA4[3].AAA04);
                            } else
                            {
                                $('#hl4aaa4row').hide();
                            }
                        } else
                        {
                            $('#accordionExample7').hide();
                        }
                    } else
                    {
                        $('#accordionExample4').hide();
                        $('#accordionExample5').hide();
                        $('#accordionExample6').hide();
                        $('#accordionExample7').hide();
                    }

                }

                function DTP(dtp1, dtp2, dtp3)
                {
                    // console.log(dtp1);
                    var result = '';
                    if (dtp3.length > 0)
                    {
                        if (dtp2.length > 0)
                        {
                            if (dtp2[0].Element === "D8")
                            {
                                result = dtp1[0].dtp + "~" + conversion(dtp3[0].Element);

                            } else if (dtp2[0].Element === "RD8")
                            {
                                var splitstr = dtp3[0].Element;
                                var dtp = splitstr.split('-');
                                result = dtp1[0].dtp + "~" + conversion(dtp[0]) + " - " + conversion(dtp[1]);
                            }
                        }
                    }
                    return result;
                }

                function msgsegment(msg)
                {
                    if (msg.length > 0)
                    {
                        if (msg.length > 1)
                        {
                            var ltinmsg = '';
                            for (var i = 0; i < msg.length; i++)
                            {
                                var incStr = msg[i].Element;
                                var checkmsg = incStr.search("SEQ#");
                                if (checkmsg === -1)
                                {
                                    ltinmsg = ltinmsg + msg[i].Element + "<br>";
                                }

                                // ltinmsg = ltinmsg + msg[i].Element + "<br>";
                            }

                        } else
                        {
                            //  ltinmsg = msg[0].Element;
                            var incStr = msg[0].Element;
                            var checkmsg = incStr.search("SEQ#");
                            if (checkmsg === -1)
                            {
                                ltinmsg = msg[0].Element;
                            }
                        }
                        return ltinmsg;
                    }
                }

                function Netword(f1, f2, f3, f13, f23, f33, ded, net, met, metnet, rem, remnet, dedmsg, metmsg,
                        remmsg, dettxt, detnettext, detrow, detnetrow, mettxt, metnettxt, metrow, metnetrow, remtxt, remnettxt, remrow, remnetrow,
                        msgtxt1, msgtxt2, msgtxt3, msgrow1, msgrow2, msgrow3)
                {
                    if (f1 === true)
                    {
                        // console.log(famded[0].Element);
                        if (ded.length > 0)
                        {
                            $('#' + dettxt + '').text("$ " + ded[0].Element);
                        }
                        if (net.length > 0)
                        {
                            // $('#' + detnettext + '').html(net[0].eb12);
                            $('#' + detnetrow + '').hide();
                        }
                    } else
                    {
                        $('#' + detrow + '').hide();
                        $('#' + detnetrow + '').hide();
                    }
                    if (f2 === true)
                    {
                        if (met.length > 0)
                        {
                            $('#' + mettxt + '').text("$ " + met[0].Element);
                        }
                        if (metnet.length > 0)
                        {
                            // $('#' + metnettxt + '').html(metnet[0].eb12);
                            $('#' + metnetrow + '').hide();
                        }
                    } else
                    {
                        $('#' + metrow + '').hide();
                        $('#' + metnetrow + '').hide();
                    }
                    if (f3 === true)
                    {

                        if (rem.length > 0)
                        {

                            $('#' + remtxt + '').text("$ " + rem[0].Element);
                        }
                        if (remnet.length > 0)
                        {
                            // $('#' + remnettxt + '').html(remnet[0].eb12);
                            $('#' + remnetrow + '').hide();
                        }
                        //Family Deduction End
                    } else
                    {
                        $('#' + remrow + '').hide();
                        $('#' + remnetrow + '').hide();
                    }

                    if (f13 === true && f23 === true && f33 === true)
                    {
                        var fammsg = '';
                        var fammsg1 = '';
                        var fammsg2 = '';
                        if (dedmsg.length > 1)
                        {

                            for (var i = 0; i < dedmsg.length; i++)
                            {
                                fammsg = fammsg + dedmsg[i].Element + "<br>";
                            }

                            $('#' + msgtxt1 + '').html(fammsg);
                            // console.log(fammsg);
                            // fammsg = famdedmsg[0].Element + "<br>" + famdedmsg[1].Element;
                        } else if (dedmsg.length > 0)
                        {
                            fammsg = dedmsg[0].Element;
                            $('#' + msgtxt1 + '').html(fammsg);
                        }

                        if (metmsg.length > 1)
                        {

                            for (var i = 0; i < metmsg.length; i++)
                            {
                                fammsg1 = fammsg1 + metmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt2 + '').html(fammsg1);
                            //  fammsg1 = fammetmsg[0].Element + "<br>" + fammetmsg[1].Element;
                        } else if (metmsg.length > 0)
                        {
                            fammsg1 = metmsg[0].Element;
                            $('#' + msgtxt2 + '').html(fammsg1);
                        }


                        if (remmsg.length > 1)
                        {

                            for (var i = 0; i < remmsg.length; i++)
                            {
                                fammsg2 = fammsg2 + remmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt3 + '').html(fammsg2);
                            // fammsg2 = famdedremmsg[0].Element + "<br>" + famdedremmsg[1].Element;
                        } else if (remmsg.length > 0)
                        {
                            fammsg2 = remmsg[0].Element;
                            $('#' + msgtxt3 + '').html(fammsg2);
                        }


                    } else if (f13 === true && f23 === true && f33 === false)
                    {

                        var fammsg = '';
                        var fammsg1 = '';
                        if (dedmsg.length > 1)
                        {
                            for (var i = 0; i < dedmsg.length; i++)
                            {
                                fammsg = fammsg + dedmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt1 + '').html(fammsg);
                            // fammsg = famdedmsg[0].Element + "<br>" + famdedmsg[1].Element;
                        } else if (dedmsg.length > 0)
                        {
                            fammsg = dedmsg[0].Element;
                            $('#' + msgtxt1 + '').html(fammsg);
                        }

                        if (metmsg.length > 1)
                        {
                            for (var i = 0; i < metmsg.length; i++)
                            {
                                fammsg1 = fammsg1 + metmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt2 + '').html(fammsg1);
                            // fammsg1 = fammetmsg[0].Element + "<br>" + fammetmsg[1].Element;
                        } else if (metmsg.length > 0)
                        {
                            fammsg1 = metmsg[0].Element;
                            $('#' + msgtxt2 + '').html(fammsg1);
                        }




                        $('#' + msgrow3 + '').hide();
                    } else if (f13 === true && f23 === false && f33 === false)
                    {
                        var fammsg = '';
                        // console.log(dedmsg);
                        if (dedmsg.length > 1)
                        {
                            //fammsg = famdedmsg[0].Element + "<br>" + famdedmsg[1].Element;
                            for (var i = 0; i < dedmsg.length; i++)
                            {
                                fammsg = fammsg + dedmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt1 + '').html(fammsg);
                        } else if (dedmsg.length > 0)
                        {
                            fammsg = dedmsg[0].Element;
                            $('#' + msgtxt1 + '').html(fammsg);
                        }
                        // console.log(msgtxt1);

                        $('#' + msgrow2 + '').hide();
                        $('#' + msgrow3 + '').hide();
                    } else if (f13 === false && f23 === true && f33 === false)
                    {
                        var fammsg1 = '';
                        if (metmsg.length > 1)
                        {
                            for (var i = 0; i < metmsg.length; i++)
                            {
                                fammsg1 = fammsg1 + metmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt2 + '').html(fammsg1);
                            // fammsg1 = fammetmsg[0].Element + "<br>" + fammetmsg[1].Element;
                        } else if (metmsg.length > 0)
                        {
                            fammsg1 = metmsg[0].Element;
                            $('#' + msgtxt2 + '').html(fammsg1);
                        }


                        $('#' + msgrow1 + '').hide();
                        $('#' + msgrow3 + '').hide();
                    } else if (f13 === false && f23 === false && f33 === true)
                    {

                        var fammsg2 = '';
                        if (remmsg.length > 1)
                        {
                            for (var i = 0; i < remmsg.length; i++)
                            {
                                fammsg2 = fammsg2 + remmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt3 + '').html(fammsg2);
                            //fammsg2 = famdedremmsg[0].Element + "<br>" + famdedremmsg[1].Element;
                        } else if (remmsg.length > 0)
                        {
                            fammsg2 = remmsg[0].Element;
                            $('#' + msgtxt3 + '').html(fammsg2);
                        }
                        $('#' + msgrow1 + '').hide();
                        $('#' + msgrow2 + '').hide();
                    } else if (f13 === false && f23 === true && f33 === true)
                    {
                        var fammsg1 = '';
                        var fammsg2 = '';
                        if (metmsg.length > 1)
                        {
                            for (var i = 0; i < metmsg.length; i++)
                            {
                                fammsg1 = fammsg1 + metmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt2 + '').html(fammsg1);
                            // fammsg1 = fammetmsg[0].Element + "<br>" + fammetmsg[1].Element;
                        } else if (metmsg.length > 0)
                        {
                            fammsg1 = metmsg[0].Element;
                            $('#' + msgtxt2 + '').html(fammsg1);
                        }

                        if (remmsg.length > 1)
                        {
                            for (var i = 0; i < remmsg.length; i++)
                            {
                                fammsg2 = fammsg2 + remmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt3 + '').html(fammsg2);
                            // fammsg2 = famdedremmsg[0].Element + "<br>" + famdedremmsg[1].Element;
                        } else if (remmsg.length > 0)
                        {
                            fammsg2 = remmsg[0].Element;
                            $('#' + msgtxt3 + '').html(fammsg2);
                        }



                        $('#' + msgrow1 + '').hide();
                    } else if (f13 === true && f23 === false && f33 === true)
                    {
                        var fammsg = '';
                        var fammsg2 = '';
                        if (dedmsg.length > 1)
                        {
                            for (var i = 0; i < dedmsg.length; i++)
                            {
                                fammsg = fammsg + dedmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt1 + '').html(fammsg);
                            // fammsg = famdedmsg[0].Element + "<br>" + famdedmsg[1].Element;
                        } else if (dedmsg.length > 0)
                        {

                            fammsg = dedmsg[0].Element;
                            $('#' + msgtxt1 + '').html(fammsg);
                        }

                        if (remmsg.length > 1)
                        {
                            for (var i = 0; i < remmsg.length; i++)
                            {
                                fammsg2 = fammsg2 + remmsg[i].Element + "<br>";
                            }
                            $('#' + msgtxt3 + '').html(fammsg2);
                            //  fammsg2 = famdedremmsg[0].Element + "<br>" + famdedremmsg[1].Element;
                        } else if (remmsg.length > 0)
                        {
                            fammsg2 = remmsg[0].Element;
                            $('#' + msgtxt3 + '').html(fammsg2);
                        }

                        $('#' + msgrow2 + '').hide();
                    } else if (f13 === false && f23 === false && f33 === false)
                    {

                        $('#' + msgrow1 + '').hide();
                        $('#' + msgrow2 + '').hide();
                        $('#' + msgrow3 + '').hide();
                        // $('#accordionExample').hide();
                    }
                }


                function Network1(f1, f2, f3, f4, coval, dtp, msg, info, covalttxt, dtptxt, msgtxt, infotxt, covalrow, dtprow, msgrow, inforow,
                        dtphead, type, copay6segment)
                {
                    if (f1 === true)
                    {
                        // console.log(famded[0].Element);
                        if (coval.length > 0)
                        {
                            if (type === "coins")
                            {
                                if (typeof (coval[0].Element) !== "undefined")
                                {
                                    var coinsper = parseFloat(coval[0].Element) * 100;
                                    coinsper = coinsper + " %";
                                    $('#' + covalttxt + '').text(coinsper);
                                }

                            } else if (type === "copay")
                            {
                                var element6val = '';
                                if (copay6segment.length > 0)
                                {
                                    if (typeof (copay6segment[0].Element) !== "undefined")
                                    {
                                        element6val = (copay6segment[0].eb06);
                                    }
                                }

                                if (typeof (coval[0].Element) !== "undefined")
                                {
                                    if (element6val !== '')
                                    {
                                        var copayval = parseFloat(coval[0].Element) + " / " + element6val;
                                        copayval = "$ " + copayval;
                                        $('#' + covalttxt + '').text(coinsper);
                                    } else
                                    {
                                        var copayval = parseFloat(coval[0].Element);
                                        copayval = "$ " + copayval;
                                        $('#' + covalttxt + '').text(coinsper);
                                    }

                                }

                            } else if (type === "ded")
                            {
                                if (typeof (coval[0].Element) !== "undefined")
                                {
                                    var coinsper = parseFloat(coval[0].Element);
                                    coinsper = "$ " + coinsper;
                                    $('#' + covalttxt + '').text(coinsper);
                                }
                            }

                        }

                    } else
                    {
                        $('#' + covalrow + '').hide();
                    }
                    if (f4 === true)
                    {
                        var dtpval = dtp.split('~');
                        //console.log(dtpval[0]);
                        if (dtpval.length > 0)
                        {
                            $('#' + dtptxt + '').text(dtpval[1]);
                            $('#' + dtphead + '').text(dtpval[0]);
                        } else
                        {
                            $('#' + dtptxt + '').hide();
                            $('#' + dtphead + '').hide();
                        }


                    } else
                    {
                        $('#' + dtprow + '').hide();
                    }
                    if (f2 === true)
                    {

                        if (msg.length > 0)
                        {

                            $('#' + msgtxt + '').text("$ " + msg[0].Element);
                        }

                        //Family Deduction End
                    } else
                    {

                        $('#' + msgrow + '').hide();
                    }

                    if (f3 === true)
                    {

                        if (info.length > 0)
                        {

                            $('#' + infotxt + '').text("$ " + info[0].Element);
                        }

                        //Family Deduction End
                    } else
                    {
                        $('#' + inforow + '').hide();
                    }

                }



                function iiimsgsegment(msg)
                {
                    if (msg.length > 0)
                    {
                        if (msg.length > 1)
                        {
                            var ltinmsg = '';
                            for (var i = 0; i < msg.length; i++)
                            {
                                // var iii01 =  msg[i].III01;
                                // var iii02 =  msg[i].III02;
                                //ltinmsg = ltinmsg + iii01 + " | "+ iii02 + "<br>";
                                if (typeof (msg[i].III02) !== "undefined")
                                {

                                    if (typeof (msg[i].III01) !== "undefined")
                                    {

                                        ltinmsg = ltinmsg + msg[i].III01 + " | " + msg[i].III02 + " ";
                                    } else
                                    {
                                        ltinmsg = ltinmsg + msg[i].III02 + " ";
                                    }


                                } else
                                {
                                    if (typeof (msg[i].III01) !== "undefined")
                                    {
                                        ltinmsg = ltinmsg + msg[i].III01 + " ";
                                        //  ltinmsg = ltinmsg + msg[i].III01 + " | " + msg[i].III02 + "<br>";
                                    }

                                }
                            }
                        }
                    } else
                    {
                        if (typeof (msg[i].III01) !== "undefined")
                        {
                            ltinmsg = msg[0].III01;
                        }
                        if (typeof (msg[i].III02) !== "undefined")
                        {
                            ltinmsg = msg[0].III02;
                        }

                    }
                    return ltinmsg;
                }

                function FetSegment30Loop(response, Elementval)
                {

                
                    var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element === "F" && obj.Parent_2 === "30");
                    if (segloop.length === 0)
                    {
                        $('#generallimitation').hide();
                    } else
                    {
                        $('#loopsegment1').html('');
                        const segloopGroupedBy = groupBy(segloop, 'Element');
                        for (var groupname in segloopGroupedBy) {

                            for (var j = 0; j < segloopGroupedBy[groupname].length; j++)
                            {
                                var gn = segloopGroupedBy[groupname][j].Tid;
                                var gnid = segloopGroupedBy[groupname][j].Parent_4;
                                var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                                //  console.log(segloopGroupedBy[groupname][j].benefit_type);
                                var res = "";
                                if (typeof (segloopGroupedBy[groupname][j].benefit_type) !== "undefined")
                                {
                                    res = segloopGroupedBy[groupname][j].benefit_type.split("^");
                                }

                                var selectstring = "";
                            
                             var selected = segloopGroupedBy[groupname][j].benefit_type_des;
                            if(selected.length > 0)
                            {
                                selectstring = segloopGroupedBy[groupname][j].benefit_type_des;
                            }
                            else
                            {
                                selectstring = "Undefine " + segloopGroupedBy[groupname][j].benefit_type_des + " /";
                            }
                                var benefittype = selectstring;
                              //  benefittype = benefittype.slice(0, benefittype.length - 1);
                                if (benefittype !== "")
                                {
                                    $('#loopsegment1').append("<div class='accordion' id= 'accordionExampleloop" + segmentid.trim() + "'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingTwo" + gn.trim() + "'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseTwo" + gn.trim() + "' aria-expanded='false' aria-controls='collapseTwo" + gn.trim() + "'><i class='fas fa-angle-down rotate-icon'></i> " + benefittype + " </a></h5></div>" +
                                            "<div id='collapseTwo" + gn.trim() + "' class='collapse card-body' aria-labelledby='headingTwo" + gn.trim() + "' data-parent='#accordionExampleloop" + segmentid.trim() + "'>" +
                                            "<div class='card-body task-details'>" +
                                            "<table class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody>" +
                                            "</tbody> </table>" + "</div></div></div></div></div>");
                                }
                            }
                        }

                        var ltpin = "";
                        var lqin = "";
                        var lain = "";
                        var lpin = "";
                        var lpautin = "";
                        var lpquain = "";
                        var ltpout = "";
                        var lqout = "";
                        var laout = "";
                        var lpout = "";
                        var lpautout = "";
                        var lpquaout = "";
                        var ltpany = "";
                        var lqany = "";
                        var laany = "";
                        var lpany = "";
                        var lpautany = "";
                        var lpquaany = "";
                        var ltinmsg = "";
                        var ltininfo = "";
                        var ltoutmsg = "";
                        var ltanymsg = "";
                        for (var groupname1 in segloopGroupedBy) {

                            for (var j = 0; j < segloopGroupedBy[groupname1].length; j++)
                            {
                                var colimitsegmentdetails = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "12");
                                var msg = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "MSG");
                                var info = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "III");
                                var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                                var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                                var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                                var outelement9 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "9");
                                var outelement10 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "10");

                                //  console.log(colimitsegmentdetails);
                                if (colimitsegmentdetails.length === 0)
                                {
                                    var colimitsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "1");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "6");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "8");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "9");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails1[0].Parent_4 && obj.Element_id === "10");
                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = element6[0].eb06;
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            lain = "$ " + element7[0].Element + " / " + preindex;
                                        }

                                        //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lain, " | Limitation ", "Limitation amount", "coinslainval", "loopsegment1", "", "L");
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='coinslain" + gn.trim() + "'><th> Limitation Amount IN </th><td class='text-right'><span id='coinslainval" + gn.trim() + "' class='text-primary'>" + lain + "</span></td></tr>");
                                    }

                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpin = parseFloat(element8[0].Element) * 100;
                                            lpin = lpin + " %";
                                        }

                                        //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpin, "", "Limitation Percentage", "coinslpinval", "loopsegment1", "", "");
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='coinslpin" + gn.trim() + "'><th> Limitation Percentage IN </th><td class='text-right'><span id='coinslpinval" + gn.trim() + "' class='text-primary'>" + lpin + "</span></td></tr>");
                                    }

                                    if (element9.length > 0)
                                    {

                                        // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element9[0].eb09, "", "Limitation Qualifier", "coinslqinval", "loopsegment1", "9", "");
                                    }


                                    if (element10.length > 0)
                                    {
                                        if (element9.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element9[0].Element) !== "undefined")
                                            {
                                                preindex = " " + element9[0].eb09;
                                            }
                                            if (typeof (element10[0].Element) !== "undefined")
                                            {
                                                preindex = element10[0].Element + preindex;
                                            }

                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "", "Limitation Quantity", "coinslpquainval", "loopsegment1", "", "");
                                        } //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                    }


                                    if (element11.length > 0)
                                    {
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, "", "Authorization Requirement", "coinslpautinval", "loopsegment1", "11", "");
                                        //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                    }
                                    /*  if (msg.length > 0)
                                     {
                                         
                                     ltinmsg = msgsegment(msg);
                                     Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "coinsltinmsgmsgval", "loopsegment1", "", "");
                                     // $('#loopsegment .table').find('tbody').append("<tr  id='coinsltinmsgmsg" + gn.trim() + "'><th> Limitation IN MSG</th><td class='text-right'><span id='coinsltinmsgmsgval" + gn.trim() + "' class='text-primary'>" + ltinmsg + "</span></td></tr>");
                                     }*/

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinsltindtpval", "loopsegment1", "", "");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinsltindtpval1", "loopsegment1", "", "");
                                            }
                                        }
                                    }


                                }

                                if (colimitsegmentdetails.length > 0)
                                {

                                    if (colimitsegmentdetails[0].Element === "Y")
                                    {
                                        var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                        var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                        var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                        var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                        var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                        var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");
                                        if (element6.length > 0)
                                        {

                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element6[0].eb06, " | Limitation | In Network", "Limitation Time Period", "coinsltpval", "loopsegment1", "6", "L");
                                        }

                                        if (element7.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element6[0].Element) !== "undefined")
                                            {
                                                preindex = element6[0].eb06;
                                            }

                                            if (typeof (element7[0].Element) !== "undefined")
                                            {
                                                lain = "$ " + element7[0].Element + " / " + preindex;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lain, " | Limitation | In Network", "Limitation amount", "coinslainval", "loopsegment1", "", "L");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='coinslain" + gn.trim() + "'><th> Limitation Amount IN </th><td class='text-right'><span id='coinslainval" + gn.trim() + "' class='text-primary'>" + lain + "</span></td></tr>");
                                        }
                                        if (element8.length > 0)
                                        {

                                            if (typeof (element8[0].Element) !== "undefined")
                                            {
                                                lpin = parseFloat(element8[0].Element) * 100;
                                                lpin = lpin + " %";
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpin, "", "Limitation Percentage", "coinslpinval", "loopsegment1", "", "");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='coinslpin" + gn.trim() + "'><th> Limitation Percentage IN </th><td class='text-right'><span id='coinslpinval" + gn.trim() + "' class='text-primary'>" + lpin + "</span></td></tr>");
                                        }

                                        if (element9.length > 0)
                                        {

                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element9[0].eb09, "", "Limitation Qualifier", "coinslqinval", "loopsegment1", "9", "");
                                        }

                                        if (element10.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element9[0].Element) !== "undefined")
                                            {
                                                preindex = " " + element9[0].eb09;
                                            }
                                            if (typeof (element10[0].Element) !== "undefined")
                                            {
                                                preindex = element10[0].Element + preindex;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "", "Limitation Quantity", "coinslpquainval", "loopsegment1", "", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                        }


                                        if (element11.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, "", "Authorization Requirement", "coinslpautinval", "loopsegment1", "11", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                        }
                                        /*  if (msg.length > 0)
                                         {
                                             
                                         ltinmsg = msgsegment(msg);
                                         Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "coinsltinmsgmsgval", "loopsegment1", "", "");
                                         // $('#loopsegment .table').find('tbody').append("<tr  id='coinsltinmsgmsg" + gn.trim() + "'><th> Limitation IN MSG</th><td class='text-right'><span id='coinsltinmsgmsgval" + gn.trim() + "' class='text-primary'>" + ltinmsg + "</span></td></tr>");
                                         }*/

                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinsltindtpval", "loopsegment1", "", "");
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinsltindtpval1", "loopsegment1", "", "");
                                                }
                                            }
                                        }
                                        // dtpfun(dtp1, dtpheader1, dtpval1, 'dtpval1', 'dtpheader1', 'dep1');




                                    } else if (colimitsegmentdetails[0].Element === "N")
                                    {
                                        var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                        var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                        var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                        var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                        var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                        var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");
                                        if (element6.length > 0)
                                        {
                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element6[0].eb06, " | Limitation | Out of Network", "Limitation Time Period", "cooutltpoutval", "loopsegment1", "6", "L");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='cooutltpout" + gn.trim() + "'><th> Limitation Time Period OUT </th><td class='text-right'><span id='cooutltpoutval" + gn.trim() + "' class='text-primary'>" + ltpout + "</span></td></tr>");
                                        }

                                        if (element7.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element6[0].Element) !== "undefined")
                                            {
                                                preindex = element6[0].eb06;
                                            }

                                            if (typeof (element7[0].Element) !== "undefined")
                                            {
                                                laout = "$ " + element7[0].Element + " / " + preindex;
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, laout, " | Limitation | Out of Network", "Limitation Amount", "cooutltpoutval", "loopsegment1", "", "L");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='coinslaout" + gn.trim() + "'><th> Limitation Amount OUT </th><td class='text-right'><span id='coinslaoutval" + gn.trim() + "' class='text-primary'>" + laout + "</span></td></tr>");
                                        }
                                        if (element8.length > 0)
                                        {
                                            if (typeof (element8[0].Element) !== "undefined")
                                            {
                                                lpout = parseFloat(element8[0].Element) * 100;
                                                lpout = lpout + " %";
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpout, "", "Limitation Percentage", "coinslaoutval", "loopsegment1", "", "");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='coinslpout" + gn.trim() + "'><th> Limitation Percentage OUT </th><td class='text-right'><span id='coinslpoutval" + gn.trim() + "' class='text-primary'>" + lpout + "</span></td></tr>");
                                        }

                                        if (element9.length > 0)
                                        {
                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element9[0].eb09, "", "Limitation Qualifier", "coinslpquaoutval", "loopsegment1", "9", "");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='cooutlqout" + gn.trim() + "'><th> Limitation Qualifier OUT </th><td class='text-right'><span id='cooutlqoutval" + gn.trim() + "' class='text-primary'>" + lqout + "</span></td></tr>");
                                        }

                                        if (element10.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element9[0].Element) !== "undefined")
                                            {
                                                preindex = "  " + element9[0].eb09;
                                            }
                                            if (typeof (element10[0].Element) !== "undefined")
                                            {
                                                preindex = element10[0].Element + preindex;
                                            }
                                            // preindex = element10[0].Element + preindex;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "", "Limitation Quantity", "coinslpquaoutval", "loopsegment1", "", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                        }


                                        if (element11.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, "", "Authorization Requirement", "coinslpautoutval", "loopsegment1", "11", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautout" + gn.trim() + "'><th> Limitation Authorization OUT </th><td class='text-right'><span id='coinslpautoutval" + gn.trim() + "' class='text-primary'>" + lpautout + "</span></td></tr>");
                                        }

                                        /*   if (msg.length > 0)
                                         {
                                         ltinmsg = msgsegment(msg);
                                         Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "coinsltoutmsgval", "loopsegment1", "", "");
                                         }*/

                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinsltoutdtpval", "loopsegment1", "", "");
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinsltoutdtpval1", "loopsegment1", "", "");
                                                }
                                            }
                                        }

                                    } else if (colimitsegmentdetails[0].Element === "W")
                                    {
                                        var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                        var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                        var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                        var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                        var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                        var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");
                                        if (element6.length > 0)
                                        {
                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element6[0].eb06, " | Limitation | Any", "Limitation Time Period", "cooutltpanyval", "loopsegment1", "6", "L");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='cooutltpany" + gn.trim() + "'><th> Limitation Time Period ANY </th><td class='text-right'><span id='cooutltpanyval" + gn.trim() + "' class='text-primary'>" + ltpany + "</span></td></tr>");
                                        }

                                        if (element7.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element6[0].Element) !== "undefined")
                                            {
                                                preindex = element6[0].eb06;
                                            }

                                            if (typeof (element7[0].Element) !== "undefined")
                                            {
                                                laany = "$ " + element7[0].Element + " / " + preindex;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, laany, " | Limitation | Any", "Limitation Amount", "coinslaanyval", "loopsegment1", "", "L");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='coinslaany" + gn.trim() + "'><th> Limitation Amount ANY </th><td class='text-right'><span id='coinslaanyval" + gn.trim() + "' class='text-primary'>" + laany + "</span></td></tr>");
                                        }
                                        if (element8.length > 0)
                                        {

                                            if (typeof (element8[0].Element) !== "undefined")
                                            {
                                                lpany = parseFloat(element8[0].Element) * 100;
                                                lpany = lpany + " %";
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpany, "", "Limitation Percentage", "coinslpanyval", "loopsegment1", "", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpany" + gn.trim() + "'><th> Limitation Percentage ANY </th><td class='text-right'><span id='coinslpanyval" + gn.trim() + "' class='text-primary'>" + lpany + "</span></td></tr>");
                                        }

                                        if (element9.length > 0)
                                        {
                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element9[0].eb09, "", "Limitation Qualifier", "cooutlqanyval", "loopsegment1", "9", "");
                                            // $('#loopsegment .table').find('tbody').append("<tr  id='cooutlqany" + gn.trim() + "'><th> Limitation Qualifier ANY </th><td class='text-right'><span id='cooutlqanyval" + gn.trim() + "' class='text-primary'>" + lqany + "</span></td></tr>");
                                        }

                                        if (element10.length > 0)
                                        {
                                            var preindex = '';
                                            if (typeof (element9[0].Element) !== "undefined")
                                            {
                                                preindex = "  " + element9[0].eb09;
                                            }
                                            if (typeof (element10[0].Element) !== "undefined")
                                            {
                                                preindex = element10[0].Element + preindex;
                                            }
                                            // preindex = element10[0].Element + preindex;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "", "Limitation Quantity", "coinslpquaanyval", "loopsegment1", "", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                        }


                                        if (element11.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, "", "Authorization Requirement", "coinslpautanyval", "loopsegment1", "11", "");
                                            //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautany" + gn.trim() + "'><th> Limitation Authorization ANY </th><td class='text-right'><span id='coinslpautanyval" + gn.trim() + "' class='text-primary'>" + lpautany + "</span></td></tr>");
                                        }
                                        /* if (msg.length > 0)
                                         {
                                         ltinmsg = msgsegment(msg);
                                         Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "coinsltanymsgval", "loopsegment1", "", "");
                                         //$('#loopsegment .table').find('tbody').append("<tr  id='coinsltanymsg" + gn.trim() + "'><th> Limitation ANY MSG</th><td class='text-right'><span id='coinsltanymsgval" + gn.trim() + "' class='text-primary'>" + ltanymsg + "</span></td></tr>");
                                         }*/
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinsltanydtpval", "loopsegment1", "", "");
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinsltanydtpval1", "loopsegment1", "", "");
                                                }
                                            }
                                        }
                                        // ltanymsg = msg;
                                    }
                                } else
                                {





                                }



                                if (outelement9.length > 0)
                                {

                                    //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, outelement9[0].eb09, "", "Limitation Qualifier", "coinslqinval", "loopsegment1", "9", "");
                                }

                                if (outelement10.length > 0)
                                {
                                    var preindex = '';
                                    if (typeof (outelement9[0].Element) !== "undefined")
                                    {
                                        preindex = " " + outelement9[0].eb09;
                                    }
                                    if (typeof (outelement10[0].Element) !== "undefined")
                                    {
                                        preindex = outelement10[0].Element + preindex;
                                    }

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "", "Limitation Quantity", "coinslpquainval", "loopsegment1", "", "");
                                    //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                }

                                if (msg.length > 0)
                                {

                                    ltinmsg = msgsegment(msg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "coinsltinmsgmsgval" + segloopGroupedBy[groupname1][j].Tid, "loopsegment1", "", "");
                                    // $('#loopsegment .table').find('tbody').append("<tr  id='coinsltinmsgmsg" + gn.trim() + "'><th> Limitation IN MSG</th><td class='text-right'><span id='coinsltinmsgmsgval" + gn.trim() + "' class='text-primary'>" + ltinmsg + "</span></td></tr>");
                                }

                                if (info.length > 0)
                                {

                                    ltininfo = iiimsgsegment(info);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltininfo, "", "Info", "coinsltinmsgmsgval" + segloopGroupedBy[groupname1][j].Tid, "loopsegment1", "", "");
                                    // $('#loopsegment .table').find('tbody').append("<tr  id='coinsltinmsgmsg" + gn.trim() + "'><th> Limitation IN MSG</th><td class='text-right'><span id='coinsltinmsgmsgval" + gn.trim() + "' class='text-primary'>" + ltinmsg + "</span></td></tr>");
                                }




                            }
                        }

                    }

                }




                function FetchUncoveredsegment(response)
                {
                   /* if (typeof (benefittypecode) === "undefined" || benefittypecode === "")
                    {
                        _.defer($.ajax({
                            url: "getebbenefittype",
                            type: "get", //send it through get method
                            success: function (dbresponse) {
                                var txt = dbresponse;
                                var response1 = jQuery.parseJSON(txt);
                                if (response1.Response.length > 0)
                                {
                                    benefittypecode = response1.Response;
                                    //console.log(response.Response);
                                }
                            }
                        }));
                    } */

                    var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "I");
                    //   console.log(segloop);
                    // var segloop1 = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "3" && obj.Parent_2 === segment);
                    // console.log(segloop);
                    $('#loopsegment5').html('');
                    const segloopGroupedBy = groupBy(segloop, 'Element');
                    // console.log(segloopGroupedBy);

                    for (var groupname in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname].length; j++)
                        {
                            // console.log(segloopGroupedBy[groupname][j].benefit_type);
                            var gn = segloopGroupedBy[groupname][j].Tid;
                            var gnid = segloopGroupedBy[groupname][j].Parent_4;
                            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                            //  console.log(segloopGroupedBy[groupname][j].benefit_type);
                            var res = "";
                            if (typeof (segloopGroupedBy[groupname][j].benefit_type) !== "undefined")
                            {
                                res = segloopGroupedBy[groupname][j].benefit_type.split("^");
                            }

                            var selectstring = "";
                          /*  for (var k = 0; k < res.length; k++)
                            {
                                var selected = benefittypecode.filter(obj => obj.benefit_code === res[k]);
                                if (selected.length > 0)
                                {
                                    // console.log(selected);
                                    var n = selectstring.includes(selected[0].benefit_type);
                                    if (!n)
                                    {
                                        selectstring = selectstring + selected[0].benefit_type + " /";
                                    }

                                } else
                                {
                                    selectstring = "Undefine " + res[k] + " /";
                                }

                            } */
                            
                             var selected = segloopGroupedBy[groupname][j].benefit_type_des;
                            if(selected.length > 0)
                            {
                                selectstring = segloopGroupedBy[groupname][j].benefit_type_des;
                            }
                            else
                            {
                                selectstring = "Undefine " + segloopGroupedBy[groupname][j].benefit_type_des + " /";
                            }
                            
                            var benefittype = selectstring;
                          //  benefittype = benefittype.slice(0, benefittype.length - 1);
                            // console.log(benefittype);
                            if (benefittype !== "")
                            {
                                $('#loopsegment5').append("<div class='accordion' id= 'accordionExampleloop" + segmentid.trim() + "'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingTwo" + gn.trim() + "'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseTwo" + gn.trim() + "' aria-expanded='false' aria-controls='collapseTwo" + gn.trim() + "'><i class='fas fa-angle-down rotate-icon'></i> " + benefittype + " </a></h5></div>" +
                                        "<div id='collapseTwo" + gn.trim() + "' class='collapse card-body' aria-labelledby='headingTwo" + gn.trim() + "' data-parent='#accordionExampleloop" + segmentid.trim() + "'>" +
                                        "<div class='card-body task-details'>" +
                                        "<table class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2; margin-top: 1px;'><tbody>" +
                                        "</tbody> </table>" + "</div></div></div></div></div>");
                            }
                        }

                    }

                    var uncovermsgval = '';
                    //  var uncovermsgval = '';
                    for (var groupname1 in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                        {

                            var uncoveredmsg = response.Response.filter(obj => obj.Parent_2 === segloopGroupedBy[groupname1][j].Parent_2 && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "MSG");
                            // console.log(uncoveredmsg);
                            var uncoveredinfo = response.Response.filter(obj => obj.Parent_2 === segloopGroupedBy[groupname1][j].Parent_2 && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "III");
                            var undtpsegment1 = response.Response.filter(obj => obj.Parent_2 === segloopGroupedBy[groupname1][j].Parent_2 && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var undtpsegment2 = response.Response.filter(obj => obj.Parent_2 === segloopGroupedBy[groupname1][j].Parent_2 && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var undtpsegment3 = response.Response.filter(obj => obj.Parent_2 === segloopGroupedBy[groupname1][j].Parent_2 && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                            var uncovered1 = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "12");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "5");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "6");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4 && obj.Element_id === "7");

                            var eb6val = '';
                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible
                                    // if (EB6Segment[0].Element === "23")
                                    // {
                                    eb6val = " | " + EB6Segment[0].eb06;
                                    // }
                                }
                            }



                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {

                                if (uncovered1.length > 0)
                                {
                                    if (typeof (uncovered1[0].Element) !== "undefined")
                                    {
                                        var netwk = '';
                                        if (uncovered1.length > 0)
                                        {
                                            if (uncovered1[0].Element === "Y")
                                            {
                                                netwk = "In Network";
                                            } else if (uncovered1[0].Element === "N")
                                            {
                                                netwk = "Out of Network";
                                            } else if (uncovered1[0].Element === "W")
                                            {
                                                netwk = "Any";
                                            } else if (uncovered1[0].Element === "U")
                                            {
                                                netwk = "Network-Unknown";
                                            }
                                        } else
                                        {
                                            netwk = "Network-Unknown";
                                        }
                                    }
                                }


                                if (undtpsegment3.length > 0)
                                {
                                    if (undtpsegment2.length > 0)
                                    {
                                        if (undtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(undtpsegment3[0].Element), "", undtpsegment1[0].dtp, "uncovereddtpval", "loopsegment5", "", "");
                                        } else if (undtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = undtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", undtpsegment1[0].dtp, "uncovereddtpval1", "loopsegment5", "", "");
                                        }
                                    }
                                }

                                if (uncoveredmsg.length > 0)
                                {
                                    uncovermsgval = msgsegment(uncoveredmsg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, " | " + netwk, "MSG", "uncoveredmsg", "loopsegment5", "", "");
                                }
                                if (uncoveredinfo.length > 0)
                                {
                                    uncovermsgval = iiimsgsegment(uncoveredinfo);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, "", "POS", "uncoveredinfo", "loopsegment5", "", "");
                                }


                            } else
                            {
                                if (uncovered1.length === 0)
                                {
                                    if (EB2Segment.length > 0)
                                    {

                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                header = eb6val + ' | Family | ';

                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                header = eb6val + ' | Individual | ';

                                            } else
                                            {
                                                header = ' ';

                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                        }
                                    }

                                    var eb06 = '';
                                    if (EB6Segment.length > 0)
                                    {
                                        if (typeof (EB6Segment[0].eb06) !== "undefined")
                                        {
                                            eb06 = EB6Segment[0].eb06;
                                        }
                                    }

                                    // Appendtagsubgroup("accordionExampleloop", "coins", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, "", "Payer Type", "uncoveredindtpval", "loopsegment5", "", "");
                                    //   Appendtagsubgroup("accordionExampleloop", "coins", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, "", "Desc", "uncoveredindtpval", "loopsegment5", "", "");



                                    var copayoutnet;
                                    if (EB7Segment.length > 0)
                                    {
                                        if (typeof (EB7Segment[0].Element) !== "undefined")
                                        {
                                            if (eb06 !== '')
                                            {
                                                copayoutnet = parseFloat(EB7Segment[0].Element) + " / " + eb06;
                                                copayoutnet = "$ " + copayoutnet;
                                            } else
                                            {
                                                copayoutnet = parseFloat(EB7Segment[0].Element);
                                                copayoutnet = "$ " + copayoutnet;
                                            }
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayoutnet, "", eb06, "uncoveredindtpval", "loopsegment5", "", "");
                                    }


                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (undtpsegment3.length > 0)
                                        {
                                            if (undtpsegment2.length > 0)
                                            {
                                                if (undtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(undtpsegment3[0].Element), "", undtpsegment1[0].dtp, "uncoveredindtpval", "loopsegment5", "", "");
                                                } else if (undtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = undtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", undtpsegment1[0].dtp, "uncoveredindtpval1", "loopsegment5", "", "");
                                                }
                                            }
                                        }


                                        if (uncoveredmsg.length > 0)
                                        {
                                            uncovermsgval = msgsegment(uncoveredmsg);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, header + " | " + netwk, "MSG", "uncoveredinmsg", "loopsegment5", "", "");
                                        }
                                        if (uncoveredinfo.length > 0)
                                        {
                                            uncovermsgval = iiimsgsegment(uncoveredinfo);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, "", "POS", "uncoveredininfo", "loopsegment5", "", "");
                                        }
                                    }



                                }

                            }


                            if (uncovered1.length > 0)
                            {
                                //  console.log(copaysegmentdetails1[0].Parent_4);
                                if (uncovered1[0].Element === "Y")
                                {
                                    var header = '';

                                    //  var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (EB2Segment.length > 0)
                                    {

                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                header = eb6val + ' | Family | ';

                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                header = eb6val + ' | Individual | ';

                                            } else
                                            {
                                                header = ' ';

                                            }
                                        }
                                    }




                                    if (uncovered1.length > 0)
                                    {
                                        if (typeof (uncovered1[0].Element) !== "undefined")
                                        {
                                            var netwk = '';
                                            if (uncovered1.length > 0)
                                            {
                                                if (uncovered1[0].Element === "Y")
                                                {
                                                    netwk = "In Network";
                                                } else if (uncovered1[0].Element === "N")
                                                {
                                                    netwk = "Out of Network";
                                                } else if (uncovered1[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (uncovered1[0].Element === "U")
                                                {
                                                    netwk = "Network-Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Network-Unknown";
                                            }
                                        }
                                    }


                                    // Appendtagsubgroup("accordionExampleloop", "copay", copayinnet, "", "IN-Network", "copayinval", loop, "", "", head, "IN-Network");
                                    //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible", "ofamilyded", loop, "", "");

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (undtpsegment3.length > 0)
                                        {
                                            if (undtpsegment2.length > 0)
                                            {
                                                if (undtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(undtpsegment3[0].Element), "", undtpsegment1[0].dtp, "uncoveredindtpval", "loopsegment5", "", "");
                                                } else if (undtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = undtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", undtpsegment1[0].dtp, "uncoveredindtpval1", "loopsegment5", "", "");
                                                }
                                            }
                                        }


                                        if (uncoveredmsg.length > 0)
                                        {
                                            uncovermsgval = msgsegment(uncoveredmsg);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, header + " | " + netwk, "MSG", "uncoveredinmsg", "loopsegment5", "", "");
                                        }
                                        if (uncoveredinfo.length > 0)
                                        {
                                            uncovermsgval = iiimsgsegment(uncoveredinfo);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, "", "POS", "uncoveredininfo", "loopsegment5", "", "");
                                        }
                                    }






                                } else if (uncovered1[0].Element === "N")
                                {

                                    var header = '';

                                    //  var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (EB2Segment.length > 0)
                                    {

                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                header = eb6val + ' | Family | ';

                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                header = eb6val + ' | Individual | ';

                                            } else
                                            {
                                                header = ' ';

                                            }
                                        }
                                    }




                                    if (uncovered1.length > 0)
                                    {
                                        if (typeof (uncovered1[0].Element) !== "undefined")
                                        {
                                            var netwk = '';
                                            if (uncovered1.length > 0)
                                            {
                                                if (uncovered1[0].Element === "Y")
                                                {
                                                    netwk = "In Network";
                                                } else if (uncovered1[0].Element === "N")
                                                {
                                                    netwk = "Out of Network";
                                                } else if (uncovered1[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (uncovered1[0].Element === "U")
                                                {
                                                    netwk = "Network-Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Network-Unknown";
                                            }
                                        }
                                    }


                                    console.log(header + netwk);

                                    // Appendtagsubgroup("accordionExampleloop", "copay", copayinnet, "", "IN-Network", "copayinval", loop, "", "", head, "IN-Network");
                                    //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible", "ofamilyded", loop, "", "");

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (undtpsegment3.length > 0)
                                        {
                                            if (undtpsegment2.length > 0)
                                            {
                                                if (undtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(undtpsegment3[0].Element), "", undtpsegment1[0].dtp, "uncoveredoutdtpval", "loopsegment5", "", "");
                                                } else if (undtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = undtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", undtpsegment1[0].dtp, "uncoveredoutdtpval1", "loopsegment5", "", "");
                                                }
                                            }
                                        }
                                        if (uncoveredmsg.length > 0)
                                        {
                                            uncovermsgval = msgsegment(uncoveredmsg);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, header + netwk, "MSG", "uncoveredoutmsg", "loopsegment5", "", "");
                                        }
                                        if (uncoveredinfo.length > 0)
                                        {
                                            uncovermsgval = iiimsgsegment(uncoveredinfo);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, "", "POS", "uncoveredoutinfo", "loopsegment5", "", "");
                                        }

                                    }





                                } else if (uncovered1[0].Element === "W")
                                {


                                    var header = '';

                                    //  var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (EB2Segment.length > 0)
                                    {

                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                header = eb6val + ' Family | ';

                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                header = eb6val + ' Individual | ';

                                            } else
                                            {
                                                header = ' ';

                                            }
                                        }
                                    }




                                    if (uncovered1.length > 0)
                                    {
                                        if (typeof (uncovered1[0].Element) !== "undefined")
                                        {
                                            var netwk = '';
                                            if (uncovered1.length > 0)
                                            {
                                                if (uncovered1[0].Element === "Y")
                                                {
                                                    netwk = "In Network";
                                                } else if (uncovered1[0].Element === "N")
                                                {
                                                    netwk = "Out of Network";
                                                } else if (uncovered1[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (uncovered1[0].Element === "U")
                                                {
                                                    netwk = "Network-Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Network-Unknown";
                                            }
                                        }
                                    }

                                    //  console.log(header + netwk);
                                    // Appendtagsubgroup("accordionExampleloop", "copay", copayinnet, "", "IN-Network", "copayinval", loop, "", "", head, "IN-Network");
                                    //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible", "ofamilyded", loop, "", "");

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (undtpsegment3.length > 0)
                                        {
                                            if (undtpsegment2.length > 0)
                                            {
                                                if (undtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(undtpsegment3[0].Element), "", undtpsegment1[0].dtp, "uncoveredanydtpval", "loopsegment5", "", "");
                                                } else if (undtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = undtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", undtpsegment1[0].dtp, "uncoveredanydtpval1", "loopsegment5", "", "");
                                                }
                                            }
                                        }


                                        if (uncoveredmsg.length > 0)
                                        {
                                            uncovermsgval = msgsegment(uncoveredmsg);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, header + " | " + netwk, "MSG", "uncoveredanymsg", "loopsegment5", "", "");
                                        }
                                        if (uncoveredinfo.length > 0)
                                        {
                                            uncovermsgval = iiimsgsegment(uncoveredinfo);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, uncovermsgval, "", "POS", "uncoveredanyinfo", "loopsegment5", "", "");
                                        }

                                    }

                                }

                            }



                        }
                    }



                }



                function Appendtagsubgroup(gn, gnid, element, heading, tagvalue, spanid, loopsegment, func, Limitation, tableid, subtableid)
                {

                    var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                    var ltpinid = segmentid;
                    if (heading !== '')
                    {
                        if (Limitation !== "")
                        {
                            $('#' + loopsegment + '').find('#' + ltpinid).find('a').css("color", "#FF9764");
                        }

                    }
                    if (typeof (element) !== "undefined")
                    {
                        if (func === "6")
                        {
                            var ltpin = (element);
                        } else if (func === "9")
                        {
                            var ltpin = (element);
                        } else if (func === "12")
                        {
                            var ltpin = (element);

                        } else if (func === "11")
                        {
                            var ltpin = (element);
                        } else
                        {
                            var ltpin = element;
                        }


                        if (ltpin !== "")
                        {
                            if (tableid === "F")
                            {

                                if (subtableid === "IN-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }

                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                        }
                                    }



                                } else if (subtableid === "OUT-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }

                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                } else if (subtableid === "Any")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement" || tagvalue === "Limitation Amount | Any")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                } else if (subtableid === "Unknown")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                }


                            } else if (tableid === "I")
                            {

                                if (subtableid === "IN-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }

                                    } else
                                    {

                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                } else if (subtableid === "OUT-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {

                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }

                                    }
                                } else if (subtableid === "Any")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                } else if (subtableid === "Unknown")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {

                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                }

                            } else if (tableid === "O")
                            {
                                if (subtableid === "IN-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }
                                } else if (subtableid === "OUT-Network")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                        }
                                    }

                                } else if (subtableid === "Any")
                                {
                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }
                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                        }
                                    }
                                } else if (subtableid === "Unknown")
                                {

                                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                                    {
                                        if (ltpin === "YES")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else if (ltpin === "NO")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        }

                                    } else
                                    {
                                        if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                        } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                        } else
                                        {
                                            $('#' + loopsegment + '').find('#' + ltpinid).show();
                                            $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                        }
                                    }
                                }

                            }


                        } else
                        {

                        }

                    } else
                    {

                    }
                }


                function FetchSegmentLoop_6(response)
                {
                    var coinnet = "0";
                    var cooutnet = "0";
                    var coany = "0";
                    var ltinmsg = "";

                    var segloop;
                    var loop;
                    var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "6" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");
                    const segloopGroupedBy = groupBy(segloop, 'Element');
                    loop = "loopsegmentplan6";
                    $('#loopsegmentplan6').append("<div class='accordion' id= 'accordionExampleloopinactive'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplaninactive'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplan6' aria-expanded='false' aria-controls='collapseplan6'><i class='fas fa-angle-down rotate-icon'></i> <span class='badge badge-danger'>In Active </a></a></h5></div>" +
                            "<div id='collapseplan6' class='collapse card-body' aria-labelledby='headingplaninactive' data-parent='#accordionExampleloopinactive'>" +
                            "<div class='card-body task-details'>" +
                            "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                            "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<br><h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                            "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "</div></div>" +
                            "</div></div></div></div></div>");


                    var chkcoinsmedi = [];
                    while (chkcoinsmedi.length > 0) {
                        chkcoinsmedi.pop();
                    }
                    console.log(chkcoinsmedi);



                    for (var groupname1 in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                        {

                            var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                            for (var coins in coinsin) {

                                var coinssegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "6" && obj.Element_id === "1");
                                if (coinssegmentdetails.length > 0)
                                {

                                    var coinsinsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                                    var EB2Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    var EB6Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var EB4Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "4");
                                    var EB5Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "5" && obj.Segment !== "NM1");
                                    var EB12Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                                    var EB8Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var msg = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                                    var iii = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "III");
                                    var refheader1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "1");
                                    var refval1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    var refval1des = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "3");

                                    //DTP


                                    if (typeof (EB2Segment[0].Element) === "undefined")
                                    {
                                        var eb2seg = '';
                                        if (EB8Segment.length > 0)
                                        {
                                            if (typeof (EB8Segment[0].Element) !== "undefined")
                                            {

                                                eb2seg = parseFloat(EB8Segment[0].Element) * 100;
                                                eb2seg = eb2seg + " %";
                                            }
                                        }

                                        var eb06 = '';
                                        if (EB6Segment.length > 0)
                                        {
                                            if (typeof (EB6Segment[0].eb06) !== "undefined")
                                            {
                                                eb06 = EB6Segment[0].eb06;
                                            }
                                        }


                                        var eb04 = '';
                                        if (EB4Segment.length > 0)
                                        {
                                            if (typeof (EB4Segment[0].eb04) !== "undefined")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                            }
                                        }

                                        var eb05 = '';
                                        if (EB5Segment.length > 0)
                                        {
                                            if (typeof (EB5Segment[0].Element) !== "undefined")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                            }
                                        }


                                        var netwk = '';
                                        if (EB12Segment.length > 0)
                                        {
                                            if (typeof (EB12Segment[0].Element) !== "undefined")
                                            {
                                                if (EB12Segment[0].Element === "Y")
                                                {
                                                    netwk = "In Network";
                                                } else if (EB12Segment[0].Element === "N")
                                                {
                                                    netwk = "Out of Network";
                                                } else if (EB12Segment[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (EB12Segment[0].Element === "U")
                                                {
                                                    netwk = "Unknown";
                                                }

                                            }
                                        } else
                                        {
                                            netwk = "Unknown";
                                        }


                                        if (EB4Segment.length > 0)
                                        {

                                            if (EB4Segment[0].Element === "MA")
                                            {

                                                if (chkcoinsmedi.indexOf(EB4Segment[0].Element) === -1)
                                                {
                                                    chkcoinsmedi.push(EB4Segment[0].Element);
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);


                                                }
                                            } else if (EB4Segment[0].Element === "MB")
                                            {
                                                if (chkcoinsmedi.indexOf(EB4Segment[0].Element) === -1)
                                                {
                                                    chkcoinsmedi.push(EB4Segment[0].Element);
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                                }
                                            } else
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "inactive", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);


                                            }
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "inactive", eb2seg, "", eb06, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        Appendtagsubgroup("accordionExampleloop", "inactive", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                        var refhead1 = '';
                                        if (refheader1.length > 0)
                                        {
                                            if (typeof (refheader1[0].REF01) !== "undefined")
                                            {
                                                refhead1 = refheader1[0].REF01;
                                            }

                                        }

                                        var refv1 = '';
                                        if (refval1.length > 0)
                                        {
                                            if (typeof (refval1[0].Element) !== "undefined")
                                            {
                                                refv1 = refval1[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }
                                        }



                                        var refd1 = '';
                                        if (refval1des.length > 0)
                                        {
                                            if (typeof (refval1des[0].Element) !== "undefined")
                                            {
                                                refd1 = refval1des[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }

                                        }

                                        if (msg.length > 0)
                                        {
                                            ltinmsg = msgsegment(msg);
                                            Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", netwk);
                                        }
                                        if (iii.length > 0)
                                        {
                                            ltinmsg = iiimsgsegment(iii);
                                            Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", netwk);
                                        }


                                    } else
                                    {
                                        if (coinsinsegmentdetails1.length === 0)
                                        {
                                            var eb04 = '';
                                            if (EB4Segment.length > 0)
                                            {
                                                if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                {
                                                    eb04 = EB4Segment[0].eb04;
                                                }
                                            }

                                            var eb05 = '';
                                            if (EB5Segment.length > 0)
                                            {
                                                if (typeof (EB5Segment[0].Element) !== "undefined")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                }
                                            }



                                            Appendtagsubgroup("accordionExampleloop", "inactive", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                            Appendtagsubgroup("accordionExampleloop", "inactive", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");

                                                }

                                            }

                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", "Unknown");
                                            }
                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", "Unknown");
                                            }

                                        }
                                    }


                                    if (coinsinsegmentdetails1.length > 0)
                                    {

                                        if (coinsinsegmentdetails1[0].Element === "Y")
                                        {
                                            var header = '';
                                            var head = '';
                                            var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                            if (element2.length > 0)
                                            {

                                                if (typeof (element2[0].Element) !== "undefined")
                                                {
                                                    if (element2[0].Element === "FAM")
                                                    {
                                                        header = ' Family | ';
                                                        head = 'F';
                                                    } else if (element2[0].Element === "IND")
                                                    {
                                                        header = ' Individual | ';
                                                        head = 'I';
                                                    } else
                                                    {
                                                        header = ' ';
                                                        head = 'O';
                                                    }
                                                }
                                            }



                                            var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                            if (element8.length > 0)
                                            {

                                                if (typeof (element8[0].Element) !== "undefined")
                                                {
                                                    coinnet = parseFloat(element8[0].Element) * 100;
                                                    coinnet = coinnet + " %";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "inactive", coinnet, "", "IN-Network", "coinsinval", loop, "", "", head, "IN-Network");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element11.length > 0)
                                            {

                                                if (typeof (element11[0].Element) !== "undefined")
                                                {
                                                    coinnet = element11[0].eb11;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", coinnet, "", "Authorization Requirement", "coinsinautval", loop, "", "", head, "IN-Network");

                                                }


                                            }

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "IN-Network");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "IN-Network");

                                                }

                                            }


                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "IN-Network");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "IN-Network");
                                            }

                                        } else if (coinsinsegmentdetails1[0].Element === "N")
                                        {

                                            var header = '';
                                            var head = '';
                                            var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                            if (element2.length > 0)
                                            {

                                                if (typeof (element2[0].Element) !== "undefined")
                                                {
                                                    if (element2[0].Element === "FAM")
                                                    {
                                                        header = ' Family | ';
                                                        head = 'F';
                                                    } else if (element2[0].Element === "IND")
                                                    {
                                                        header = ' Individual | ';
                                                        head = 'I';
                                                    } else
                                                    {
                                                        header = ' ';
                                                        head = 'O';
                                                    }
                                                }
                                            }


                                            var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                            if (element8.length > 0)
                                            {

                                                if (typeof (element8[0].Element) !== "undefined")
                                                {
                                                    cooutnet = parseFloat(element8[0].Element) * 100;
                                                    cooutnet = cooutnet + " %";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "inactive", cooutnet, "", "OUT-Network", "coinsoutval", loop, "", "", head, "OUT-Network");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element11.length > 0)
                                            {

                                                if (typeof (element11[0].Element) !== "undefined")
                                                {
                                                    coinnet = element11[0].eb11;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", coinnet, "", "Authorization Requirement", "coinsoutautval", loop, "", "", head, "OUT-Network");
                                                }


                                            }

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "OUT-Network");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "OUT-Network");

                                                }

                                            }


                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "OUT-Network");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "OUT-Network");
                                            }



                                        } else if (coinsinsegmentdetails1[0].Element === "W")
                                        {

                                            var header = '';
                                            var head = '';
                                            var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                            if (element2.length > 0)
                                            {

                                                if (typeof (element2[0].Element) !== "undefined")
                                                {
                                                    if (element2[0].Element === "FAM")
                                                    {
                                                        header = ' Family | ';
                                                        head = 'F';
                                                    } else if (element2[0].Element === "IND")
                                                    {
                                                        header = ' Individual | ';
                                                        head = 'I';
                                                    } else
                                                    {
                                                        header = ' ';
                                                        head = 'O';
                                                    }
                                                }
                                            }

                                            var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                            if (element8.length > 0)
                                            {
                                                if (typeof (element8[0].Element) !== "undefined")
                                                {
                                                    coany = parseFloat(element8[0].Element) * 100;
                                                    coany = coany + " %";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "inactive", coany, "", "ANY", "coanyval", loop, "", "", head, "Any");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element11.length > 0)
                                            {

                                                if (typeof (element11[0].Element) !== "undefined")
                                                {
                                                    coinnet = element11[0].eb11;

                                                    Appendtagsubgroup("accordionExampleloop", "inactive", coinnet, "", header + "Authorization Requirement", "coinanyautval", loop, "", "", head, "Any");
                                                }


                                            }

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "Any");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", head, "Any");

                                                }

                                            }

                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "Any");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "Any");
                                            }



                                        } else
                                        {

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refv1, "", refhead1, "othercoindded", loop, "", "", "O", "Any");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "inactive", refd1, "", "Desc", "othercoindded", loop, "", "", "O", "Any");

                                                }

                                            }
                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "MSG", "coanymsgval", loop, "", "", "O", "Any");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "inactive", ltinmsg, "", "POS", "coanyiiimsgval", loop, "", "", "O", "Any");
                                            }

                                        }

                                    }

                                } else
                                {
                                }

                            }
                        }
                    }

                }

                function FetchOtherPayorLoop(response)
                {
                
                    var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "R");
                    
                    console.log('benefittypecode')
                    console.log(benefittypecode);
                    
                    $('#loopsegmentop').html('');
                    const segloopGroupedBy = groupBy(segloop, 'Element');
                    // console.log(segloopGroupedBy);
                    for (var groupname in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname].length; j++)
                        {
                            // console.log(segloopGroupedBy[groupname][j].benefit_type);
                            var gn = segloopGroupedBy[groupname][j].Tid;
                            var gnid = segloopGroupedBy[groupname][j].Parent_4;
                            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                            //  console.log(segloopGroupedBy[groupname][j].benefit_type);
                            var res = "";


                            if (typeof (segloopGroupedBy[groupname][j].benefit_type) !== "undefined")
                            {
                                res = segloopGroupedBy[groupname][j].benefit_type.split("^");
                            } else
                            {
                                res = "".split("^");
                            }
                            //  console.log(res);
                            
                              console.log('res')
                              console.log(res);

                            var selectstring = "";
                           /* for (var k = 0; k < res.length; k++)
                            {
                                
                                var selected = benefittypecode.filter(obj => obj.benefit_code === res[k]);
                                if (selected.length > 0)
                                {
                                    // console.log(selected);
                                    var n = selectstring.includes(selected[0].benefit_type);
                                    if (!n)
                                    {
                                        selectstring = selectstring + selected[0].benefit_type + " /";
                                    }

                                } else
                                {
                                    selectstring = "General " + res[k] + " /";
                                }

                            } */
                            
                            var selected = segloopGroupedBy[groupname][j].benefit_type_des;
                            if(selected.length > 0)
                            {
                                selectstring = segloopGroupedBy[groupname][j].benefit_type_des;
                            }
                            else
                            {
                                
                                selectstring = "General " + segloopGroupedBy[groupname][j].benefit_type_des + " ";
                            }
                            var benefittype = selectstring;
                            
                           // benefittype = benefittype.slice(0, benefittype.length - 1);
                            // console.log(benefittype);
                            if (benefittype !== "")
                            {

                                $('#loopsegmentop').append("<div class='accordion' id= 'accordionExampleloop" + segmentid.trim() + "'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingTwo" + gn.trim() + "'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseTwo" + gn.trim() + "' aria-expanded='false' aria-controls='collapseTwo" + gn.trim() + "'><i class='fas fa-angle-down rotate-icon'></i> " + benefittype + " </a></h5></div>" +
                                        "<div id='collapseTwo" + gn.trim() + "' class='collapse card-body' aria-labelledby='headingTwo" + gn.trim() + "' data-parent='#accordionExampleloop" + segmentid.trim() + "'>" +
                                        "<div class='card-body task-details'>" +
                                        "<table class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2; margin-top: 1px;'><tbody>" +
                                        "</tbody> </table>" + "</div></div></div></div></div>");

                            }
                        }

                    }



                    for (var groupname1 in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                        {

                            var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                            //console.log(groupname1);
                            // console.log(segloopGroupedBy[groupname1][j].Parent_4);
                            //  console.log(coinsin);
                            for (var coins in coinsin) {

                                var otherpayorsegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim());
                                // console.log(otherpayorsegmentdetails);
                                if (otherpayorsegmentdetails.length > 0)
                                {

                                    var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === otherpayorsegmentdetails[0].Parent_4);
                                    // console.log(segmentdetails1[0].Segment_Sequence);
                                    var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment_Sequence === segmentdetails1[0].Segment_Sequence && obj.Element_id === "4");
                                    var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment_Sequence === segmentdetails1[0].Segment_Sequence && obj.Element_id === "5");
                                    var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment_Sequence === segmentdetails1[0].Segment_Sequence && obj.Element_id === "2");
                                    var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment_Sequence === segmentdetails1[0].Segment_Sequence && obj.Element_id === "12");

                                    var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                                    var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");

                                    var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                                    var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                                    var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                                    var nm101 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                    var nm102 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                    var payorname = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                    var nm108 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                    var nm109 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");

                                    var add1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "1");
                                    var add2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "2");
                                    var city = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "1");
                                    var state = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "2");
                                    var zip = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "3");

                                    var PER01 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                    var PER03 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                    var PER04 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                    var PER05 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                    var PER06 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");

                                    var refheader1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval1des = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "3");
                                    var refheader2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval2des = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "3");
                                    var refheader3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval3des = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "3");

                                    var refheader4 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval4 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval4des = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "3");

                                    var refheader5 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "5" && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval5 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "5" && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval5des = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.segment_counter === "5" && obj.Segment === "REF" && obj.Element_id === "3");

                                    //console.log(refheader1);

                                    //dtpfun(dtpsegment1, dtpsegment2, dtpsegment3, 'dtpval1', 'dtpheader1', 'dep1');

                                    var netwk = '';
                                    if (EB12Segment.length > 0)
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "In Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "Out of Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    } else
                                    {
                                        netwk = "Unknown";
                                    }

                                    var famorind = '';

                                    if (EB2Segment.length > 0)
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            famorind = EB2Segment[0].Element;

                                        }
                                    }


                                    var eb04 = '';

                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {
                                            eb04 = EB4Segment[0].eb04;

                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {
                                            eb05 = EB5Segment[0].Element;

                                        }
                                    }

                                    var add1val = '';
                                    if (add1.length > 0)
                                    {
                                        if (typeof (add1[0].Element) !== "undefined")
                                        {
                                            add1val = add1[0].Element;

                                        }
                                    }
                                    
                                    var add1val2 = '';
                                    if (add2.length > 0)
                                    {
                                        if (typeof (add2[0].Element) !== "undefined")
                                        {
                                            add1val2 = add2[0].Element;

                                        }
                                    }

                                    var cityval = '';
                                    if (city.length > 0)
                                    {
                                        if (typeof (city[0].Element) !== "undefined")
                                        {
                                            cityval = city[0].Element;

                                        }
                                    }

                                    var stateval = '';
                                    if (state.length > 0)
                                    {
                                        if (typeof (state[0].Element) !== "undefined")
                                        {
                                            stateval = state[0].Element;

                                        }
                                    }


                                    var zipval = '';
                                    if (zip.length > 0)
                                    {
                                        if (typeof (zip[0].Element) !== "undefined")
                                        {
                                            //   zipval = zip[0].Element;
                                            zipval = zip[0].Element;
                                            var res = zipval.substring(0, 5);
                                            var res1 = zipval.substring(5, 9);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (zipval.length > 5)
                                            {
                                                zipval = res + "-" + res1;
                                            } else
                                            {
                                                zipval = res;
                                            }

                                        }
                                    }

                                    var p3val = '';
                                    if (PER03.length > 0)
                                    {
                                        if (typeof (PER03[0].Element) !== "undefined")
                                        {
                                            p3val = PER03[0].Element;

                                        }
                                    }


                                    var p4val = ''; //398
                                    if (PER04.length > 0)
                                    {
                                        if (typeof (PER04[0].Element) !== "undefined")
                                        {
                                            p4val = PER04[0].Element;
                                            var res = p4val.substring(0, 3);
                                            var res1 = p4val.substring(3, 6);
                                            var res2 = p4val.substring(6, 10);
                                            if (p4val.length === 10)
                                            {
                                                p4val = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                p4val = PER04[0].Element;
                                            }

                                        }
                                    }




                                    var p5val = ''; //398
                                    if (PER05.length > 0)
                                    {
                                        if (typeof (PER05[0].Element) !== "undefined")
                                        {
                                            p5val = "<br>" + PER05[0].Element + " : ";
                                        }
                                    } else
                                    {
                                        p5val = '';
                                    }


                                    var p6val = ''; //398
                                    if (PER06.length > 0)
                                    {
                                        if (typeof (PER06[0].Element) !== "undefined")
                                        {
                                            p6val = PER06[0].Element;
                                        }
                                    }

                                    var pn = '';
                                    if (payorname.length > 0)
                                    {
                                        if (typeof (payorname[0]) !== "undefined")
                                        {
                                            pn = payorname[0].Element;
                                        }
                                        if (typeof (payorname[1]) !== "undefined")
                                        {
                                            pn = payorname[1].Element;
                                        }

                                        //  console.log(pn);
                                    }



                                    var nm101val = '';
                                    var nm102val = '';
                                    if (nm101.length > 0)
                                    {
                                        if (typeof (nm101[0]) !== "undefined")
                                        {
                                            nm101val = nm101[0].NM101;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm101val, "", "Payor Type", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                        if (nm102.length > 0)
                                        {
                                            if (typeof (nm102[0]) !== "undefined")
                                            {
                                                nm102val = nm102[0].NM102;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm102val, "", "Entity", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                            }
                                            //  console.log(pn);
                                        }


                                        if (typeof (nm101[1]) !== "undefined")
                                        {
                                            nm101val = nm101[1].NM101;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm101val, "", "Payor Type", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }


                                        if (nm102.length > 0)
                                        {

                                            if (typeof (nm102[1]) !== "undefined")
                                            {
                                                nm102val = nm102[1].NM102;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm102val, "", "Entity", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                            }

                                            //  console.log(pn);
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, pn, " | " + famorind + " | " + netwk + " | " + eb04 + " | " + eb05, "Payor Name", "opayername" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, pn, " | " + famorind + " | " + netwk + " | " + eb04 + " | " + eb05, "Payor Name", "opayername" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        //  console.log(pn);
                                    }



                                    var nm108val = '';
                                    var nm109val = '';
                                    if (nm109.length > 0)
                                    {
                                        if (typeof (nm109[0]) !== "undefined")
                                        {
                                            if (nm108.length > 0)
                                            {
                                                if (typeof (nm108[0]) !== "undefined")
                                                {
                                                    nm108val = nm108[0].NM108;
                                                    nm109val = nm109[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm109val, "", nm108val, "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                                }
                                                if (typeof (nm108[1]) !== "undefined")
                                                {
                                                    nm108val = nm108[1].NM108;
                                                    nm109val = nm109[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm109val, "", nm108val, "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                                }


                                            }
                                        }
                                        if (typeof (nm109[1]) !== "undefined")
                                        {
                                            if (nm108.length > 0)
                                            {
                                                if (typeof (nm108[0]) !== "undefined")
                                                {
                                                    nm108val = nm108[0].NM108;
                                                    nm109val = nm109[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm109val, "", nm108val, "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                                }
                                                if (typeof (nm108[1]) !== "undefined")
                                                {
                                                    nm108val = nm108[1].NM108;
                                                    nm109val = nm109[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nm109val, "", nm108val, "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                                }
                                            }
                                        }

                                        //  console.log(pn);
                                    }

                                   

                                    if (add1.length > 0)
                                    {
                                         if (add2.length > 0)
                                         {
                                             Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, add1val + " " + add1val2 + " " + cityval + " " + stateval + " " + zipval, "", "Address", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                         }
                                         else
                                         {
                                             Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, add1val + " " + cityval + " " + stateval + " " + zipval, "", "Address", "opayeradd1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                         }
                                    }

                                    if (PER01.length > 0)
                                    {
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val + p5val + p6val, "", "Contact", "opayercontact" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "opayerdtp" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "opayerdtp" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                            }
                                        }
                                    }


                                    var refhead1 = '';
                                    if (refheader1.length > 0)
                                    {
                                        if (typeof (refheader1[0].REF01) !== "undefined")
                                        {
                                            refhead1 = refheader1[0].REF01;
                                        }

                                    }

                                    var refv1 = '';
                                    if (refval1.length > 0)
                                    {
                                        if (typeof (refval1[0].Element) !== "undefined")
                                        {
                                            refv1 = refval1[0].Element;

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refv1, "", refhead1, "opayerref1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }
                                    }



                                    var refd1 = '';
                                    if (refval1des.length > 0)
                                    {
                                        if (typeof (refval1des[0].Element) !== "undefined")
                                        {
                                            refd1 = refval1des[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refd1, "", "Desc", "opayerrefdesc1" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                    }




                                    var refhead2 = '';
                                    if (refheader2.length > 0)
                                    {
                                        if (typeof (refheader2[0].REF01) !== "undefined")
                                        {
                                            refhead2 = refheader2[0].REF01;
                                        }

                                    }

                                    var refv2 = '';
                                    if (refval2.length > 0)
                                    {
                                        if (typeof (refval2[0].Element) !== "undefined")
                                        {
                                            refv2 = refval2[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refv2, "", refhead2, "opayerref2" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }
                                    }



                                    var refd2 = '';
                                    if (refval2des.length > 0)
                                    {
                                        if (typeof (refval2des[0].Element) !== "undefined")
                                        {
                                            refd2 = refval2des[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refd2, "", "Desc", "opayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                    }



                                    var refhead3 = '';
                                    if (refheader3.length > 0)
                                    {
                                        if (typeof (refheader3[0].REF01) !== "undefined")
                                        {
                                            refhead3 = refheader3[0].REF01;
                                        }

                                    }

                                    var refv3 = '';
                                    if (refval3.length > 0)
                                    {
                                        if (typeof (refval3[0].Element) !== "undefined")
                                        {
                                            refv3 = refval3[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refv3, "", refhead3, "opayerref3" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }
                                    }



                                    var refd3 = '';
                                    if (refval3des.length > 0)
                                    {
                                        if (typeof (refval3des[0].Element) !== "undefined")
                                        {
                                            refd3 = refval3des[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refd3, "", "Desc", "opayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                    }


                                    var refhead4 = '';
                                    if (refheader4.length > 0)
                                    {
                                        if (typeof (refheader4[0].REF01) !== "undefined")
                                        {
                                            refhead4 = refheader4[0].REF01;
                                        }

                                    }

                                    var refv4 = '';
                                    if (refval4.length > 0)
                                    {
                                        if (typeof (refval4[0].Element) !== "undefined")
                                        {
                                            refv4 = refval4[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refv4, "", refhead4, "opayerref3" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }
                                    }



                                    var refd4 = '';
                                    if (refval4des.length > 0)
                                    {
                                        if (typeof (refval4des[0].Element) !== "undefined")
                                        {
                                            refd4 = refval4des[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refd4, "", "Desc", "opayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                    }


                                    var refhead5 = '';
                                    if (refheader5.length > 0)
                                    {
                                        if (typeof (refheader5[0].REF01) !== "undefined")
                                        {
                                            refhead5 = refheader5[0].REF01;
                                        }

                                    }

                                    var refv5 = '';
                                    if (refval5.length > 0)
                                    {
                                        if (typeof (refval5[0].Element) !== "undefined")
                                        {
                                            refv5 = refval5[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refv5, "", refhead5, "opayerref3" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }
                                    }



                                    var refd5 = '';
                                    if (refval5des.length > 0)
                                    {
                                        if (typeof (refval5des[0].Element) !== "undefined")
                                        {
                                            refd5 = refval5des[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, refd5, "", "Desc", "opayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                        }

                                    }


                                    var ltinmsg = '';
                                    if (EBmsgSegment.length > 0)
                                    {
                                        ltinmsg = msgsegment(EBmsgSegment);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "", "MSG", "opayermsg" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                    }
                                    var ltininfo = '';
                                    if (EBiiiSegment.length > 0)
                                    {
                                        ltininfo = iiimsgsegment(EBiiiSegment);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltininfo, "", "POS", "opayerinfo" + segloopGroupedBy[groupname1][j].Tid, "loopsegmentop", segloopGroupedBy[groupname1][j].Parent_2, "");
                                    }




                                }


                            }
                        }
                    }
                }


                function FetchSegmentLoop_1(response)
                {

                    var coinnet = "0";
                    var cooutnet = "0";
                    var coany = "0";
                    var copayinnet = "0";
                    var copayoutnet = "0";
                    var copayany = "0";
                    var lain = "";
                    var laout = "";
                    var lpout = "";
                    var laany = "";
                    var lpany = "";
                    var ltinmsg = "";
                    var segloop;
                    var loop;

                    var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "1" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");

                    const segloopGroupedBy = groupBy(segloop, 'Element');
                    loop = "loopsegmentplan1";
                    $('#loopsegmentplan1').append("<div class='accordion' id= 'accordionExampleloopactive'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplanactive'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanactive' aria-expanded='false' aria-controls='collapseplanactive'><i class='fas fa-angle-down rotate-icon'></i> <span class='badge badge-success'>Active Coverage</span></a></h5></div>" +
                            "<div id='collapseplanactive' class='collapse card-body' aria-labelledby='headingplanactive' data-parent='#accordionExampleloopactive'>" +
                            "<div class='card-body task-details'>" +
                            "<div class=''> " +
                            "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id= 'otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "<table id='otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                            "</div></div>" +
                            "</div></div></div></div></div>");

                    var chkactmedi = [];
                    while (chkactmedi.length > 0) {
                        chkactmedi.pop();
                    }
                    console.log(chkactmedi);

                    // Active Segment
                    for (var groupname1 in segloopGroupedBy) {

                        for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                        {

                            var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);

                            for (var coins in coinsin) {

                                var segmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "1" && obj.Element_id === "1");

                                if (segmentdetails.length > 0)
                                {

                                    var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "12");
                                    var miscellaneous = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "NM1");
                                    var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "NM1");
                                    var perdetails = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "PER");
                                    // console.log(coinsinsegmentdetails1.length);
                                    var msg = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "MSG");
                                    var iii = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "III");
                                    var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                                    var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                                    var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                                    var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "4");
                                    var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "5");
                                    var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "12");
                                    var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var refheader1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Element_id === "1");
                                    var refval1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Element_id === "2");
                                    var refval1des = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "REF" && obj.Element_id === "3");

                                    if (typeof (EB2Segment[0].Element) === "undefined")
                                    {
                                        var eb2seg = '';
                                        if (EB7Segment.length > 0)
                                        {
                                            if (typeof (EB7Segment[0].Element) !== "undefined")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                            }
                                        }

                                        var eb06 = '';
                                        if (EB6Segment.length > 0)
                                        {
                                            if (typeof (EB6Segment[0].eb06) !== "undefined")
                                            {
                                                eb06 = EB6Segment[0].eb06;
                                            }
                                        }

                                        var eb04 = '';
                                        if (EB4Segment.length > 0)
                                        {
                                            if (typeof (EB4Segment[0].eb04) !== "undefined")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                            }
                                        }

                                        var eb05 = '';
                                        if (EB5Segment.length > 0)
                                        {
                                            if (typeof (EB5Segment[0].Element) !== "undefined")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                            }
                                        }


                                        var netwk = '';
                                        if (EB12Segment.length > 0)
                                        {
                                            if (typeof (EB12Segment[0].Element) !== "undefined")
                                            {
                                                if (EB12Segment[0].Element === "Y")
                                                {
                                                    netwk = "IN-Network";
                                                } else if (EB12Segment[0].Element === "N")
                                                {
                                                    netwk = "OUT-Network";
                                                } else if (EB12Segment[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (EB12Segment[0].Element === "U")
                                                {
                                                    netwk = "Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Unknown";
                                            }
                                        } else
                                        {
                                            netwk = "Unknown";
                                        }


                                        if (EB4Segment.length > 0)
                                        {

                                            if (EB4Segment[0].Element === "MA")
                                            {

                                                if (chkactmedi.indexOf(EB4Segment[0].Element) === -1)
                                                {
                                                    chkactmedi.push(EB4Segment[0].Element);
                                                    Appendtagsubgroup("accordionExampleloop", "active", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                                    if (dtpsegment3.length > 0)
                                                    {
                                                        if (dtpsegment2.length > 0)
                                                        {
                                                            if (dtpsegment2[0].Element === "D8")
                                                            {
                                                                Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                            } else if (dtpsegment2[0].Element === "RD8")
                                                            {
                                                                var splitstr = dtpsegment3[0].Element;
                                                                var dtp = splitstr.split('-');
                                                                Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                            }
                                                        }
                                                    }
                                                }
                                            } else if (EB4Segment[0].Element === "MB")
                                            {
                                                if (chkactmedi.indexOf(EB4Segment[0].Element) === -1)
                                                {
                                                    chkactmedi.push(EB4Segment[0].Element);
                                                    Appendtagsubgroup("accordionExampleloop", "active", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                                    if (dtpsegment3.length > 0)
                                                    {
                                                        if (dtpsegment2.length > 0)
                                                        {
                                                            if (dtpsegment2[0].Element === "D8")
                                                            {
                                                                Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                            } else if (dtpsegment2[0].Element === "RD8")
                                                            {
                                                                var splitstr = dtpsegment3[0].Element;
                                                                var dtp = splitstr.split('-');
                                                                Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                            }
                                                        }
                                                    }
                                                }
                                            } else
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "active", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                        }
                                                    }
                                                }
                                            }
                                        }


                                        Appendtagsubgroup("accordionExampleloop", "active", eb2seg, "", "Status | " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        Appendtagsubgroup("accordionExampleloop", "active", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                        var refhead1 = '';
                                        if (refheader1.length > 0)
                                        {
                                            if (typeof (refheader1[0].REF01) !== "undefined")
                                            {
                                                refhead1 = refheader1[0].REF01;
                                            }

                                        }

                                        var refv1 = '';
                                        if (refval1.length > 0)
                                        {
                                            if (typeof (refval1[0].Element) !== "undefined")
                                            {
                                                refv1 = refval1[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "active", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }
                                        }



                                        var refd1 = '';
                                        if (refval1des.length > 0)
                                        {
                                            if (typeof (refval1des[0].Element) !== "undefined")
                                            {
                                                refd1 = refval1des[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "active", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }

                                        }

                                        if (msg.length > 0)
                                        {

                                            ltinmsg = msgsegment(msg);

                                            Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "otherinddedmsg", loop, "", "", "O", netwk);
                                        }
                                        if (iii.length > 0)
                                        {
                                            ltinmsg = iiimsgsegment(iii);
                                            Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "otherinddediiimsg", loop, "", "", "O", netwk);
                                        }



                                    } else
                                    {

                                        var eb04 = '';
                                        if (EB4Segment.length > 0)
                                        {
                                            if (typeof (EB4Segment[0].eb04) !== "undefined")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                            }
                                        }

                                        var eb05 = '';
                                        if (EB5Segment.length > 0)
                                        {
                                            if (typeof (EB5Segment[0].Element) !== "undefined")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                            }
                                        }


                                        var netwk = '';
                                        if (EB12Segment.length > 0)
                                        {
                                            if (typeof (EB12Segment[0].Element) !== "undefined")
                                            {
                                                if (EB12Segment[0].Element === "Y")
                                                {
                                                    netwk = "IN-Network";
                                                } else if (EB12Segment[0].Element === "N")
                                                {
                                                    netwk = "OUT-Network";
                                                } else if (EB12Segment[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (EB12Segment[0].Element === "U")
                                                {
                                                    netwk = "Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Unknown";
                                            }
                                        } else
                                        {
                                            netwk = "Unknown";
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "active", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                                        Appendtagsubgroup("accordionExampleloop", "active", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");

                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }

                                        var refhead1 = '';
                                        if (refheader1.length > 0)
                                        {
                                            if (typeof (refheader1[0].REF01) !== "undefined")
                                            {
                                                refhead1 = refheader1[0].REF01;
                                            }

                                        }

                                        var refv1 = '';
                                        if (refval1.length > 0)
                                        {
                                            if (typeof (refval1[0].Element) !== "undefined")
                                            {
                                                refv1 = refval1[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "active", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }
                                        }



                                        var refd1 = '';
                                        if (refval1des.length > 0)
                                        {
                                            if (typeof (refval1des[0].Element) !== "undefined")
                                            {
                                                refd1 = refval1des[0].Element;
                                                Appendtagsubgroup("accordionExampleloop", "active", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            }

                                        }

                                        if (msg.length > 0)
                                        {
                                            ltinmsg = msgsegment(msg);
                                            Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "otherinddedmsg" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                                        }

                                        if (iii.length > 0)
                                        {
                                            ltinmsg = iiimsgsegment(iii);
                                            Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "otherinddediiimsg" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        }

                                    }


                                    if (segmentdetails1.length > 0)
                                    {
                                        if (segmentdetails1[0].Element === "Y")
                                        {
                                            var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");
                                            if (element1.length > 0)
                                            {

                                                if (typeof (element1[0].Element) !== "undefined")
                                                {
                                                    actcoinnet = element1[0].eb01;
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "active", actcoinnet, "", "Status | IN-Network", "actcoinnetval", loop, "", "", "F", "IN-Network");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element11.length > 0)
                                            {

                                                if (typeof (element11[0].Element) !== "undefined")
                                                {
                                                    actcoinnet = element11[0].eb11;
                                                    Appendtagsubgroup("accordionExampleloop", "active", actcoinnet, "", "Active Authorization Requirement", "actcoinnetautval", loop, "", "", "F", "IN-Network");
                                                }


                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", "F", "IN-Network");
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", "F", "IN-Network");
                                                    }
                                                }
                                            }


                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "IN-Network");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "IN-Network");

                                                }

                                            }

                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "outeractiveactcoanymsgval", loop, "", "", "F", "IN-Network");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "outeractiveactcoanyiiimsgval", loop, "", "", "F", "IN-Network");
                                            }



                                        } else if (segmentdetails1[0].Element === "N")
                                        {
                                            var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");
                                            if (element1.length > 0)
                                            {
                                                if (typeof (element1[0].Element) !== "undefined")
                                                {
                                                    actcoinoutnet = element1[0].eb01;
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "active", actcoinoutnet, "", "Status | OUT-Network", "actcoinoutnetval", loop, "", "", "F", "OUT-Network");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element11.length > 0)
                                            {
                                                if (typeof (element11[0].Element) !== "undefined")
                                                {
                                                    actcoinoutnet = element11[0].eb11;
                                                    Appendtagsubgroup("accordionExampleloop", "active", actcoinoutnet, "", "Authorization Requirement", "actcoinoutnetautval", loop, "", "", "F", "OUT-Network");
                                                }


                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", "F", "OUT-Network");
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", "F", "OUT-Network");
                                                    }
                                                }
                                            }

                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "OUT-Network");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "OUT-Network");

                                                }

                                            }


                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "outeractiveactcoanymsgval", loop, "", "", "F", "OUT-Network");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "outeractiveactcoanyiiimsgval", loop, "", "", "F", "OUT-Network");
                                            }


                                        } else if (segmentdetails1[0].Element === "W")
                                        {

                                            var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");

                                            if (element1.length > 0)
                                            {

                                                if (typeof (element1[0].Element) !== "undefined")
                                                {
                                                    actcoinanynet = element1[0].eb01;
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "active", actcoinanynet, "", "Status | Any", "coanyval", loop, "", "", "F", "Any");
                                            }

                                            var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                            if (element1.length > 0)
                                            {

                                                if (typeof (element1[0].Element) !== "undefined")
                                                {
                                                    actcoinanynet = element1[0].eb11;
                                                    Appendtagsubgroup("accordionExampleloop", "active", actcoinanynet, "", "Authorization Requirement", "coanyval", loop, "", "", "F", "Any");
                                                }


                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", "F", "Any");
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "active", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", "F", "Any");
                                                    }
                                                }
                                            }


                                            var refhead1 = '';
                                            if (refheader1.length > 0)
                                            {
                                                if (typeof (refheader1[0].REF01) !== "undefined")
                                                {
                                                    refhead1 = refheader1[0].REF01;
                                                }

                                            }

                                            var refv1 = '';
                                            if (refval1.length > 0)
                                            {
                                                if (typeof (refval1[0].Element) !== "undefined")
                                                {
                                                    refv1 = refval1[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refv1, "", refhead1, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "Any");

                                                }
                                            }



                                            var refd1 = '';
                                            if (refval1des.length > 0)
                                            {
                                                if (typeof (refval1des[0].Element) !== "undefined")
                                                {
                                                    refd1 = refval1des[0].Element;
                                                    Appendtagsubgroup("accordionExampleloop", "active", refd1, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", "Any");

                                                }

                                            }


                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "outeractiveactcoanymsgval", loop, "", "", "F", "Any");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "outeractiveactcoanyiiimsgval", loop, "", "", "F", "Any");
                                            }



                                        } else
                                        {
                                            if (msg.length > 0)
                                            {
                                                ltinmsg = msgsegment(msg);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "MSG", "actcoanymsgval", loop, "", "", "O", "Any");
                                            }

                                            if (iii.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(iii);
                                                Appendtagsubgroup("accordionExampleloop", "active", ltinmsg, "", "POS", "actcoanyiiimsgval", loop, "", "", "O", "Any");
                                            }



                                        }

                                        //Miscellaneous
                                        if (miscellaneous.length > 0)
                                        {

                                            if (miscellaneousdetails.length > 0)
                                            {
                                                // NM1_01
                                                var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                                if (nmelement1.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement1[0].NM101, "", "Miscellaneous", "nmelement1valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_02
                                                var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                                if (nmelement2.length > 0)
                                                {
                                                    if (typeof (nmelement2[0].Element) !== "undefined")
                                                    {
                                                        var nmelement2val = nmelement2[0].NM102;
                                                    }


                                                }
                                                // NM1_03
                                                var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                                if (nmelement3.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement3[0].Element, "", "", "nmelement3valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_04
                                                var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                                if (nmelement4.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement4[0].Element, "", "", "nmelement4valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_05
                                                var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                                if (nmelement5.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement5[0].Element, "", "", "nmelement5valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_06
                                                var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                                if (nmelement6.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement6[0].Element, "", "", "nmelement6valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_07
                                                var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                                if (nmelement7.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement7[0].Element, "", "", "nmelement7valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_08
                                                var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                                if (nmelement8.length > 0)
                                                {

                                                    if (typeof (nmelement8[0].Element) !== "undefined")
                                                    {
                                                        var nmelement8val = nmelement8[0].NM108;
                                                    }
                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement8val, "", "", "nmelement8valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_09
                                                var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                                if (nmelement9.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement9[0].Element, "", "", "nmelement9valid", loop, "", "", "O", "Any");
                                                }

                                                // NM1_10
                                                var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                                if (nmelement10.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement10[0].Element, "", "", "nmelement10valid", loop, "", "", "O", "Any");
                                                }
                                                // NM1_11
                                                var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                                if (nmelement11.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement11[0].Element, "", "", "nmelement11valid", loop, "", "", "O", "Any");
                                                }
                                                // NM1_12
                                                var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                                if (nmelement12.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", nmelement12[0].Element, "", "", "nmelement12valid", loop, "", "", "O", "Any");
                                                }

                                            }

                                            // PER

                                            if (perdetails.length > 0)
                                            {
                                                // PER_01
                                                var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                                if (perelement1.length > 0)
                                                {
                                                    if (typeof (perelement1[0].Element) !== "undefined")
                                                    {
                                                        var perelement1val = perelement1[0].PER01;
                                                    }

                                                }


                                                // PER_02
                                                var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                                if (perelement2.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", perelement2[0].Element, "", "", "perelement2valid", loop, "", "", "O", "Any");
                                                }


                                                // PER_03
                                                var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                                var p3val = "";
                                                if (perelement3.length > 0)
                                                {

                                                    if (typeof (perelement3[0].Element) !== "undefined")
                                                    {
                                                        var perelement3val = perelement3[0].PER03;
                                                        p3val = perelement3[0].Element;
                                                    }

                                                }

                                                // PER_04
                                                var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                                var p4val = "";

                                                if (perelement4.length > 0)
                                                {
                                                    if (typeof (perelement4[0].Element) !== "undefined")
                                                    {
                                                        p4val = perelement4[0].Element;
                                                        var res = p4val.substring(0, 3);
                                                        var res1 = p4val.substring(3, 6);
                                                        var res2 = p4val.substring(6, 10);
                                                        if (p4val.length > 9)
                                                        {
                                                            p4val = res + "-" + res1 + "-" + res2;
                                                        } else
                                                        {
                                                            p4val = res;
                                                        }

                                                    }
                                                }

                                                if (perelement4.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", p3val + ": " + p4val, "", "", "perelement4valid", loop, "", "", "O", "Any");
                                                }

                                                // PER_05
                                                var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                                var p5val = "";
                                                if (perelement5.length > 0)
                                                {

                                                    if (typeof (perelement5[0].Element) !== "undefined")
                                                    {
                                                        var perelement5val = perelement5[0].PER05;
                                                        p5val = perelement5[0].Element;
                                                    }


                                                }

                                                // PER_06
                                                var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                                if (perelement6.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", p5val + ": " + perelement6[0].Element, "", "", "perelement6valid", loop, "", "", "O", "Any");
                                                }

                                                // PER_07
                                                var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                                if (perelement7.length > 0)
                                                {

                                                    if (typeof (perelement7[0].Element) !== "undefined")
                                                    {
                                                        var perelement7val = perelement7[0].PER07;
                                                    }
                                                    Appendtagsubgroup("accordionExampleloop", "active", perelement7val, "", "", "perelement7valid", loop, "", "", "O", "Any");
                                                }

                                                // PER_08
                                                var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                                if (perelement8.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", perelement8[0].Element, "", "", "perelement8valid", loop, "", "", "O", "Any");
                                                }

                                                // PER_09
                                                var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                                if (perelement9.length > 0)
                                                {

                                                    Appendtagsubgroup("accordionExampleloop", "active", perelement9[0].Element, "", "", "perelement9valid", loop, "", "", "O", "Any");
                                                }
                                            }
                                        }

                                    } else
                                    {
                                        var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                        if (element11.length > 0)
                                        {
                                            if (typeof (element11[0].Element) !== "undefined")
                                            {
                                                actcoinoutnet = element11[0].eb11;
                                                Appendtagsubgroup("accordionExampleloop", "active", actcoinoutnet, "", "Authorization Requirement", "actcoinoutnetautval", loop, "", "", "F", "OUT-Network");
                                            }


                                        }
                                    }
                                } else
                                {

                                }

                            }
                        }
                    }
                }

                _.defer($.ajax({
                    url: "getpcprequestid",
                    type: "get", //send it through get method
                    data: {
                        pcprequestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0)
                        {
                            var lname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                            var fname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "4");
                            var mname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "5");
                            var middlename = '';
                            var lastname = '';
                            var firstname = '';
                            if (mname.length > 0)
                            {
                                if (typeof (mname[0].Element) !== "undefined")
                                {
                                    middlename = mname[0].Element;
                                }
                            }


                            if (fname.length > 0)
                            {
                                if (typeof (fname[0].Element) !== "undefined")
                                {
                                    firstname = fname[0].Element;
                                }
                            }
                            if (lname.length > 0)
                            {
                                if (typeof (lname[0].Element) !== "undefined")
                                {
                                    lastname = lname[0].Element;
                                }
                            }

                            if (lastname !== "Nil" && middlename !== "Nil")
                            {
                                $('#pcbname').text(lastname + ' ' + firstname + ' ' + middlename);
                            } else if (middlename !== "Nil")
                            {
                                $('#pcbname').text(lastname + ' ' + middlename);
                            } else if (lastname !== "Nil")
                            {
                                $('#pcbname').text(lastname + ' ' + firstname);
                            } else
                            {
                                $('#pcbname').text(firstname);
                            }




                            var pcpnpiheader = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "8");
                            var pcpnpi = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "9");
                            if (pcpnpiheader.length > 0)
                            {
                                if (typeof (pcpnpiheader[0].Element) !== "undefined")
                                {
                                    if (pcpnpiheader[0].Element === 'XX' || pcpnpiheader[0].Element === 'xx')
                                    {
                                        $('#pcpnpiheader').text('PCP NPI: ');
                                        $('#pcpnpi').text(pcpnpi[0].Element);
                                    } else if (pcpnpiheader[0].Element === 'FI' || pcpnpiheader[0].Element === 'fi')
                                    {
                                        $('#pcpnpiheader').text('PCP Tax ID: ');
                                        $('#pcpnpi').text(pcpnpi[0].Element);
                                    }
                                }
                            }


                            var add1 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "1");
                            var add2 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "2");
                            var city = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "3");
                            var pcptype1 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "3");
                            var pcpcont1 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "4");
                            var pcptype2 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "5");
                            var pcpcont2 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "6");
                            var pcptype3 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "7");
                            var pcpcont3 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "8");

                            var tel2 = '';
                            var tel4 = '';
                            var tel6 = '';
                            if (pcptype1.length > 0)
                            {

                                if (pcptype1[0].Element === "TE")
                                {
                                    if (pcpcont1.length > 0)
                                    {
                                        if (typeof (pcpcont1[0].Element) !== "undefined")
                                        {
                                            tel2 = pcpcont1[0].Element;
                                            var res = tel2.substring(0, 3);
                                            var res1 = tel2.substring(3, 6);
                                            var res2 = tel2.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel2.length > 9)
                                            {
                                                tel2 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel2 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pcptype2.length > 0)
                            {
                                if (pcptype2[0].Element === "TE")
                                {
                                    if (pcpcont2.length > 0)
                                    {
                                        if (typeof (pcpcont2[0].Element) !== "undefined")
                                        {
                                            tel4 = pcpcont2[0].Element;
                                            var res = tel4.substring(0, 3);
                                            var res1 = tel4.substring(3, 6);
                                            var res2 = tel4.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel4.length > 9)
                                            {
                                                tel4 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel4 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pcptype3.length > 0)
                            {

                                if (pcptype3[0].Element === "TE")
                                {
                                    if (pcpcont3.length > 0)
                                    {
                                        if (typeof (pcpcont3[0].Element) !== "undefined")
                                        {
                                            tel6 = pcpcont3[0].Element;
                                            var res = tel6.substring(0, 3);
                                            var res1 = tel6.substring(3, 6);
                                            var res2 = tel6.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel6.length > 9)
                                            {
                                                tel6 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel6 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pcptype1.length > 0)
                            {
                                if (pcptype1[0].Element === "TE")
                                {
                                    //  console.log(pcptype1);
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + tel2);
                                } else
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + pcpcont1[0].Element);
                                }

                            }
                            if (pcptype2.length > 0 && pcptype1.length > 0)
                            {
                                if (pcptype1[0].Element === "TE")
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + tel2 + '<br> ' + pcptype2[0].Element + ': ' + pcpcont2[0].Element);
                                } else if (pcptype2[0].Element === "TE")
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + pcpcont1[0].Element + '<br> ' + pcptype2[0].Element + ': ' + tel4);
                                }

                            }

                            if (pcptype3.length > 0 && pcptype2.length > 0 && pcptype1.length > 0)
                            {

                                if (pcptype1[0].Element === "TE")
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + tel2 + '<br> ' + pcptype2[0].Element + ': ' + pcpcont2[0].Element + '<br>' + pcptype3[0].Element + ': ' + pcpcont3[0].Element);
                                } else if (pcptype2[0].Element === "TE")
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + pcpcont1[0].Element + '<br> ' + pcptype2[0].Element + ': ' + tel4 + '<br>' + pcptype3[0].Element + ': ' + pcpcont3[0].Element);
                                } else if (pcptype2[0].Element === "TE")
                                {
                                    $('#pcptype').html(pcptype1[0].Element + ': ' + pcpcont1[0].Element + '<br> ' + pcptype2[0].Element + ': ' + pcpcont2[0].Element + '<br>' + pcptype3[0].Element + ': ' + tel6);
                                }

                            }

                            var vzip = '';

                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    vzip = zip[0].Element;
                                    var res = vzip.substring(0, 5);
                                    var res1 = vzip.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (vzip.length > 5)
                                    {
                                        vzip = res + "-" + res1;
                                    } else
                                    {
                                        vzip = res;
                                    }
                                }
                            }

                            var add1val = '';
                            if (add2.length > 0)
                            {
                                add1val = add1[0].Element;
                            } else
                            {
                                if (add1.length > 0)
                                {
                                    add1val = add1[0].Element;
                                }
                            }

                            var temppayaddress = $('#pcptype').html();
                            temppayaddress = temppayaddress.replace('<br>', '').replace('undefined', '').trim();
                            if (temppayaddress.length === 0)
                            {
                                $('#pcptyperow').hide();
                            }

                            if (add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + vzip);
                            } else
                            {
                                $('#pcpadd').html(add1val + ' ' + vzip);
                            }

                            if (city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + city[0].Element + ' ' + vzip);
                            } else if (add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + vzip);
                            } else
                            {

                                $('#pcpadd').html(add1val + '<br>' + city[0].Element + ' ' + vzip);
                            }

                            if (state.length > 0 && city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + city[0].Element + ' ' + state[0].Element + ' ' + vzip);
                            } else if (city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + city[0].Element + ' ' + vzip);
                            } else if (add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + vzip);
                            } else
                            {
                                $('#pcpadd').html(add1val + '<br>' + city[0].Element + ' ' + state[0].Element + ' ' + vzip);
                            }

                            if (zip.length > 0 && state.length > 0 && city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add1[0].Element + ' ' + city[0].Element + ' ' + state[0].Element + ' ' + vzip);
                            }
                            if (state.length > 0 && city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + city[0].Element + ' ' + state[0].Element + ' ' + vzip);
                            } else if (city.length > 0 && add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + city[0].Element + ' ' + vzip);
                            } else if (add2.length > 0)
                            {
                                $('#pcpadd').html(add1val + '<br> ' + ' ' + add2[0].Element + ' ' + vzip);
                            } else
                            {
                                $('#pcpadd').html(add1val + '<br>' + city[0].Element + ' ' + state[0].Element + ' ' + vzip);
                            }
                        } else
                        {
                            $('#PCPsegment').hide();
                        }

                        if ($('#pcpadd').html().length === 0)
                        {
                            $('#pcpaddrow').hide();
                        }

                        if ($('#pcptype').html().length === 0)
                        {
                            $('#pcptyperow').hide();
                        }
                        if ($('#pcbname').html().length === 0)
                        {
                            $('#pcbnamerow').hide();
                        }
                    }
                }));


                _.defer($.ajax({
                    url: "getpayrequestid",
                    type: "get", //send it through get method
                    data: {
                        payrequestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0)
                        {
                            var pyname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                            var memid = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "9");
                            var pyinsid = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "8");
                            var pytype1 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "3");
                            var pycont1 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "4");
                            var pytype2 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "5");
                            var pycont2 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "6");
                            var pytype3 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "7");
                            var pycont3 = response.Response.filter(obj => obj.Segment === "PER" && obj.Element_id === "8");

                            var tel2 = '';
                            var tel4 = '';
                            var tel6 = '';

                            if (pytype1.length > 0)
                            {
                                if (pytype1[0].Element === "TE")
                                {
                                    if (pycont1.length > 0)
                                    {
                                        if (typeof (pycont1[0].Element) !== "undefined")
                                        {
                                            tel2 = pycont1[0].Element;
                                            var res = tel2.substring(0, 3);
                                            var res1 = tel2.substring(3, 6);
                                            var res2 = tel2.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel2.length > 9)
                                            {
                                                tel2 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel2 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pytype2.length > 0)
                            {

                                if (pytype2[0].Element === "TE")
                                {
                                    if (pycont2.length > 0)
                                    {
                                        if (typeof (pycont2[0].Element) !== "undefined")
                                        {
                                            tel4 = pycont2[0].Element;
                                            var res = tel4.substring(0, 3);
                                            var res1 = tel4.substring(3, 6);
                                            var res2 = tel4.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel4.length > 9)
                                            {
                                                tel4 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel4 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pytype3.length > 0)
                            {
                                if (pytype3[0].Element === "TE")
                                {
                                    if (pycont3.length > 0)
                                    {
                                        if (typeof (pycont3[0].Element) !== "undefined")
                                        {
                                            tel6 = pycont3[0].Element;
                                            var res = tel6.substring(0, 3);
                                            var res1 = tel6.substring(3, 6);
                                            var res2 = tel6.substring(6, 10);
                                            // console.log(res);
                                            // console.log(res1);
                                            if (tel6.length > 9)
                                            {
                                                tel6 = res + "-" + res1 + "-" + res2;
                                            } else
                                            {
                                                tel6 = res;
                                            }

                                        }
                                    }

                                }
                            }

                            if (pytype1.length > 0)
                            {
                                if (pytype1[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + tel2);
                                } else
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + pycont1[0].Element);
                                }

                            }
                            if (pytype2.length > 0 && pytype1.length > 0)
                            {
                                if (pytype1[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + tel2 + '<br> ' + pytype2[0].Element + ': ' + pycont2[0].Element);
                                } else if (pytype2[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + pycont1[0].Element + '<br> ' + pytype2[0].Element + ': ' + tel4);
                                }

                            }

                            if (pytype3.length > 0 && pytype2.length > 0 && pytype1.length > 0)
                            {

                                if (pytype1[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + tel2 + '<br> ' + pytype2[0].Element + ': ' + pycont2[0].Element + '<br>' + pytype3[0].Element + ': ' + pycont3[0].Element);
                                } else if (pytype2[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + pycont1[0].Element + '<br> ' + pytype2[0].Element + ': ' + tel4 + '<br>' + pytype3[0].Element + ': ' + pycont3[0].Element);
                                } else if (pytype2[0].Element === "TE")
                                {
                                    $('#paytype').html(pytype1[0].Element + ': ' + pycont1[0].Element + '<br> ' + pytype2[0].Element + ': ' + pycont2[0].Element + '<br>' + pytype3[0].Element + ': ' + tel6);
                                }

                            }

                            var temppaytype = $('#paytype').text();
                            temppaytype = temppaytype.replace('<br>', '').replace('undefined', '').trim();
                            if (temppaytype.length === 0)
                            {
                                $('#paytyperow').hide();
                            }
                            var add1 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "1");
                            var add2 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "2");
                            var city = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "3");
                            if (pyname.length > 0)
                            {
                                if (typeof (pyname[0].Element) !== "undefined")
                                {
                                    $('#pyname').text(pyname[0].Element);
                                } else
                                {
                                    // $('#pynamerow').hide();
                                }

                            } else
                            {
                                // $('#pynamerow').hide();
                            }

                            var pyiinsid = '';
                            if (pyinsid.length > 0)
                            {
                                if (typeof (pyinsid[0].Element) !== "undefined")
                                {
                                    // $('#pyinsid').text(pyinsid[0].Element);
                                    pyiinsid = pyinsid[0].Element;
                                } else
                                {
                                    $('#pyinsidrow').hide();
                                }
                            } else
                            {
                                $('#pyinsidrow').hide();
                            }

                            if (memid.length > 0)
                            {
                                if (typeof (memid[0].Element) !== "undefined")
                                {
                                    $('#memid').text(pyiinsid + " | " + memid[0].Element);
                                } else
                                {
                                    $('#memidrow').hide();
                                }
                            } else
                            {
                                $('#memidrow').hide();
                            }


                            $('#planidrow').hide();
                            var vadd1 = "", vadd2 = "", vcity = "", vstate = "", vzip = "";
                            if (add1.length > 0)
                            {
                                if (typeof (add1[0].Element) !== "undefined")
                                {
                                    vadd1 = add1[0].Element;
                                }
                            }

                            if (add2.length > 0)
                            {
                                if (typeof (add2[0].Element) !== "undefined")
                                {
                                    vadd2 = add2[0].Element;
                                }
                            }
                            if (city.length > 0)
                            {
                                if (typeof (city[0].Element) !== "undefined")
                                {
                                    vcity = city[0].Element;
                                }
                            }
                            if (state.length > 0)
                            {
                                if (typeof (state[0].Element) !== "undefined")
                                {
                                    vstate = state[0].Element;
                                }
                            }
                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    vzip = zip[0].Element;
                                    var res = vzip.substring(0, 5);
                                    var res1 = vzip.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (vzip.length > 5)
                                    {
                                        vzip = res + "-" + res1;
                                    } else
                                    {
                                        vzip = res;
                                    }

                                }
                            }
                            $('#payaddress').html(vadd1 + '<br>' + vadd2 + ' ' + vcity + ' ' + vstate + ' ' + vzip);
                            var temppayaddress = $('#payaddress').text();
                            temppayaddress = temppayaddress.replace('<br>', '').replace('undefined', '').trim();
                            if (temppayaddress.length === 0)
                            {
                                $('#payaddressrow').hide();
                            }

                        } else
                        {
                            $('#Payorsegment').hide();
                        }

                    }
                }));


                _.defer($.ajax({
                    url: "getprorequestid",
                    type: "get", //send it through get method
                    data: {
                        prorequestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0)
                        {
                            var protype = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "2");
                            var pronpi = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "9");
                            var provider = '';
                            var lname = '';
                            var fname = '';
                            var mname = '';
                            var lnameval = '';
                            var fnameval = '';
                            var mnameval = '';
                            if (protype[0].Element === '1')
                            {
                                lname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                                fname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "4");
                                mname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "5");
                                if (typeof (lname[0].Element) !== "undefined")
                                {
                                    lnameval = lname[0].Element;
                                }
                                if (typeof (fname[0].Element) !== "undefined")
                                {
                                    fnameval = fname[0].Element;
                                }
                                if (typeof (mname[0].Element) !== "undefined")
                                {
                                    mnameval = mname[0].Element;
                                }
                                $('#proname').text(lnameval + ' ' + fnameval + ' ' + mnameval);
                                if ($('#proname').val.length === 0)
                                {
                                    $('#pronamerow').hide();
                                }

                            }

                            if (protype[0].Element === '2')
                            {
                                lname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                                if (typeof (lname[0].Element) !== "undefined")
                                {
                                    lnameval = lname[0].Element;
                                } else
                                {
                                    $('#pronamerow').hide();
                                }

                                $('#proname').text(lnameval);
                                if ($('#proname').val.length === 0)
                                {
                                    $('#pronamerow').hide();
                                }
                            }

                            if (typeof (pronpi[0].Element) !== "undefined")
                            {
                                $('#pronpi').text(pronpi[0].Element);
                            } else
                            {
                                $('#pronpirow').hide();
                            }
                            //   $('#flading').hide();
                        } else
                        {
                            $('#proinfo').hide();
                            $('#pronamerow').hide();
                            $('#pronpirow').hide();
                            $('#proinfosegment').hide();
                        }
                    }
                }));

                //EV Response
                _.defer($.ajax({
                    url: "getrequestid",
                    type: "get", //send it through get method
                    data: {
                        requestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        // console.log(response.Response);
                        //  var myJsonString = JSON.stringify(response);
                        if (response.Response.length > 0)
                        {
                            var lname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                            var fname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "4");
                            var mname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "5");
                            var dob = response.Response.filter(obj => obj.Segment === "DMG" && obj.Element_id === "2");
                            var gender = response.Response.filter(obj => obj.Segment === "DMG" && obj.Element_id === "3");
                            var add1 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "1");
                            var parent1 = response.Response.filter(obj => obj.Segment === "HL" && obj.Element_id === "3" && obj.element === "22");
                          //  console.log("Parent_1");
                           // console.log(parent1);
                            var add2 = "";
                            if(parent1.length > 0)
                            {
                                  add2 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "2" && obj.parent_1 === parent1[0].parent_1);
                            } 
                           
                            var city = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "3");
                            var chkmemid = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "8");


                            var insured = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "1");
                            var insuredrel = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "2");
                            var insuredchange3 = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "3");
                            var insuredchange4 = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "4");


                            if (insuredchange3.length > 0 && insuredchange4.length > 0)
                            {
                                if (typeof (insuredchange3[0].Element) !== "undefined" && typeof (insuredchange4[0].Element) !== "undefined")
                                {
                                    if (insuredchange3[0].Element === "001" && insuredchange4[0].Element === "25")
                                    {
                                        $('#subchangeval').text("Name/Address/IDs are different from Request");
                                    }

                                } else
                                {
                                    $('#subchangerel').hide();
                                }
                            } else
                            {
                                $('#subchangehead').hide();
                            }


                            if (insured.length > 0)
                            {
                                if (typeof (insured[0].INS01) !== "undefined")
                                {
                                    $('#subinsuredval').text(insured[0].INS01);
                                } else
                                {
                                    $('#subinsured').hide();
                                }
                            } else
                            {
                                $('#subinsuredhead').hide();
                            }


                            if (insuredrel.length > 0)
                            {
                                if (typeof (insuredrel[0].INS02) !== "undefined")
                                {
                                    $('#subinsuredrelval').text(insuredrel[0].INS02);
                                } else
                                {
                                    $('#subinsuredrel').hide();
                                }
                            } else
                            {
                                $('#subinsuredrelhead').hide();
                            }


                            var memid = '';
                            if (chkmemid.length > 0)
                            {
                                if (chkmemid[0].Element === 'MI')
                                {
                                    memid = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "9");
                                }
                            }

                            if ($('#efdate').text().length === 0)
                            {

                                $('#efdaterow').hide();
                            }

                            if ($('#patdos').text().length === 0)
                            {

                                $('#patdosrow').hide();
                            }
                            var lnameval = '';
                            var fnameval = '';
                            var mnameval = '';
                            if (typeof (lname[0].Element) !== "undefined")
                            {
                                lnameval = lname[0].Element;
                            }

                            if (typeof (fname[0].Element) !== "undefined")
                            {
                                fnameval = fname[0].Element;
                            }

                            if (typeof (mname[0].Element) !== "undefined")
                            {
                                mnameval = mname[0].Element;
                            }

                            $('#genderrow').hide();

                            var gender_val = "";
                            if (gender.length > 0)
                            {
                                if (typeof (gender[0].Element) !== "undefined")
                                {

                                    if (gender[0].Element === "M")
                                    {
                                        gender_val = "  |   Male";
                                    } else if (gender[0].Element === "F")
                                    {
                                        gender_val = "  |   Female";
                                    } else
                                    {
                                        gender_val = "  |   Unknown";
                                    }
                                    $('#gender').text(gender_val);

                                } else
                                {
                                    $('#genderrow').hide();
                                }
                            } else
                            {
                                $('#genderrow').hide();
                            }



                            if (lname.length > 0 && fname.length > 0 && mname.length > 0)
                            {
                                $('#ptname').text(lnameval + ', ' + fnameval + ' ' + mnameval);
                            } else if (lname.length > 0 && fname.length > 0 && mname.length === 0)
                            {
                                $('#ptname').text(lnameval + ', ' + fnameval);
                            } else if (lname.length > 0 && fname.length === 0 && mname.length > 0)
                            {
                                $('#ptname').text(lnameval + ', ' + mnameval);
                            } else if (lname.length > 0 && fname.length === 0 && mname.length === 0)
                            {
                                $('#ptname').text(lnameval);
                            } else if (lname.length === 0 && fname.length > 0 && mname.length === 0)
                            {
                                $('#ptname').text(fnameval);
                            } else if (lname.length === 0 && fname.length === 0 && mname.length > 0)
                            {
                                $('#ptname').text(mnameval);
                            } else if (lname.length === 0 && fname.length === 0 && mname.length === 0)
                            {
                                $('#ptnamerow').hide();
                            }

                            if (dob.length > 0)
                            {
                                if (typeof (dob[0].Element) !== "undefined")
                                {
                                    //  $('#dob').text(dob[0].Element);
                                    var f = dob[0].Element;
                                    // f = f.substring(0, 4) + "/" + f.substring(6, 4) + "/" + f.substring(8, 6);
                                    f = f.substring(6, 4) + "/" + f.substring(8, 6) + "/" + f.substring(0, 4);
                                    $('#dob').text(f);
                                } else
                                {
                                    $('#dobrow').hide();
                                }
                            } else
                            {
                                $('#dobrow').hide();
                            }


                            $('#contactrow').hide();


                            var vadd1 = "", vadd2 = "", vcity = "", vstate = "", vzip = "";
                            if (add1.length > 0)
                            {
                                if (typeof (add1[0].Element) !== "undefined")
                                {
                                    vadd1 = add1[0].Element;
                                }
                            }

                            if (add2.length > 0)
                            {
                                if (typeof (add2[0].Element) !== "undefined")
                                {
                                    vadd2 = add2[0].Element;
                                }
                            }
                            if (city.length > 0)
                            {
                                if (typeof (city[0].Element) !== "undefined")
                                {
                                    vcity = city[0].Element;
                                }
                            }
                            if (state.length > 0)
                            {
                                if (typeof (state[0].Element) !== "undefined")
                                {
                                    vstate = state[0].Element;
                                }
                            }


                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    vzip = zip[0].Element;
                                    var res = vzip.substring(0, 5);
                                    var res1 = vzip.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (vzip.length > 5)
                                    {
                                        vzip = res + "-" + res1;
                                    } else
                                    {
                                        vzip = res;
                                    }

                                }
                            }
                            $('#address').html(vadd1 + '<br> ' + vadd2 + ' ' + vcity + ' ' + vstate + ' ' + vzip);
                            if (memid.length > 0)
                            {
                                if (typeof (memid[0].Element) !== "undefined")
                                {
                                    $('#patmemid').text(memid[0].Element);
                                } else
                                {
                                    $('#patmemidrow').hide();
                                }
                            } else
                            {
                                $('#patmemidrow').hide();
                            }

                            if ($('#address').text().length === 0)
                            {

                                $('#addressrow').hide();
                            }
                        }
                    }
                }));


                _.defer($.ajax({
                    url: "getdeprequestid",
                    type: "get", //send it through get method
                    data: {
                        deprequestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0)
                        {
                            var lname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "3");
                            var fname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "4");
                            var mname = response.Response.filter(obj => obj.Segment === "NM1" && obj.Element_id === "5");


                            var dob = response.Response.filter(obj => obj.Segment === "DMG" && obj.Element_id === "2");
                            var gender = response.Response.filter(obj => obj.Segment === "DMG" && obj.Element_id === "3");

                            var add1 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "1");
                            var add2 = response.Response.filter(obj => obj.Segment === "N3" && obj.Element_id === "2");

                            var city = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Segment === "N4" && obj.Element_id === "3");


                            var seq = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "1");
                            console.log(seq);
                            var seq1 = "";
                            var seq2 = "";
                            var refheader1 = "";
                            var refval1 = "";
                            var refval1des = "";
                            var refheader2 = "";
                            var refval2 = "";
                            var refval2des = "";
                            var refheader3 = "";
                            var refval3 = "";
                            var refval3des = "";

                            if (seq.length > 0)
                            {
                                seq1 = parseInt(seq[0].segment_counter) + 1;
                                seq2 = parseInt(seq[0].segment_counter) + 2;
                                refheader1 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "1" && obj.segment_counter === seq[0].segment_counter);
                                refval1 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "2" && obj.segment_counter === seq[0].segment_counter);
                                refval1des = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "3" && obj.segment_counter === seq[0].segment_counter);

                                refheader2 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "1" && obj.segment_counter === seq1.toString());
                                refval2 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "2" && obj.segment_counter === seq1.toString());
                                refval2des = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "3" && obj.segment_counter === seq1.toString());
                                
                                refheader3 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "1" && obj.segment_counter === seq2);
                                refval3 = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "2" && obj.segment_counter === seq2);
                                refval3des = response.Response.filter(obj => obj.Segment === "REF" && obj.Element_id === "3" && obj.segment_counter === seq2);
                            }




                            var insured = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "1");
                            var insuredrel = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "2");
                            var insuredchange3 = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "3");
                            var insuredchange4 = response.Response.filter(obj => obj.Segment === "INS" && obj.Element_id === "4");
                            //   console.log(insuredchange4[0].Element);
                            if (insuredchange3.length > 0 && insuredchange4.length > 0)
                            {
                                if (typeof (insuredchange3[0].Element) !== "undefined" && typeof (insuredchange4[0].Element) !== "undefined")
                                {
                                    if (insuredchange3[0].Element === "001" && insuredchange4[0].Element === "25")
                                    {
                                        $('#depchangeval').text("Name/Address/IDs are different from Request");
                                    }

                                } else
                                {
                                    $('#depchangerel').hide();
                                }
                            } else
                            {
                                $('#depchangehead').hide();
                            }


                            if (insured.length > 0)
                            {
                                if (typeof (insured[0].INS01) !== "undefined")
                                {
                                    $('#depinsuredval').text(insured[0].INS01);
                                } else
                                {
                                    $('#depinsured').hide();
                                }
                            } else
                            {
                                $('#depinsuredhead').hide();
                            }


                            if (insuredrel.length > 0)
                            {
                                if (typeof (insuredrel[0].INS02) !== "undefined")
                                {
                                    $('#depinsuredrelval').text(insuredrel[0].INS02);
                                } else
                                {
                                    $('#depinsuredrel').hide();
                                }
                            } else
                            {
                                $('#depinsuredrelhead').hide();
                            }


                            if ($('#efdate').text().length === 0)
                            {

                                $('#efdaterow').hide();
                            }

                            if ($('#patdos').text().length === 0)
                            {

                                $('#patdosrow').hide();
                            }
                            var lnameval = '';
                            var fnameval = '';
                            var mnameval = '';

                            // console.log(lname);
                            if (lname.length > 0)
                            {
                                if (typeof (lname[0].Element) !== "undefined")
                                {
                                    lnameval = lname[0].Element;
                                }
                            }
                            if (fname.length > 0)
                            {
                                if (typeof (fname[0].Element) !== "undefined")
                                {
                                    fnameval = fname[0].Element;
                                }
                            }
                            if (mname.length > 0)
                            {
                                if (typeof (mname[0].Element) !== "undefined")
                                {
                                    mnameval = mname[0].Element;
                                }
                            }

                            if (lname.length > 0 && fname.length > 0 && mname.length > 0)
                            {
                                $('#depname').text(lnameval + ', ' + fnameval + ' ' + mnameval);
                            } else if (lname.length > 0 && fname.length > 0 && mname.length === 0)
                            {
                                $('#depname').text(lnameval + ', ' + fnameval);
                            } else if (lname.length > 0 && fname.length === 0 && mname.length > 0)
                            {
                                $('#depname').text(lnameval + ', ' + mnameval);
                            } else if (lname.length > 0 && fname.length === 0 && mname.length === 0)
                            {
                                $('#depname').text(lnameval);
                            } else if (lname.length === 0 && fname.length > 0 && mname.length === 0)
                            {
                                $('#depname').text(fnameval);
                            } else if (lname.length === 0 && fname.length === 0 && mname.length > 0)
                            {
                                $('#depname').text(mnameval);
                            } else if (lname.length === 0 && fname.length === 0 && mname.length === 0)
                            {
                                $('#depnamerow').hide();
                            }


                            if (dob.length > 0)
                            {
                                if (typeof (dob[0].Element) !== "undefined")
                                {
                                    var f = dob[0].Element;
                                    // f = f.substring(0, 4) + "/" + f.substring(6, 4) + "/" + f.substring(8, 6);
                                    f = f.substring(6, 4) + "/" + f.substring(8, 6) + "/" + f.substring(0, 4);
                                    $('#depdob').text(f);
                                } else
                                {
                                    $('#depdobrow').hide();
                                }
                            } else
                            {
                                $('#depdobrow').hide();
                            }



                            if (gender.length > 0)
                            {
                                if (typeof (gender[0].Element) !== "undefined")
                                {
                                    $('#depgender').text(gender[0].Element);
                                } else
                                {
                                    $('#depgenderrow').hide();
                                }
                            } else
                            {
                                $('#depgenderrow').hide();
                            }

                            var vadd1 = "", vadd2 = "", vcity = "", vstate = "", vzip = "";
                            if (add1.length > 0)
                            {
                                if (typeof (add1[0].Element) !== "undefined")
                                {
                                    vadd1 = add1[0].Element;
                                }
                            }

                            if (add2.length > 0)
                            {
                                if (typeof (add2[0].Element) !== "undefined")
                                {
                                    vadd2 = add2[0].Element;
                                }
                            }
                            if (city.length > 0)
                            {
                                if (typeof (city[0].Element) !== "undefined")
                                {
                                    vcity = city[0].Element;
                                }
                            }
                            if (state.length > 0)
                            {
                                if (typeof (state[0].Element) !== "undefined")
                                {
                                    vstate = state[0].Element;
                                }
                            }
                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    vzip = zip[0].Element;
                                    var res = vzip.substring(0, 5);
                                    var res1 = vzip.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (vzip.length > 5)
                                    {
                                        vzip = res + "-" + res1;
                                    } else
                                    {
                                        vzip = res;
                                    }

                                }
                            }



                            var checkdepaddr = vadd1 + vadd2 + vcity + vstate + vzip;
                            $('#depaddress').html(vadd1 + '<br> ' + vadd2 + ' ' + vcity + ' ' + vstate + ' ' + vzip);


                            if (checkdepaddr.length === 0)
                            {

                                $('#depaddressrow').hide();
                            }


                            // 1St ref
                            if (refheader1.length > 0)
                            {
                                $('#deprefheader1').text(refheader1[0].Ref02);
                            } else
                            {
                                $('#depref1').hide();
                            }

                            if (refval1.length > 0)
                            {
                                $('#deprefval1').text(refval1[0].Element);
                            }

                            if (refval1des.length > 0)
                            {
                                $('#deprefval1des').text(refval1des[0].Element);
                            } else
                            {
                                $('#depref1de').hide();

                            }

                            // 2nd Ref
                            if (refheader2.length > 0)
                            {
                                $('#deprefheader2').text(refheader2[0].Ref02);
                            } else
                            {
                                $('#depref2').hide();
                            }

                            if (refval2.length > 0)
                            {
                                $('#deprefval2').text(refval2[0].Element);
                            }

                            if (refval2des.length > 0)
                            {
                                $('#deprefval2des').text(refval2des[0].Element);
                            } else
                            {
                                $('#depref2de').hide();
                            }


                            // 3rd Ref
                            if (refheader3.length > 0)
                            {
                                $('#deprefheader3').text(refheader3[0].Ref02);
                            } else
                            {
                                $('#depref3').hide();
                            }

                            if (refval3.length > 0)
                            {
                                $('#deprefval3').text(refval3[0].Element);
                            }

                            if (refval3des.length > 0)
                            {
                                $('#deprefval3des').text(refval3des[0].Element);
                            } else
                            {
                                $('#depref3de').hide();
                            }


                            //   $('#flading').hide();
                        } else
                        {
                            $('#depentsegment').hide();
                        }
                    }
                }));

                function conversion(f)
                {
                    return  f.substring(6, 4) + "/" + f.substring(8, 6) + "/" + f.substring(0, 4);
                }




                function dtpfun(dtp, dtpheader, dtpval, valtag, dtpheadertag, headertag)
                {
                    if (dtp.length > 0)
                    {
                        if (dtpheader.length > 0)
                        {
                            if (dtpheader[0].Element === "D8")
                            {
                                $('#' + dtpheadertag + '').text(dtp[0].dtp);
                                if (dtpval.length > 0)
                                {
                                    // $('#dtpval1').text(conversion(dtpval[0].Element));
                                    $('#' + valtag + '').text(conversion(dtpval[0].Element));
                                }
                            } else if (dtpheader[0].Element === "RD8")
                            {
                                $('#' + dtpheadertag + '').text(dtp[0].dtp);
                                if (dtpval.length > 0)
                                {
                                    var splitstr = dtpval[0].Element;
                                    var dtp = splitstr.split('-');
                                    // $('#dtpval1').text(conversion(dtp[0]) + " - " + conversion(dtp[1]));
                                    $('#' + valtag + '').text(conversion(dtp[0]) + " - " + conversion(dtp[1]));
                                }
                            }
                        }

                    } else {
                        //$('#dep1').hide();
                        $('#' + headertag + '').hide();
                    }
                }


                _.defer($.ajax({
                    url: "getrefrequestid",
                    type: "get", //send it through get method
                    data: {
                        refrequestid: rid
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        if (response.Response.length > 0) {

                            var refheader1 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "1" && obj.Element_id === "1");
                            var refval1 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "1" && obj.Element_id === "2");
                            var refval1des = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "1" && obj.Element_id === "3");
                            var refheader2 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "2" && obj.Element_id === "1");
                            var refval2 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "2" && obj.Element_id === "2");
                            var refval2des = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "2" && obj.Element_id === "3");
                            var refheader3 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "3" && obj.Element_id === "1");
                            var refval3 = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "3" && obj.Element_id === "2");
                            var refval3des = response.Response.filter(obj => obj.Segment === "REF" && obj.segment_counter === "3" && obj.Element_id === "3");

                            var dtp1 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "1" && obj.Element_id === "1");
                            var dtpheader1 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "1" && obj.Element_id === "2");
                            var dtpval1 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "1" && obj.Element_id === "3");
                            var dtp2 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "2" && obj.Element_id === "1");
                            var dtpheader2 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "2" && obj.Element_id === "2");
                            var dtpval2 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "2" && obj.Element_id === "3");
                            var dtp3 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "3" && obj.Element_id === "1");
                            var dtpheader3 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "3" && obj.Element_id === "2");
                            var dtpval3 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "3" && obj.Element_id === "3");
                            var dtp4 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "4" && obj.Element_id === "1");
                            var dtpheader4 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "4" && obj.Element_id === "2");
                            var dtpval4 = response.Response.filter(obj => obj.Segment === "DTP" && obj.segment_counter === "4" && obj.Element_id === "3");


                            dtpfun(dtp1, dtpheader1, dtpval1, 'dtpval1', 'dtpheader1', 'dep1');
                            dtpfun(dtp2, dtpheader2, dtpval2, 'dtpval2', 'dtpheader2', 'dep2');
                            dtpfun(dtp3, dtpheader3, dtpval3, 'dtpval3', 'dtpheader3', 'dep3');
                            dtpfun(dtp4, dtpheader4, dtpval4, 'dtpval4', 'dtpheader4', 'dep4');

                            if (refheader1.length > 0)
                            {
                                $('#refheader1').text(refheader1[0].Ref02);
                            } else
                            {
                                $('#ref1').hide();
                            }

                            if (refval1.length > 0)
                            {
                                $('#refval1').text(refval1[0].Element);
                            }

                            if (refval1des.length > 0)
                            {
                                $('#refval1des').text(refval1des[0].Element);
                            } else
                            {
                                $('#ref1de').hide();

                            }

                            // 2nd Ref
                            if (refheader2.length > 0)
                            {
                                $('#refheader2').text(refheader2[0].Ref02);
                            } else
                            {
                                $('#ref2').hide();
                            }

                            if (refval2.length > 0)
                            {
                                $('#refval2').text(refval2[0].Element);
                            }

                            if (refval2des.length > 0)
                            {
                                $('#refval2des').text(refval2des[0].Element);
                            } else
                            {
                                $('#ref2de').hide();
                            }

                            // 3rd Ref
                            if (refheader3.length > 0)
                            {
                                $('#refheader3').text(refheader3[0].Ref02);
                            } else
                            {
                                $('#ref3').hide();
                            }

                            if (refval3.length > 0)
                            {
                                $('#refval3').text(refval3[0].Element);
                            }

                            if (refval3des.length > 0)
                            {
                                $('#refval3des').text(refval3des[0].Element);
                            } else
                            {
                                $('#ref3de').hide();
                            }


                        } else
                        {
                            $('#ref1').hide();
                            $('#ref1de').hide();
                            $('#ref2').hide();
                            $('#ref2de').hide();
                            $('#ref3').hide();
                            $('#ref3de').hide();
                        }
                    }
                }));




                _.defer($.ajax({
                    url: "getebrequestid",
                    type: "get", //send it through get method
                    data: {
                        ebrequestid: rid,
                        testid:'123'
                    },
                    async: true,
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response = jQuery.parseJSON(txt);
                        var data = response.Response;
                        if (data.length > 0)
                        {
                            var checkebsegment = data.filter(obj => obj.Segment === "EB");
                            var Ebstatustest = checkebsegment.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && typeof (obj.Parent_2) !== "undefined");
                            var Ebstatus = Ebstatustest.filter(obj => obj.Parent_2.indexOf("30") !== -1);
                            console.log(Ebstatustest);
                            var pcparent3check = checkebsegment.filter(obj => obj.Element === "1" && obj.Element_id === "1" && typeof (obj.Parent_2) !== "undefined");
                            var pcparent3 = pcparent3check.filter(obj => obj.Parent_2.indexOf("30") !== -1);
                            // var pcparent3 = checkebsegment.filter(obj => obj.Element === "1" && obj.Element_id === "1" && obj.Parent_2.indexOf("30") !== -1);
                            var plancd = '', plandet = '',plancd1 ='',plandet1 ='';

                            if (typeof (pcparent3[0]) !== "undefined")
                            {
                             plancd = data.filter(obj => obj.Segment === "EB" && obj.Parent_3 === pcparent3[0].Parent_3 && obj.Element_id === "5");
                             plandet = data.filter(obj => obj.Segment === "EB" && obj.Parent_3 === pcparent3[0].Parent_3 && obj.Element_id === "2");
                            }
                            if (typeof (pcparent3[1]) !== "undefined")
                            {
                             plancd1 = data.filter(obj => obj.Segment === "EB" && obj.Parent_3 === pcparent3[1].Parent_3 && obj.Element_id === "5");                                                        
                             plandet1 = data.filter(obj => obj.Segment === "EB" && obj.Parent_3 === pcparent3[1].Parent_3 && obj.Element_id === "2");
                            }
                          //  var plancd = data.filter(obj => obj.Segment === "EB" && obj.Element_id === "5" && obj.Parent_4 === "1");
                          //  var plancd1 = data.filter(obj => obj.Segment === "EB" && obj.Element_id === "5" && obj.Parent_4 === "2");
                          //  var plandet = data.filter(obj => obj.Segment === "EB" && obj.Element_id === "2" && obj.Parent_4 === "1");
                          //  var plandet1 = data.filter(obj => obj.Segment === "EB" && obj.Element_id === "2" && obj.Parent_4 === "2");
                            var subcriber = data.filter(obj => obj.Segment === "HL" && obj.Element === "3" && obj.Element_id === "1");
                            var dependent = data.filter(obj => obj.Segment === "HL" && obj.Element === "4" && obj.Element_id === "1");
                            var planflag = '';
                            // var Ebstatus = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1");
                            // console.log(subcriber[0].Parent_1);
                            console.log("EBStatus:");
                            console.log(Ebstatus);

                            var subins01 = '';
                            var dubins01 = '';
                            if (subcriber.length > 0)
                            {
                                subins01 = data.filter(obj => obj.Parent_1 === subcriber[0].Parent_1 && obj.Segment === "INS" && obj.Element_id === "1");
                            }
                            if (dependent.length > 0)
                            {
                                dubins01 = data.filter(obj => obj.Parent_1 === dependent[0].Parent_1 && obj.Segment === "INS" && obj.Element_id === "1");
                            }

                            if (subins01.length > 0)
                            {


                                if (subins01[0].Element === "Y")
                                {
                                    console.log("Ebstatus[0]: ");
                                    console.log(Ebstatus[0]);
                                    if (typeof (Ebstatus[0]) !== "undefined")
                                    {
                                        var Ebstatus02 = data.filter(obj => obj.Parent_4 === Ebstatus[0].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");
                                        console.log("Ebstatus02: ");
                                        console.log(Ebstatus02);

                                        if (Ebstatus02.length > 0)
                                        {
                                            console.log(Ebstatus02[0].Element);
                                            if (typeof (Ebstatus02[0].Element) === "undefined" || Ebstatus02[0].Element === "EMP" || Ebstatus02[0].Element === "IND" || Ebstatus02[0].Element === "ECH" || Ebstatus02[0].Element === "ESP")
                                            {
                                                if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                {
                                                    $('#status').text("Active");
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                } else
                                                {
                                                    $('#status').text(Ebstatus[0].eb01);
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                }
                                                console.log(Ebstatus[0].eb01);

                                            }
                                        }
                                    } else
                                    {
                                        $('#status').text("Check details");
                                        $('#status').addClass("label-primary");
                                        planflag = "1";
                                    }

                                    console.log("subins01: ");
                                    console.log(Ebstatus02);
                                    console.log("subins01: ");
                                    console.log(Ebstatus03);
                                    console.log(Ebstatus[1]);


                                    if (typeof (Ebstatus[1]) !== "undefined")
                                    {

                                        if (Ebstatus[1].Element === "1" || Ebstatus[1].Element === "2" || Ebstatus[1].Element === "3" || Ebstatus[1].Element === "4" || Ebstatus[1].Element === "5" || Ebstatus[1].Element === "6" || Ebstatus[1].Element === "7" || Ebstatus[1].Element === "8")
                                        {

                                            var Ebstatus03 = data.filter(obj => obj.Parent_4 === Ebstatus[1].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");
                                            var Ebstatus02 = data.filter(obj => obj.Parent_4 === Ebstatus[0].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");
                                            console.log("Ebstatus03: ");
                                            console.log(Ebstatus03);
                                            if (Ebstatus02.length > 0)
                                            {
                                                console.log(typeof (Ebstatus02[0].Element));
                                                // console.log(Ebstatus03);
                                                if (typeof (Ebstatus02[0].Element) !== "undefined" || Ebstatus02[0].Element !== "EMP" || Ebstatus02[0].Element !== "IND" || Ebstatus02[0].Element !== "ECH" || Ebstatus02[0].Element !== "ESP")
                                                {
                                                    console.log('Muthu');
                                                    if (typeof (Ebstatus03[0].Element) === "undefined" || Ebstatus03[0].Element === "EMP" || Ebstatus03[0].Element === "IND" || Ebstatus03[0].Element === "ECH" || Ebstatus03[0].Element === "ESP")
                                                    {
                                                        if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                        {
                                                            $('#status').text("Active");
                                                            $('#status').addClass("label-primary");
                                                            planflag = "1";
                                                        } else
                                                        {
                                                            $('#status').text(Ebstatus[0].eb01);
                                                            $('#status').addClass("label-primary");
                                                            planflag = "1";
                                                        }

                                                    } else
                                                    {

                                                        if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                        {
                                                            $('#status').text("Active");
                                                            $('#status').addClass("label-primary");
                                                            planflag = "1";
                                                        } else
                                                        {
                                                            $('#status').text(Ebstatus[0].eb01);
                                                            $('#status').addClass("label-primary");
                                                            planflag = "1";
                                                        }

                                                        planflag = "1";
                                                    }
                                                } else
                                                {
                                                    if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                    {
                                                        $('#status').text("Active");
                                                        $('#status').addClass("label-primary");
                                                        planflag = "1";
                                                    } else
                                                    {
                                                        $('#status').text(Ebstatus[0].eb01);
                                                        $('#status').addClass("label-primary");
                                                        planflag = "1";
                                                    }

                                                    planflag = "1";
                                                }
                                            }
                                        } else
                                        {
                                            if (typeof (Ebstatus[0]) !== "undefined")
                                            {
                                                if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                {
                                                    $('#status').text("Active");
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                } else
                                                {
                                                    $('#status').text(Ebstatus[0].eb01);
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                }
                                                //  $('#status').text(Ebstatus[0].eb01);
                                                //  $('#status').addClass("label-primary");
                                                // planflag = "1";
                                            } else
                                            {
                                                $('#status').text("Check details");
                                                $('#status').addClass("label-primary");
                                                planflag = "1";
                                            }

                                        }
                                    } else
                                    {
                                        if (typeof (Ebstatus[0]) !== "undefined")
                                        {
                                            if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                            {
                                                $('#status').text("Active");
                                                $('#status').addClass("label-primary");
                                                planflag = "1";
                                            } else
                                            {
                                                $('#status').text(Ebstatus[0].eb01);
                                                $('#status').addClass("label-primary");
                                                planflag = "1";
                                            }
                                            //  $('#status').text(Ebstatus[0].eb01);
                                            //  $('#status').addClass("label-primary");
                                            //  planflag = "1";
                                        } else
                                        {
                                            $('#status').text("Check details");
                                            $('#status').addClass("label-primary");
                                            planflag = "1";
                                        }

                                    }

                                }


                            }

                            if (dubins01.length > 0)
                            {
                                if (dubins01[0].Element === "N")
                                {
                                    if (typeof (Ebstatus[0]) !== "undefined")
                                    {
                                        var Ebstatus02 = data.filter(obj => obj.Parent_4 === Ebstatus[0].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");

                                        if (Ebstatus02.length > 0)
                                        {
                                            console.log(Ebstatus02[0].Element);
                                            if (typeof (Ebstatus02[0].Element) !== "undefined" || Ebstatus02[0].Element !== "EMP" || Ebstatus02[0].Element !== "IND" || Ebstatus02[0].Element !== "ECH" || Ebstatus02[0].Element !== "ESP")
                                            {
                                                if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                {
                                                    $('#status').text("Active");
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                } else
                                                {
                                                    $('#status').text(Ebstatus[0].eb01);
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                }
                                                //   $('#status').text(Ebstatus[0].eb01);
                                                //   $('#status').addClass("label-primary");
                                                //   planflag = "1";
                                            }

                                            if (typeof (Ebstatus02[0].Element) === "undefined")
                                            {
                                                if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                {
                                                    $('#status').text("Active");
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                } else
                                                {
                                                    $('#status').text(Ebstatus[0].eb01);
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                }
                                                //  $('#status').text(Ebstatus[0].eb01);
                                                //  $('#status').addClass("label-primary");
                                                //  planflag = "1";
                                            }

                                        }

                                    } else
                                    {

                                        $('#status').text("Check details");
                                        $('#status').addClass("label-primary");
                                        planflag = "1";
                                    }
                                    // console.log(dubins01[0].Element);


                                    console.log("dubins01: ");
                                    console.log(Ebstatus02);
                                    console.log("dubins01: ");
                                    console.log(Ebstatus03);

                                    if (typeof (Ebstatus[0]) !== "undefined" && typeof (Ebstatus[1]) !== "undefined")
                                    {
                                        console.log("Both undefined");
                                        var Ebstatus02 = data.filter(obj => obj.Parent_4 === Ebstatus[0].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");
                                        var Ebstatus03 = data.filter(obj => obj.Parent_4 === Ebstatus[1].Parent_4 && obj.Segment === "EB" && obj.Element_id === "2");

                                        if (Ebstatus[1].Element === "1" || Ebstatus[1].Element === "2" || Ebstatus[1].Element === "3" || Ebstatus[1].Element === "4" || Ebstatus[1].Element === "5" || Ebstatus[1].Element === "6" || Ebstatus[1].Element === "7" || Ebstatus[1].Element === "8")
                                        {
                                            if (Ebstatus02.length > 0)
                                            {
                                                if (Ebstatus02[0].Element === "EMP" || Ebstatus02[0].Element === "IND" || Ebstatus02[0].Element === "ECH" || Ebstatus02[0].Element === "ESP")
                                                {
                                                    if (Ebstatus03.length > 0)
                                                    {
                                                        // console.log(Ebstatus03[0].Element);
                                                        if (typeof (Ebstatus03[0].Element) === "undefined")
                                                        {
                                                            if (Ebstatus[1].eb01 === "Primary Care Provider" || Ebstatus[1].eb01 === "Other or additional payor" || Ebstatus[1].eb01 === "Contact following entity for benefit information" || Ebstatus[1].eb01 === "Cont addl vendor for benefits")
                                                            {
                                                                $('#status').text("Active");
                                                                $('#status').addClass("label-primary");
                                                                planflag = "2";
                                                            } else
                                                            {
                                                                $('#status').text(Ebstatus[1].eb01);
                                                                $('#status').addClass("label-primary");
                                                                planflag = "2";
                                                            }
                                                            //  $('#status').text(Ebstatus[1].eb01);
                                                            //  $('#status').addClass("label-primary");
                                                            //  planflag = "2";
                                                        } else if (typeof (Ebstatus03[0].Element) !== "undefined" || Ebstatus03[0].Element !== "EMP" || Ebstatus03[0].Element !== "IND" || Ebstatus03[0].Element !== "ECH" || Ebstatus03[0].Element !== "ESP")
                                                        {
                                                            if (Ebstatus[1].eb01 === "Primary Care Provider" || Ebstatus[1].eb01 === "Other or additional payor" || Ebstatus[1].eb01 === "Contact following entity for benefit information" || Ebstatus[1].eb01 === "Cont addl vendor for benefits")
                                                            {
                                                                $('#status').text("Active");
                                                                $('#status').addClass("label-primary");
                                                                planflag = "2";
                                                            } else
                                                            {
                                                                $('#status').text(Ebstatus[1].eb01);
                                                                $('#status').addClass("label-primary");
                                                                planflag = "2";
                                                            }
                                                            //  $('#status').text(Ebstatus[1].eb01); // Corrected
                                                            //  $('#status').addClass("label-primary");
                                                            //   planflag = "2";

                                                        } else
                                                        {
                                                            $('#status').text("Check details");
                                                            planflag = "1";
                                                        }
                                                    }
                                                }
                                            }
                                        } else
                                        {
                                            if (typeof (Ebstatus[0]) !== "undefined")
                                            {
                                                if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                                {
                                                    $('#status').text("Active");
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                } else
                                                {
                                                    $('#status').text(Ebstatus[0].eb01);
                                                    $('#status').addClass("label-primary");
                                                    planflag = "1";
                                                }
                                                // $('#status').text(Ebstatus[0].eb01);
                                                // $('#status').addClass("label-primary");
                                                // planflag = "1";
                                            } else
                                            {
                                                $('#status').text("Check details");
                                                $('#status').addClass("label-primary");
                                                planflag = "1";
                                            }
                                        }

                                    }

                                }

                            }

                            if (subins01.length === 0 && dubins01.length === 0)
                            {
                                console.log('empty');
                                if (typeof (Ebstatus[0]) !== "undefined")
                                {
                                    if (Ebstatus[0].eb01 === "Primary Care Provider" || Ebstatus[0].eb01 === "Other or additional payor" || Ebstatus[0].eb01 === "Contact following entity for benefit information" || Ebstatus[0].eb01 === "Cont addl vendor for benefits")
                                    {
                                        $('#status').text("Active");
                                        $('#status').addClass("label-primary");
                                        planflag = "1";
                                    } else
                                    {
                                        $('#status').text(Ebstatus[0].eb01);
                                        $('#status').addClass("label-primary");
                                        planflag = "1";
                                    }
                                    // $('#status').text(Ebstatus[0].eb01);
                                    //  $('#status').addClass("label-primary");
                                    //  planflag = "1";
                                } else
                                {
                                    $('#status').text("Check details");
                                    $('#status').addClass("label-primary");
                                    planflag = "1";
                                }
                            }




                            if (plancd.length > 0)
                            {
                                if (typeof (plancd[0].Element) === "undefined")
                                {
                                    $('#plancovdetailsrow').hide();
                                } else
                                {
                                    if (plancd1.length > 0)
                                    {
                                        if (planflag === '1')
                                        {
                                            $('#plancd').text(plancd[0].Element);
                                        } else
                                        {
                                            $('#plancd').text(plancd1[0].Element);
                                        }
                                    } else
                                    {
                                        if (planflag === '1')
                                        {
                                            $('#plancd').text(plancd[0].Element);
                                        }

                                    }

                                }
                            } else
                            {
                                if (plancd1.length > 0)
                                {
                                    if (planflag === '2')
                                    {

                                        $('#plancd').text(plancd1[0].Element);
                                    }
                                } else
                                {
                                    $('#plancovdetailsrow').hide();
                                }
                            }

                            if (plandet.length > 0)
                            {
                                if (typeof (plandet[0].Element) === "undefined")
                                {
                                    $('#plandetailsrow').hide();
                                } else
                                {

                                    if (plandet1.length > 0)
                                    {
                                        if (planflag === '1')
                                        {
                                            $('#plandet').text(plandet[0].eb02);
                                        } else
                                        {
                                            $('#plandet').text(plandet1[0].eb02);
                                        }
                                    } else
                                    {
                                        if (planflag === '1')
                                        {
                                            $('#plandet').text(plandet[0].eb02);
                                        }

                                    }

                                }
                            } else
                            {
                                if (plandet1.length > 0)
                                {
                                    if (planflag === '2')
                                    {

                                        $('#plandet').text(plandet1[0].Element);
                                    }
                                } else
                                {
                                    $('#plandetailsrow').hide();
                                }

                            }


                            //Deduction
                            
                            if (checkebsegment.length > 0)
                            {
                                
                                if ($('#status').text() !== "Cannot process")
                                {
                                    $('#accordionExample').show();
                                    $('#accordionExample1').show();
                                    $('#accordionExample2').show();
                                    $('#accordionExample3').show();
                                    
                                    FetchOtherPayorLoop(response);
                                    FetchSegmentLoop_6(response);
                                    FetchSegmentLoop_1(response);
                                    
                                    //Loop Segment
                                    setTimeout(function ()
                                    {
                                        FetSegment30Loop(response);
                                        FetchUncoveredsegment(response);
                                        $('#flading').hide();

                                    }, 8000);


                                    if ($('#loopsegmentop').html() === '')
                                    {
                                        $('#Otherpayer').hide();
                                    }


                                    if ($('#loopsegment5').html() === '')
                                    {
                                        $('#Uncoveredservices').hide();
                                    }


                                    //In Active
                                    if ($('#collapseplan6').find('#Network').find('#famin').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplan6').find('#Network').find('#famout').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplan6').find('#Network').find('#famany').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplan6').find('#Network').find('#famun').find('tbody').html() === '')
                                                {
                                                    // $('#loopsegmentplanc').hide();
                                                    $('#collapseplan6').find('#familyh6').hide();
                                                }
                                            }
                                        }
                                    }


                                    if ($('#collapseplan6').find('#Network').find('#indin').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplan6').find('#Network').find('#indout').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplan6').find('#Network').find('#indany').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplan6').find('#Network').find('#indun').find('tbody').html() === '')
                                                {
                                                    // $('#loopsegmentplanc').hide();
                                                    $('#collapseplan6').find('#Network').find('#indivh6').hide();
                                                }
                                            }
                                        }
                                    }


                                    if ($('#collapseplan6').find('#Network').find('#otherin').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplan6').find('#Network').find('#otherout').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplan6').find('#Network').find('#otherany').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplan6').find('#Network').find('#otherun').find('tbody').html() === '')
                                                {
                                                    // $('#loopsegmentplanc').hide();
                                                    $('#collapseplan6').find('#Network').find('#otherh6').hide();
                                                }
                                            }
                                        }
                                    }


                                    if ($('#collapseplan6').find('#Network').find('#famin').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplan6').find('#Network').find('#famout').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplan6').find('#Network').find('#famany').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplan6').find('#Network').find('#famun').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplan6').find('#Network').find('#indin').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplan6').find('#Network').find('#indout').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplan6').find('#Network').find('#indany').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplan6').find('#Network').find('#indun').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplan6').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplan6').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplan6').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                            {
                                                                                if ($('#collapseplan6').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                                {

                                                                                    $('#loopsegmentplan6').hide();
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }

                                    if ($('#collapseplan6').find('#Network').find('#famin').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#famin').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#famout').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#famany').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#famany').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#famun').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#famun').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#indin').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#indin').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#indout').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#indany').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#indany').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#indun').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#indun').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#otherin').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#otherin').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#otherout').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#otherany').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#otherany').hide();
                                    }
                                    if ($('#collapseplan6').find('#Network').find('#otherun').find('tbody').html() === '')
                                    {
                                        $('#collapseplan6').find('#Network').find('#otherun').hide();
                                    }


                                    //Active
                                    if ($('#collapseplanactive').find('#Network').find('#famin').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanactive').find('#Network').find('#famout').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanactive').find('#Network').find('#famany').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplanactive').find('#Network').find('#famun').find('tbody').html() === '')
                                                {

                                                    if ($('#collapseplanactive').find('#Network').find('#otherany').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplanactive').find('#Network').find('#otherun').find('tbody').html() === '')
                                                        {

                                                            $('#loopsegmentplan1').hide();
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }

                                    if ($('#collapseplanactive').find('#Network').find('#famin').find('tbody').html() === '')
                                    {

                                        $('#collapseplanactive').find('#Network').find('#famin').hide();
                                    }
                                    if ($('#collapseplanactive').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        $('#collapseplanactive').find('#Network').find('#famout').hide();
                                    }
                                    if ($('#collapseplanactive').find('#Network').find('#famany').find('tbody').html() === '')
                                    {
                                        $('#collapseplanactive').find('#Network').find('#famany').hide();
                                    }
                                    if ($('#collapseplanactive').find('#Network').find('#famun').find('tbody').html() === '')
                                    {
                                        $('#collapseplanactive').find('#Network').find('#famun').hide();
                                    }
                                    if ($('#collapseplanactive').find('#Network').find('#otherany').find('tbody').html() === '')
                                    {
                                        $('#collapseplanactive').find('#Network').find('#otherany').hide();
                                    }
                                    if ($('#collapseplanactive').find('#Network').find('#otherun').find('tbody').html() === '')
                                    {
                                        $('#collapseplanactive').find('#Network').find('#otherun').hide();
                                    }

                                    $('#plancoverage').show();
                                    $('#generallimitation').show();
                                    $('#otheractive').show();
                                    ErrorHanding(response);
                                    $('#Errorhandling').show();
                                 

                                } else
                                {
                                  
                                    $('#Uncoveredservices').hide();
                                    $('#plancoverage').hide();
                                    $('#accordionExample').hide();
                                    $('#generallimitation').hide();
                                    $('#accordionExample1').hide();
                                    $('#accordionExample2').hide();
                                    $('#accordionExample3').hide();
                                    $('#otheractive').hide();
                                    ErrorHanding(response);
                                    $('#Errorhandling').show();
                                    $('#flading').hide();

                                }
                            } else
                            {
                               
                                $('#plancoverage').hide();
                                $('#accordionExample').hide();
                                $('#generallimitation').hide();
                                $('#accordionExample1').hide();
                                $('#accordionExample2').hide();
                                $('#accordionExample3').hide();
                                $('#otheractive').hide();
                                $('#Otherpayer').hide();
                                $('#Uncoveredservices').hide();
                                ErrorHanding(response);
                                $('#Errorhandling').show();
                                $('#flading').hide();
                            }

                        } else
                        {
                            msgbox("No Data", "Eligibility Response Form", "warning");
                            $('#plancoverage').hide();
                            $('#generallimitation').hide();
                            $('#accordionExample').hide();
                            $('#accordionExample1').hide();
                            $('#accordionExample2').hide();
                            $('#accordionExample3').hide();
                            $('#otheractive').hide();
                            $('#Errorhandling').hide();
                            $('#accordionExample4').hide();
                            $('#accordionExample5').hide();
                            $('#accordionExample6').hide();
                            $('#accordionExample7').hide();
                            $('#Uncoveredservices').hide();
                            $('#Otherpayer').hide();
                            $('#flading').hide();
                        }
                    }
                }));

            });
 

    $(document).ready(function () {
        var rid = GetParameterValues('rid');
        rid = parseInt(rid);
       

        function GetParameterValues(param) {
            var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for (var i = 0; i < url.length; i++) {
                var urlparam = url[i].split('=');
                if (urlparam[0] === param) {
                    return urlparam[1];
                }
            }
        }


        const groupBy = (array, key) => {

            return array.reduce((result, currentValue) => {

                (result[currentValue[key]] = result[currentValue[key]] || []).push(
                        currentValue
                        );

                return result;
            }, {});
        };

        function Appendtag(gn, gnid, element, heading, tagvalue, spanid, loopsegment, func, Limitation)
        {

            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
            var ltpinid = "accordionExampleloop" + segmentid;
            var ltpin = "";
            if (heading !== '')
            {
                if (Limitation !== "")
                {
                    //$('#' + loopsegment + '').find('#' + ltpinid).find('a').css("color", "#FF9764");
                    $('#' + loopsegment + '').find('#' + ltpinid).find('a').find('span').html('');
                    $('#' + loopsegment + '').find('#' + ltpinid).find('a').append("<span style='background-color: red; color: white; font-family: cursive !important; font-size: 14px !important; font-weight: 100;'>" + heading + "</span>");
                } else
                {
                    $('#' + loopsegment + '').find('#' + ltpinid).find('a').find('span').html('');
                    $('#' + loopsegment + '').find('#' + ltpinid).find('a').append("<span style='color: #0c0c0c; font-family: cursive !important; font-size: 14px !important; font-weight: 100;'>" + heading + "</span>");
                }

            }

            if (typeof (element) !== "undefined")
            {
                if (func === "6")
                {
                    ltpin = (element);
                } else if (func === "9")
                {
                    ltpin = (element);
                } else if (func === "12")
                {
                    ltpin = (element);
                    // console.log(element);
                } else if (func === "11")
                {
                    ltpin = (element);
                } else
                {
                    ltpin = element;
                }


                if (ltpin !== "")
                {

                    if (tagvalue === "MSG" || tagvalue === "POS")
                    {
                        $('#' + loopsegment + '').find('#' + ltpinid).show();
                        $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left' style='line-height:1.2'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; width: inherit;'>" + ltpin + "</span></td></tr>");
                    } else
                    {
                        if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                        {
                            if (ltpin === "YES")
                            {
                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            } else if (ltpin === "NO")
                            {
                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            } else
                            {
                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            }

                        } else
                        {

                            if (tagvalue === "Payor Name")
                            {
                                if (func === "30")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><h4><span id='" + spanid + gn.trim() + "' class='badge badge-primary float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></h4></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                }


                            } else if (tagvalue === "Payor Type")
                            {
                                if (func === "30")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><h4><span id='" + spanid + gn.trim() + "' class='badge badge-warning float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></h4></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                }


                            } else
                            {
                                $('#' + loopsegment + '').find('#' + ltpinid).show();
                                $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; '>" + ltpin + "</span></td></tr>");

                            }



                        }
                    }
                } else
                {
                    $('#' + loopsegment + '').find('#' + ltpinid).hide();
                }

            } else
            {
                $('#' + loopsegment + '').find('#' + ltpinid).hide();
            }
        }
        function Appendtagsubgroup(gn, gnid, element, heading, tagvalue, spanid, loopsegment, func, Limitation, tableid, subtableid)
        {

            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
            var ltpinid = segmentid;
            if (heading !== '')
            {
                if (Limitation !== "")
                {
                    $('#' + loopsegment + '').find('#' + ltpinid).find('a').css("color", "#FF9764");
                }

            }
            if (typeof (element) !== "undefined")
            {
                if (func === "6")
                {
                    var ltpin = (element);
                } else if (func === "9")
                {
                    var ltpin = (element);
                } else if (func === "12")
                {
                    var ltpin = (element);

                } else if (func === "11")
                {
                    var ltpin = (element);
                } else
                {
                    var ltpin = element;
                }


                if (ltpin !== "")
                {
                    if (tableid === "F")
                    {

                        if (subtableid === "IN-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }

                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                }
                            }



                        } else if (subtableid === "OUT-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }

                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        } else if (subtableid === "Any")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement" || tagvalue === "Limitation Amount | Any")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        } else if (subtableid === "Unknown")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#famun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        }


                    } else if (tableid === "I")
                    {

                        if (subtableid === "IN-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }

                            } else
                            {

                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        } else if (subtableid === "OUT-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {

                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }

                            }
                        } else if (subtableid === "Any")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        } else if (subtableid === "Unknown")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {

                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#indun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        }

                    } else if (tableid === "O")
                    {
                        if (subtableid === "IN-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherin').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }
                        } else if (subtableid === "OUT-Network")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherout').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");

                                }
                            }

                        } else if (subtableid === "Any")
                        {
                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }
                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherany').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                }
                            }
                        } else if (subtableid === "Unknown")
                        {

                            if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                            {
                                if (ltpin === "YES")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else if (ltpin === "NO")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                }

                            } else
                            {
                                if (tagvalue === "Remaining | " + subtableid || tagvalue === "OOP | Remaining | " + subtableid || tagvalue === "Remaining")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all;  background-color: yellow; color: black; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                                } else if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                                } else
                                {
                                    $('#' + loopsegment + '').find('#' + ltpinid).show();
                                    $('#' + loopsegment + '').find('#' + ltpinid).find('#Network').find('#otherun').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-all; width: inherit;'>" + ltpin + "</span></td></tr>");
                                }
                            }
                        }

                    }


                } else
                {

                }

            } else
            {

            }
        }

        function DTP(dtp1, dtp2, dtp3)
        {

            var result = '';
            if (dtp3.length > 0)
            {
                if (dtp2.length > 0)
                {
                    if (dtp2[0].Element === "D8")
                    {
                        result = dtp1[0].dtp + "~" + conversion(dtp3[0].Element);

                    } else if (dtp2[0].Element === "RD8")
                    {
                        var splitstr = dtp3[0].Element;
                        var dtp = splitstr.split('-');
                        result = dtp1[0].dtp + "~" + conversion(dtp[0]) + " - " + conversion(dtp[1]);
                    }
                }
            }
            return result;
        }

        function msgsegment(msg)
        {

            var ltinmsg = '';
            if (msg.length > 0)
            {
                if (msg.length > 1)
                {

                    for (var i = 0; i < msg.length; i++)
                    {
                        var incStr = msg[i].Element;
                        var checkmsg = incStr.search("SEQ#");
                        if (checkmsg === -1)
                        {
                            ltinmsg = ltinmsg + msg[i].Element + "<br>";
                        }

                    }

                } else
                {
                    var incStr = msg[0].Element;
                    var checkmsg = incStr.search("SEQ#");
                    if (checkmsg === -1)
                    {
                        ltinmsg = msg[0].Element;
                    }
                }
                return ltinmsg;
            }
        }


        function iiimsgsegment(msg)
        {
            if (msg.length > 0)
            {
                if (msg.length > 1)
                {
                    var ltinmsg = '';
                    for (var i = 0; i < msg.length; i++)
                    {

                        if (typeof (msg[i].III02) !== "undefined")
                        {

                            if (typeof (msg[i].III01) !== "undefined")
                            {

                                ltinmsg = ltinmsg + msg[i].III01 + " | " + msg[i].III02 + " ";
                            } else
                            {
                                ltinmsg = ltinmsg + msg[i].III02 + " ";
                            }


                        } else
                        {
                            if (typeof (msg[i].III01) !== "undefined")
                            {
                                ltinmsg = ltinmsg + msg[i].III01 + " ";

                            }

                        }
                    }
                }
            } else
            {
                if (typeof (msg[i].III01) !== "undefined")
                {
                    ltinmsg = msg[0].III01;
                }
                if (typeof (msg[i].III02) !== "undefined")
                {
                    ltinmsg = msg[0].III02;
                }

            }
            return ltinmsg;
        }

        function conversion(f)
        {
            return  f.substring(6, 4) + "/" + f.substring(8, 6) + "/" + f.substring(0, 4);
        }


        var coinnet = "0";
        var cooutnet = "0";
        var coany = "0";
        var copayinnet = "0";
        var copayoutnet = "0";
        var copayany = "0";
        var lain = "";
        var laout = "";
        var lpout = "";
        var laany = "";
        var lpany = "";
        var ltinmsg = "";


        function FetchSegmentLoop_A(response)
        {
            var segloop;
            var loop;
            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "A" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");
            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplana";
            $('#loopsegmentplana').append("<div class='accordion' id= 'accordionExampleloopcoins'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplancoins'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplancoins' aria-expanded='false' aria-controls='collapseplancoins'><i class='fas fa-angle-down rotate-icon'></i> Co-Insurance </a></h5></div>" +
                    "<div id='collapseplancoins' class='collapse card-body' aria-labelledby='headingplancoins' data-parent='#accordionExampleloopcoins'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<br><h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");


            var chkcoinsmedi = [];
            while (chkcoinsmedi.length > 0) {
                chkcoinsmedi.pop();
            }
            console.log(chkcoinsmedi);



            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var coinssegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "A" && obj.Element_id === "1");
                        if (coinssegmentdetails.length > 0)
                        {

                            var coinsinsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var EB8Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            //DTP


                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB8Segment.length > 0)
                                {
                                    if (typeof (EB8Segment[0].Element) !== "undefined")
                                    {

                                        eb2seg = parseFloat(EB8Segment[0].Element) * 100;
                                        eb2seg = eb2seg + " %";
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "In Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "Out of Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }

                                    }
                                } else
                                {
                                    netwk = "Unknown";
                                }


                                if (EB4Segment.length > 0)
                                {

                                    if (EB4Segment[0].Element === "MA")
                                    {

                                        if (chkcoinsmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkcoinsmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "coins", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else if (EB4Segment[0].Element === "MB")
                                    {
                                        if (chkcoinsmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkcoinsmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "coins", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "coins", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }

                                    }
                                }
                                Appendtagsubgroup("accordionExampleloop", "coins", eb2seg, "", eb06, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                Appendtagsubgroup("accordionExampleloop", "coins", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);


                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", netwk);
                                }


                            } else
                            {
                                if (coinsinsegmentdetails1.length === 0)
                                {
                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                        }
                                    }



                                    Appendtagsubgroup("accordionExampleloop", "coins", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    Appendtagsubgroup("accordionExampleloop", "coins", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", "Unknown");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", "Unknown");
                                    }

                                }
                            }


                            if (coinsinsegmentdetails1.length > 0)
                            {

                                if (coinsinsegmentdetails1[0].Element === "Y")
                                {
                                    var header = '';
                                    var head = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                                head = 'F';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                                head = 'I';
                                            } else
                                            {
                                                header = ' ';
                                                head = 'O';
                                            }
                                        }
                                    }



                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            coinnet = parseFloat(element8[0].Element) * 100;
                                            coinnet = coinnet + " %";
                                        }


                                        Appendtagsubgroup("accordionExampleloop", "coins", coinnet, "", "IN-Network", "coinsinval", loop, "", "", head, "IN-Network");
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtagsubgroup("accordionExampleloop", "coins", coinnet, "", "Authorization Requirement", "coinsinautval", loop, "", "", head, "IN-Network");

                                        }


                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", head, "IN-Network");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", head, "IN-Network");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "IN-Network");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "IN-Network");
                                    }

                                } else if (coinsinsegmentdetails1[0].Element === "N")
                                {

                                    var header = '';
                                    var head = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                                head = 'F';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                                head = 'I';
                                            } else
                                            {
                                                header = ' ';
                                                head = 'O';
                                            }
                                        }
                                    }


                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            cooutnet = parseFloat(element8[0].Element) * 100;
                                            cooutnet = cooutnet + " %";
                                        }


                                        Appendtagsubgroup("accordionExampleloop", "coins", cooutnet, "", "OUT-Network", "coinsoutval", loop, "", "", head, "OUT-Network");
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtagsubgroup("accordionExampleloop", "coins", coinnet, "", "Authorization Requirement", "coinsoutautval", loop, "", "", head, "OUT-Network");
                                        }


                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", head, "OUT-Network");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", head, "OUT-Network");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "OUT-Network");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "OUT-Network");
                                    }



                                } else if (coinsinsegmentdetails1[0].Element === "W")
                                {

                                    var header = '';
                                    var head = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                                head = 'F';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                                head = 'I';
                                            } else
                                            {
                                                header = ' ';
                                                head = 'O';
                                            }
                                        }
                                    }

                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            coany = parseFloat(element8[0].Element) * 100;
                                            coany = coany + " %";
                                        }


                                        Appendtagsubgroup("accordionExampleloop", "coins", coany, "", "ANY", "coanyval", loop, "", "", head, "Any");
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;

                                            Appendtagsubgroup("accordionExampleloop", "coins", coinnet, "", header + "Authorization Requirement", "coinanyautval", loop, "", "", head, "Any");
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", head, "Any");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "coins", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", head, "Any");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "outeractcoinsmsgval", loop, "", "", head, "Any");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "outeractcoinsiiimsgval", loop, "", "", head, "Any");
                                    }



                                } else
                                {
                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "MSG", "coanymsgval", loop, "", "", "O", "Any");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "coins", ltinmsg, "", "POS", "coanyiiimsgval", loop, "", "", "O", "Any");
                                    }

                                }


                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {

                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement1[0].NM101, "", "Miscellaneous", "nmelement1valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {

                                            if (typeof (nmelement2[0].Element) !== "undefined")
                                            {
                                                var nmelement2val = nmelement2[0].NM102;
                                            }


                                        }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement3[0].Element, "", "", "nmelement3valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement4[0].Element, "", "", "nmelement4valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement5[0].Element, "", "", "nmelement5valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement6[0].Element, "", "", "nmelement6valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement7[0].Element, "", "", "nmelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {

                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement8val, "", "", "nmelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement9[0].Element, "", "", "nmelement9valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement10[0].Element, "", "", "nmelement10valid", loop, "", "", "O", "Any");
                                        }
                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement11[0].Element, "", "", "nmelement11valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "coins", nmelement12[0].Element, "", "", "nmelement12valid", loop, "", "", "", "Any");
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {

                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                            }

                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", perelement2[0].Element, "", "", "perelement2valid", loop, "", "", "O", "Any");
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }


                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";
                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }
                                        if (perelement4.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", p3val + ": " + p4val, "", "", "perelement4valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {
                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }


                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", p5val + ": " + perelement6[0].Element, "", "", "perelement6valid", loop, "", "", "O", "Any");
                                        }


                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {


                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }

                                            Appendtagsubgroup("accordionExampleloop", "coins", perelement7val, "", "", "perelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", perelement8[0].Element, "", "", "perelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "coins", perelement9[0].Element, "", "", "perelement9valid", loop, "", "", "O", "Any");
                                        }

                                    }
                                }
                            }

                        } else
                        {
                        }

                    }
                }
            }

        }





        function FetchSegmentLoop_B(response)
        {
            var segloop;
            var loop;

            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "B" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");

            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplanb";
            $('#loopsegmentplanb').append("<div class='accordion' id= 'accordionExampleloopcopay'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplancopay'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplancopay' aria-expanded='false' aria-controls='collapseplancopay'><i class='fas fa-angle-down rotate-icon'></i> Co Payment </a></h5></div>" +
                    "<div id='collapseplancopay' class='collapse card-body' aria-labelledby='headingplancopay' data-parent='#accordionExampleloopcopay'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    //<h6 id='otherh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Other <hr></h6>
                    "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");
//Co -Payment

            var chkcopaymedi = [];
            while (chkcopaymedi.length > 0) {
                chkcopaymedi.pop();
            }
            console.log(chkcopaymedi);

            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var copaysegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "B" && obj.Element_id === "1");
                        if (copaysegmentdetails.length > 0)
                        {

                            var copaysegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");


                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {

                                        eb2seg = parseFloat(EB7Segment[0].Element) * 100;
                                        eb2seg = eb2seg + " %";
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }



                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }

                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "In Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "Out of Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    }
                                }
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        if (eb06 !== '')
                                        {
                                            copayoutnet = parseFloat(EB7Segment[0].Element) + " / " + eb06;
                                            copayoutnet = "$ " + copayoutnet;
                                        } else
                                        {
                                            copayoutnet = parseFloat(EB7Segment[0].Element);
                                            copayoutnet = "$ " + copayoutnet;
                                        }
                                    }

                                }


                                if (EB4Segment.length > 0)
                                {

                                    if (EB4Segment[0].Element === "MA")
                                    {

                                        if (chkcopaymedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkcopaymedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "copay", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else if (EB4Segment[0].Element === "MB")
                                    {
                                        if (chkcopaymedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkcopaymedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "copay", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "copay", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }
                                    }
                                }


                                Appendtagsubgroup("accordionExampleloop", "copay", copayoutnet, "", eb06, "copayoutval", loop, "", "", "O", netwk);
                                Appendtagsubgroup("accordionExampleloop", "copay", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", netwk);
                                }


                            } else
                            {
                                if (copaysegmentdetails1.length === 0)
                                {
                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                        }
                                    }

                                    Appendtagsubgroup("accordionExampleloop", "copay", eb04, "", "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    Appendtagsubgroup("accordionExampleloop", "copay", eb05, "", "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "othercoinddedmsg", loop, "", "", "O", "Unknown");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "othercoinddediiimsg", loop, "", "", "O", "Unknown");
                                    }

                                }
                            }

                            if (copaysegmentdetails1.length > 0)
                            {

                                if (copaysegmentdetails1[0].Element === "Y")
                                {

                                    var header = '';
                                    var head = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                                head = 'F';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                                head = 'I';
                                            } else
                                            {
                                                header = ' ';
                                                head = 'O';
                                            }
                                        }
                                    }


                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayinnet = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayinnet = "$ " + copayinnet;
                                            } else
                                            {
                                                copayinnet = parseFloat(element8[0].Element);
                                                copayinnet = "$ " + copayinnet;
                                            }
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "copay", copayinnet, "", "IN-Network", "copayinval", loop, "", "", head, "IN-Network");
                                    }


                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtagsubgroup("accordionExampleloop", "copay", coinnet, "", "Authorization Requirement", "copayinautval", loop, "", "", head, 'IN-Network');
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", head, 'IN-Network');
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", head, 'IN-Network');
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "outeractcopaymsgval", loop, "", "", head, 'IN-Network');
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "outeractcopayiiimsgval", loop, "", "", head, 'IN-Network');
                                    }


                                } else if (copaysegmentdetails1[0].Element === "N")
                                {

                                    var header = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                            } else
                                            {
                                                header = ' ';
                                            }
                                        }
                                    }

                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayoutnet = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayoutnet = "$ " + copayoutnet;
                                            } else
                                            {
                                                copayoutnet = parseFloat(element8[0].Element);
                                                copayoutnet = "$ " + copayoutnet;
                                            }
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "copay", copayoutnet, "", "OUT-Network", "copayoutval", loop, "", "", head, 'OUT-Network');
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtagsubgroup("accordionExampleloop", "copay", coinnet, "", "Authorization Requirement", "copayoutautval", loop, "", "", head, 'OUT-Network');
                                        }


                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", head, 'OUT-Network');
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", head, 'OUT-Network');
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "outeractcopaymsgval", loop, "", "", head, 'OUT-Network');
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "outeractcopayiiimsgval", loop, "", "", head, 'OUT-Network');
                                    }


                                } else if (copaysegmentdetails1[0].Element === "W")
                                {

                                    var header = '';
                                    var head = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                                head = 'F';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' Individual | ';
                                                head = 'I';
                                            } else
                                            {
                                                header = ' ';
                                                head = 'O';
                                            }
                                        }
                                    }


                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayany = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayany = "$ " + copayany;
                                            } else
                                            {
                                                copayany = parseFloat(element8[0].Element);
                                                copayany = "$ " + copayany;
                                            }
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "copay", copayany, "", "ANY", "coanyval", loop, "", "", head, 'Any');
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {
                                        if (typeof (element11[0].Element) !== "undefined")
                                        {

                                            copayany = element11[0].eb11;
                                            Appendtagsubgroup("accordionExampleloop", "copay", copayany, "", "Authorization Requirement", "copayanyautval", loop, "", "", head, 'Any');
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", head, 'Any');
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "copay", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", head, 'Any');
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "outeractcopaymsgval", loop, "", "", head, "Any");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "outeractcopayiiimsgval", loop, "", "", head, "Any");
                                    }


                                } else
                                {
                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "MSG", "coanymsgval", loop, "", "", "O", "Any");

                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "copay", ltinmsg, "", "POS", "coanyiiimsgval", loop, "", "", "O", "Any");

                                    }


                                }

                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {

                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement1[0].NM101, "", "Miscellaneous", "nmelement1valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {

                                            if (typeof (nmelement2[0].Element) !== "undefined")
                                            {
                                                var nmelement2val = nmelement2[0].NM102;
                                            }

                                        }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement3[0].Element, "", "", "nmelement3valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement4[0].Element, "", "", "nmelement4valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement5[0].Element, "", "", "nmelement5valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement6[0].Element, "", "", "nmelement6valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement7[0].Element, "", "", "nmelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {


                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }

                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement8val, "", "", "nmelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement9[0].Element, "", "", "nmelement9valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement10[0].Element, "", "", "nmelement10valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement11[0].Element, "", "", "nmelement11valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {


                                            Appendtagsubgroup("accordionExampleloop", "copay", nmelement12[0].Element, "", "", "nmelement12valid", loop, "", "", "O", "Any");
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {
                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                            }

                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", perelement2[0].Element, "", "", "perelement2valid", loop, "", "", "O", "Any");
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }

                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";

                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }


                                        if (perelement4.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "copay", p3val + ": " + p4val, "", "", "perelement4valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {
                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }


                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", p5val + ": " + perelement6[0].Element, "", "", "perelement6valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {

                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }
                                            Appendtagsubgroup("accordionExampleloop", "copay", perelement7val, "", "", "perelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", perelement8[0].Element, "", "", "perelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "copay", perelement9[0].Element, "", "", "perelement9valid", loop, "", "", "O", "Any");
                                        }

                                    }
                                }
                            }
                        } else
                        {
                        }

                    }
                }

            }

        }


        function FetchSegmentLoop_C(response) {

            var segloop;
            var loop;

            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "C" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");

            const segloopGroupedBy = groupBy(segloop, 'Element');

            loop = "loopsegmentplanc";
            $('#loopsegmentplanc').append("<div class='accordion' id= 'accordionExampleloopded'>\n\
                    <div class='col-xl-12 col-lg-12 task-detail-right'>\n\
                    <div class='card card-border-c-blue'><div class='card-header' id='headingplanded'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanded' aria-expanded='false' aria-controls='collapseplanded'><i class='fas fa-angle-down rotate-icon'></i> Deductible </a></h5></div>" +
                    "<div id='collapseplanded' class='collapse card-body' aria-labelledby='headingplanded' data-parent='#accordionExampleloopded'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");

            var chkdedmedi = [];
            while (chkdedmedi.length > 0) {
                chkdedmedi.pop();
            }
            console.log(chkdedmedi);
            //Deduction innetwork
            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var coinssegmentdetailsother = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "C" && obj.Element_id === "1");
                        if (coinssegmentdetailsother.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsother[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "In Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "OUT-Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    }
                                } else
                                {
                                    netwk = "Unknown";
                                }

                                if (EB4Segment.length > 0)
                                {

                                    if (EB4Segment[0].Element === "MA")
                                    {

                                        if (chkdedmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkdedmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "ded", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else if (EB4Segment[0].Element === "MB")
                                    {
                                        if (chkdedmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkdedmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "ded", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "ded", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }
                                    }
                                }

                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", eb06, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                Appendtagsubgroup("accordionExampleloop", "ded", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "otherinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "otherinddediiimsg", loop, "", "O", netwk);
                                }

                            } else
                            {

                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }

                                Appendtagsubgroup("accordionExampleloop", "ded", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                                Appendtagsubgroup("accordionExampleloop", "ded", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                            }


                            // console.log(plan);
                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible
                                    if (EB6Segment[0].Element === "23")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }
                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "ofamilyded", loop, "", "", "F", netwk);

                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautnet", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydeddtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydeddtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydediiimsg", loop, "", "", "F", netwk);
                                                }




                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "oindded", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautnet", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddeddtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddeddtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddediiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "24")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | MET | " + netwk, "ofamilydedmet", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", EB6Segment[0].eb06 + " | Authorization Requirement", "ofamilydedautmet", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedmetdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedmetdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedmetmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydedmetiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | MET | " + netwk, "oinddedmet", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedmetaut", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedmetdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedmetdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedmetmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddedmetiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }

                                        }

                                    }

                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "26")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | Per Episode | " + netwk, "ofamilydedepi", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautepi", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedepidtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedepidtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedepimsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydedepiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | Per Episode | " + netwk, "oinddedepi", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautepi", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedepidtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedepidtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedepimsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddedepiiimsg", loop, "", "I", netwk);
                                                }

                                            }

                                        }


                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "27")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | Per Visit | " + netwk, "ofamilydedvis", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautvis", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedvisdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedvisdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedvismsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydedvisiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | Per Visit | " + netwk, "oinddedvis", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautvis", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedvisdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedvisdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedvismsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddedvisiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met 26,27
                                    if (EB6Segment[0].Element === "29")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }

                                                }
                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "ofamilydedrem", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautrem", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedremdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedremdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedremmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydedremiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "oinddedrem", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautrem", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedremdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedremdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedremmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddedremiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }


                                    if (EB6Segment[0].Element === "22")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }

                                                }
                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "ofamilydedrem", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautrem", loop, "12", "", "F", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedremdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedremdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "ofamilydedremmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "ofamilydedremiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "ded", eb2seg, "", EB6Segment[0].eb06 + " | " + netwk, "oinddedrem", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "ded", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautrem", loop, "12", "", "I", netwk);
                                                }
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedremdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "ded", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedremdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "MSG", "oinddedremmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "ded", ltinmsg, "", "POS", "oinddedremiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }

                                }

                            }

                        }

                    }
                }
            }

        }


        function FetchSegmentLoop_G(response)
        {
            var segloop;
            var loop;

            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "G" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");

            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplang";
            $('#loopsegmentplang').append("<div class='accordion' id= 'accordionExampleloopoop'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplanoop'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanoop' aria-expanded='false' aria-controls='collapseplanoop'><i class='fas fa-angle-down rotate-icon'></i> OOP </a></h5></div>" +
                    "<div id='collapseplanoop' class='collapse card-body' aria-labelledby='headingplanoop' data-parent='#accordionExampleloopoop'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<br><h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");


            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var coinssegmentdetailsother = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "G" && obj.Element_id === "1");
                        if (coinssegmentdetailsother.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsother[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "IN-Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "OUT-Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    }
                                } else
                                {
                                    netwk = "Unknown";
                                }
                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", netwk, "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oopotherinddeddtpval", loop, "", "", "O", netwk);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oopotherinddeddtpval1", loop, "", "", "O", netwk);
                                        }
                                    }
                                }
                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oopotherinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oopotherinddediiimsg", loop, "", "", "O", netwk);
                                }

                            }

                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible
                                    if (EB6Segment[0].Element === "23")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | " + netwk, "oop1ofamilyded", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1ofamilydedautnet", loop, "12", "", "F", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1ofamilydeddtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1ofamilydeddtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }
                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1ofamilydedmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1ofamilydediiimsg", loop, "", "", "F", netwk);
                                                }
                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }
                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | " + netwk, "oop1oindded", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1oinddedautnet", loop, "12", "", "I", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }
                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "I", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1oinddeddtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1oinddeddtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1oinddedmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1oinddediiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "24")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | MET | " + netwk, "oop1ofamilydedmet", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1ofamilydedautmet", loop, "12", "", "F", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1ofamilydedmetdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1ofamilydedmetdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1ofamilydedmetmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1ofamilydedmetiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | MET " + netwk, "oop1oinddedmet", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1oinddedmetaut", loop, "12", "", "I", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }


                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "I", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1oinddedmetdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1oinddedmetdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1oinddedmetmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1oinddedmetiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }

                                        }

                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "26")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Per Episode | " + netwk, "oop1ofamilydedepi", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1ofamilydedautepi", loop, "12", "", "F", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", netwk);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1ofamilydedepidtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1ofamilydedepidtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1ofamilydedepimsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1ofamilydedepiiimsg", loop, "", "", "F", netwk);
                                                }




                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Per Episode | " + netwk, "oop1oinddedepi", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1oinddedautepi", loop, "12", "", "I", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "I", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1oinddedepidtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1oinddedepidtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1oinddedepimsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1oinddedepiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }

                                        }


                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "27")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Per Visit | " + netwk, "oop1ofamilydedvis", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1ofamilydedautvis", loop, "12", "", "F", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", netwk);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1ofamilydedvisdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1ofamilydedvisdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1ofamilydedvismsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1ofamilydedvisiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Per Visit | " + netwk, "oop1oinddedvis", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1oinddedautvis", loop, "12", "", "I", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "I", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1oinddedvisdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1oinddedvisdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1oinddedvismsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1oinddedvisiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met 26,27
                                    if (EB6Segment[0].Element === "29")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }

                                                }
                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Remaining | " + netwk, "oop1ofamilydedrem", loop, "", "", "F", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1ofamilydedautrem", loop, "12", "", "F", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "F", netwk);
                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1ofamilydedremdtpval", loop, "", "", "F", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1ofamilydedremdtpval1", loop, "", "", "F", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1ofamilydedremmsg", loop, "", "", "F", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1ofamilydedremiiimsg", loop, "", "", "F", netwk);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                var netwk = '';
                                                if (EB12Segment.length > 0)
                                                {
                                                    if (EB12Segment[0].Element === "Y")
                                                    {
                                                        netwk = "IN-Network";
                                                    } else if (EB12Segment[0].Element === "N")
                                                    {
                                                        netwk = "OUT-Network";
                                                    } else if (EB12Segment[0].Element === "W")
                                                    {
                                                        netwk = "Any";
                                                    } else if (EB12Segment[0].Element === "U")
                                                    {
                                                        netwk = "Unknown";
                                                    }
                                                } else
                                                {
                                                    netwk = "Unknown";
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb2seg, "", "OOP | Remaining | " + netwk, "oop1oinddedrem", loop, "", "", "I", netwk);
                                                if (EB11Segment.length > 0)
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "oop", EB11Segment[0].eb11, "", "Authorization Requirement", "oop1oinddedautrem", loop, "12", "", "I", netwk);
                                                }
                                                var eb04 = '';
                                                if (EB4Segment.length > 0)
                                                {
                                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                                    {
                                                        eb04 = EB4Segment[0].eb04;
                                                    }
                                                }

                                                var eb05 = '';
                                                if (EB5Segment.length > 0)
                                                {
                                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                                    {
                                                        eb05 = EB5Segment[0].Element;
                                                    }
                                                }

                                                Appendtagsubgroup("accordionExampleloop", "oop", eb05, "", "Desc", "oopotherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "I", netwk);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oop1oinddedremdtpval", loop, "", "", "I", netwk);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtagsubgroup("accordionExampleloop", "oop", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oop1oinddedremdtpval1", loop, "", "", "I", netwk);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "MSG", "oop1oinddedremmsg", loop, "", "", "I", netwk);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtagsubgroup("accordionExampleloop", "oop", ltinmsg, "", "POS", "oop1oinddedremiiimsg", loop, "", "", "I", netwk);
                                                }

                                            }
                                        }


                                    }
                                }

                            }

                        }

                    }
                }
            }

        }



        function FetchSegmentLoop_D(response)
        {
            var segloop;
            var loop;
            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "D" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");
            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentpland";
            $('#loopsegmentpland').append("<div class='accordion' id= 'accordionExampleloopdes'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplandes'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplandes' aria-expanded='false' aria-controls='collapseplandes'><i class='fas fa-angle-down rotate-icon'></i> Description </a></h5></div>" +
                    "<div id='collapseplandes' class='collapse card-body' aria-labelledby='headingplandes' data-parent='#accordionExampleloopdes'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Family<hr></h6>" +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<br><h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'></i> Individual <hr></h6>" +
                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id = 'otherun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");

            var chkdesmedi = [];
            while (chkdesmedi.length > 0) {
                chkdesmedi.pop();
            }
            console.log(chkdesmedi);
            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var coinssegmentdetailsother1 = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "D" && obj.Element_id === "1");
                        if (coinssegmentdetailsother1.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsother1[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB9Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "9");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB10Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "10");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "IN-Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "OUT-Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    }
                                } else
                                {
                                    netwk = "Unknown";
                                }

                                if (EB4Segment.length > 0)
                                {

                                    if (EB4Segment[0].Element === "MA")
                                    {

                                        if (chkdesmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkdesmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "des", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else if (EB4Segment[0].Element === "MB")
                                    {
                                        if (chkdesmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chkdesmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "des", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "des", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "des", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "des", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }
                                    }
                                }
                                Appendtagsubgroup("accordionExampleloop", "des", eb2seg, "", netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                Appendtagsubgroup("accordionExampleloop", "des", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "MSG", "otherinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "POS", "otherinddediiimsg", loop, "", "", "O", netwk);
                                }

                            } else
                            {

                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }

                                Appendtagsubgroup("accordionExampleloop", "des", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                                Appendtagsubgroup("accordionExampleloop", "des", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Any");
                            }


                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (EB2Segment[0].Element === "FAM")
                                        {

                                            var netwk = '';
                                            if (EB12Segment.length > 0)
                                            {
                                                if (EB12Segment[0].Element === "Y")
                                                {
                                                    netwk = "IN-Network";
                                                } else if (EB12Segment[0].Element === "N")
                                                {
                                                    netwk = "OUT-Network";
                                                } else if (EB12Segment[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (EB12Segment[0].Element === "U")
                                                {
                                                    netwk = "Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Unknown";
                                            }
                                            Appendtagsubgroup("accordionExampleloop", "des", EB12Segment[0].eb12, "", EB6Segment[0].eb06 + " | " + netwk, "ofamilydednet", loop, "12", "", "F", netwk);
                                            if (EB11Segment.length > 0)
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "des", EB11Segment[0].eb11, "", "Authorization Requirement", "ofamilydedautnet", loop, "12", "", "F", netwk);

                                            }
                                            if (EB9Segment.length > 0)
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "des", EB9Segment[0].eb09, "", "Description Qualifier", "famcoinslqinval", loop, "9", "", "F", netwk);
                                            }

                                            if (EB10Segment.length > 0)
                                            {
                                                var preindex = '';
                                                if (typeof (EB9Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = " " + (EB9Segment[0].eb09);
                                                }
                                                if (typeof (EB10Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = EB10Segment[0].Element + preindex;
                                                }
                                                Appendtagsubgroup("accordionExampleloop", "des", preindex, "", "Description Quantity", "famcoinslpquainval", loop, "", "", "F", netwk);
                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "ofamilydedquadtpval", loop, "", "", "F", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "ofamilydedquadtpval1", loop, "", "", "F", netwk);
                                                    }
                                                }
                                            }

                                            if (EBmsgSegment.length > 0)
                                            {
                                                ltinmsg = msgsegment(EBmsgSegment);
                                                Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "MSG", "ofamilydedmsg", loop, "", "", "F", netwk);
                                            }
                                            if (EBiiiSegment.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(EBiiiSegment);
                                                Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "POS", "ofamilydediiimsg", loop, "", "", "F", netwk);
                                            }

                                        }
                                        if (EB2Segment[0].Element === "IND")
                                        {

                                            var netwk = '';
                                            if (EB12Segment.length > 0)
                                            {
                                                if (EB12Segment[0].Element === "Y")
                                                {
                                                    netwk = "IN-Network";
                                                } else if (EB12Segment[0].Element === "N")
                                                {
                                                    netwk = "OUT-Network";
                                                } else if (EB12Segment[0].Element === "W")
                                                {
                                                    netwk = "Any";
                                                } else if (EB12Segment[0].Element === "U")
                                                {
                                                    netwk = "Unknown";
                                                }
                                            } else
                                            {
                                                netwk = "Unknown";
                                            }
                                            Appendtagsubgroup("accordionExampleloop", "des", EB12Segment[0].eb12, "", EB6Segment[0].eb06 + " | " + netwk, "oinddednet", loop, "12", "", "I", netwk);
                                            if (EB11Segment.length > 0)
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "des", EB11Segment[0].eb11, "", "Authorization Requirement", "oinddedautnet", loop, "12", "", "I", netwk);
                                            }
                                            if (EB9Segment.length > 0)
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "des", EB9Segment[0].eb09, "", "Description Qualifier", "indcoinslqinval", loop, "9", "", "I", netwk);
                                            }


                                            if (EB10Segment.length > 0)
                                            {
                                                var preindex = '';
                                                if (typeof (EB9Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = " " + (EB9Segment[0].eb09);
                                                }
                                                if (typeof (EB10Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = EB10Segment[0].Element + preindex;
                                                }
                                                Appendtagsubgroup("accordionExampleloop", "des", preindex, "", "Description Quantity", "indcoinslpquainval", loop, "", "", "I", netwk);
                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "oinddedquadtpval", loop, "", "", "I", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "des", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "oinddedquadtpval1", loop, "", "", "I", netwk);
                                                    }
                                                }
                                            }

                                            if (EBmsgSegment.length > 0)
                                            {
                                                ltinmsg = msgsegment(EBmsgSegment);
                                                Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "MSG", "oinddedmsg", loop, "", "", "I", netwk);
                                            }
                                            if (EBiiiSegment.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(EBiiiSegment);
                                                Appendtagsubgroup("accordionExampleloop", "des", ltinmsg, "", "POS", "oinddediiimsg", loop, "", "", "I", netwk);
                                            }

                                        }
                                    }

                                }

                            }
                        }

                    }
                }
            }

        }



        function FetchSegmentLoop_F(response)
        {
            var segloop;
            var loop;

            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "F" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");

            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplanf";
            $('#loopsegmentplanf').append("<div class='accordion' id= 'accordionExamplelooplimit'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplanlimit'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanlimit' aria-expanded='false' aria-controls='collapseplanlimit'><i class='fas fa-angle-down rotate-icon'></i> Limitation </a></h5></div>" +
                    "<div id='collapseplanlimit' class='collapse card-body' aria-labelledby='headingplanlimit' data-parent='#accordionExamplelooplimit'>" +
                    "<div class='card-body task-details'>" +
                    "<div class=''> " +
                    "<div id='Network'><table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table  id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "<table id='otherany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                    "</div></div>" +
                    "</div></div></div></div></div>");

            var chklimmedi = [];
            while (chklimmedi.length > 0) {
                chklimmedi.pop();
            }



            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    for (var coins in coinsin) {

                        var colimitsegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "F" && obj.Element_id === "1");
                        if (colimitsegmentdetails.length > 0)
                        {

                            var colimitsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var hsdsegment1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "1");
                            var hsdsegment2 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "2");
                            var hsdsegment3 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "3");
                            var hsdsegment4 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "4");
                            var hsdsegment5 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "5");
                            var hsdsegment6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "6");

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }

                                var netwk = '';
                                if (EB12Segment.length > 0)
                                {
                                    if (typeof (EB12Segment[0].Element) !== "undefined")
                                    {
                                        if (EB12Segment[0].Element === "Y")
                                        {
                                            netwk = "IN-Network";
                                        } else if (EB12Segment[0].Element === "N")
                                        {
                                            netwk = "OUT-Network";
                                        } else if (EB12Segment[0].Element === "W")
                                        {
                                            netwk = "Any";
                                        } else if (EB12Segment[0].Element === "U")
                                        {
                                            netwk = "Unknown";
                                        }
                                    }
                                }
                                if (EB4Segment.length > 0)
                                {

                                    if (EB4Segment[0].Element === "MA")
                                    {

                                        if (chklimmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chklimmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "limit", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else if (EB4Segment[0].Element === "MB")
                                    {
                                        if (chklimmedi.indexOf(EB4Segment[0].Element) === -1)
                                        {
                                            chklimmedi.push(EB4Segment[0].Element);
                                            Appendtagsubgroup("accordionExampleloop", "limit", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                    }
                                                }
                                            }
                                        }
                                    } else
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "limit", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", "O", netwk);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", "O", netwk);
                                                }
                                            }
                                        }
                                    }
                                }
                                Appendtagsubgroup("accordionExampleloop", "limit", eb2seg, "", netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);
                                Appendtagsubgroup("accordionExampleloop", "limit", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", netwk);



                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "otherinddedmsg", loop, "", "", "O", netwk);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "otherinddediiimsg", loop, "", "", "O", netwk);
                                }

                            } else
                            {
                                if (colimitsegmentdetails1.length === 0)
                                {
                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                        }
                                    }
                                    Appendtagsubgroup("accordionExampleloop", "limit", eb04, "", "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    Appendtagsubgroup("accordionExampleloop", "limit", eb05, "", "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", "O", "Unknown");
                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "otherinddedmsg", loop, "", "", "O", "Unknown");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "otherinddediiimsg", loop, "", "", "O", "Unknown");
                                    }
                                }
                            }

                            if (colimitsegmentdetails1.length > 0)
                            {

                                if (colimitsegmentdetails1[0].Element === "Y")
                                {
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");

                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            lain = "$ " + element7[0].Element + " / " + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", lain, " | Limitation | In Network", "Limitation Amount | IN-Network", "coinslainval", loop, "", "L", "F", "IN-Network");
                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpout = parseFloat(element8[0].Element) * 100;
                                            lpout = lpout + " %";
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", lpout, "", "Limitation Percentage", "coinslpinval", loop, "", "", "F", "IN-Network");
                                    }

                                    if (element9.length > 0)
                                    {
                                    }

                                    if (element10.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquainval", loop, "", "", "F", "IN-Network");
                                    }


                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquainhsd1val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquainhsd2val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Period", "coinslpquainhsd3val", loop, "", "", "F", "IN-Network");
                                    }


                                    if (element11.length > 0)
                                    {

                                        Appendtagsubgroup("accordionExampleloop", "limit", element11[0].eb11, "", "Authorization Requirement", "coinslpautinval", loop, "11", "", "F", "IN-Network");
                                    }


                                    //DTP
                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", "F", "IN-Network");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", "F", "IN-Network");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "outerlimactcoanymsgval", loop, "", "", "F", "IN-Network");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "outerlimactcoanyiiimsgval", loop, "", "", "F", "IN-Network");
                                    }



                                } else if (colimitsegmentdetails1[0].Element === "N")
                                {
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");
                                    if (element6.length > 0)
                                    {
                                    }

                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            laout = "$ " + element7[0].Element + " / " + preindex;
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "limit", laout, " | Limitation | Out of Network", "Limitation Amount | Out-Network", "coinslaoutval", loop, "", "L", "F", "OUT-Network");
                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpout = parseFloat(element8[0].Element) * 100;
                                            lpout = lpout + " %";
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "limit", lpout, "", "Limitation Percentage", "coinslaoutval", loop, "", "", "F", "OUT-Network");
                                    }
                                    if (element10.length > 0)
                                    {

                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaoutval", loop, "", "", "F", "OUT-Network");
                                    }


                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaouthsd1val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaouthsd2val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Period", "coinslpquaouthsd3val", loop, "", "", "F", "IN-Network");
                                    }


                                    if (element11.length > 0)
                                    {

                                        Appendtagsubgroup("accordionExampleloop", "limit", element11[0].eb11, "", "Authorization Requirement", "coinslpautoutval", loop, "11", "", "F", "OUT-Network");
                                    }


                                    //DTP
                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", "F", "OUT-Network");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", "F", "OUT-Network");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "outerlimactcoanymsgval", loop, "", "", "F", "OUT-Network");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "outerlimactcoanyiiimsgval", loop, "", "", "F", "OUT-Network");
                                    }


                                } else if (colimitsegmentdetails1[0].Element === "W")
                                {
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");

                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            laany = "$ " + element7[0].Element + " / " + preindex;
                                        }

                                        Appendtagsubgroup("accordionExampleloop", "limit", laany, " | Limitation | Any", "Limitation Amount | Any", "coinslaanyval", loop, "", "L", "F", "Any");
                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpany = parseFloat(element8[0].Element) * 100;
                                            lpany = lpany + " %";
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", lpany, "", "Limitation Percentage", "coinslpanyval", loop, "", "", "F", "Any");
                                    }
                                    if (element10.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaanyval", loop, "", "", "F", "Any");
                                    }


                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaanyhsd1val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Quantity", "coinslpquaanyhsd2val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtagsubgroup("accordionExampleloop", "limit", preindex, "", "Limitation Period", "coinslpquaanyhsd3val", loop, "", "", "F", "IN-Network");
                                    }

                                    if (element11.length > 0)
                                    {
                                        Appendtagsubgroup("accordionExampleloop", "limit", element11[0].eb11, "", "Authorization Requirement", "coinslpautanyval", loop, "11", "", "F", "Any");
                                    }


                                    //DTP
                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", "F", "Any");
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtagsubgroup("accordionExampleloop", "limit", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", "F", "Any");
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "outerlimactcoanymsgval", loop, "", "", "F", "Any");
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "outerlimactcoanyiiimsgval", loop, "", "", "F", "Any");
                                    }



                                } else
                                {
                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "MSG", "coinsltanymsgval", loop, "", "", "F", "Any");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtagsubgroup("accordionExampleloop", "limit", ltinmsg, "", "POS", "coinsltanymsgval", loop, "", "", "F", "Any");
                                    }
                                }
                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {
                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement1[0].NM101, "", "Miscellaneous", "nmelement1valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_02
                                        // var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        // if (nmelement2.length > 0)
                                        // {

                                        //  }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement3[0].Element, "", "", "nmelement3valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement4[0].Element, "", "", "nmelement4valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement5[0].Element, "", "", "nmelement5valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement6[0].Element, "", "", "nmelement6valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement7[0].Element, "", "", "nmelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {

                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }
                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement8val, "", "", "nmelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement9[0].Element, "", "", "nmelement9valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement10[0].Element, "", "", "nmelement10valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement11[0].Element, "", "", "nmelement11valid", loop, "", "", "O", "Any");
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "limit", nmelement12[0].Element, "", "", "nmelement12valid", loop, "", "", "O", "Any");
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {
                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;

                                            }


                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", perelement2[0].Element, "", "", "perelement2valid", loop, "", "", "O", "Any");
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }

                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";
                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }

                                        if (perelement4.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "limit", p3val + ": " + p4val, "", "", "perelement4valid", loop, "", "", "O", "Any");
                                        }


                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {

                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }

                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {
                                            Appendtagsubgroup("accordionExampleloop", "limit", p5val + ": " + perelement6[0].Element, "", "", "perelement6valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {

                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }

                                            Appendtagsubgroup("accordionExampleloop", "limit", perelement7val, "", "", "perelement7valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", perelement8[0].Element, "", "", "perelement8valid", loop, "", "", "O", "Any");
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtagsubgroup("accordionExampleloop", "limit", perelement9[0].Element, "", "", "perelement9valid", loop, "", "", "O", "Any");
                                        }

                                    }
                                }
                            }
                        } else
                        {
                        }



                    }
                }
            }

        }



        function FetchSegmentLoop_U(response)
        {
            var segloop;
            var loop;
            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "U" && obj.Parent_2 === "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");
            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplanu";
            $('#loopsegmentplanu').append("<div class='accordion' id= 'accordionExampleloopmis'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplansmis'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanmis' aria-expanded='false' aria-controls='collapseplanmis'><i class='fas fa-angle-down rotate-icon'></i> Additional Benefit Information </a></h5></div>" +
                    "<div id='collapseplanmis' class='collapse card-body' aria-labelledby='headingplanmis' data-parent='#accordionExampleloopmis'>" +
                    "<div class='card-body task-details'>" +
                    "<table class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody>" +
                    "</tbody> </table>" + "</div></div></div></div></div>");
//Miscell
            console.log('U Segment');
            console.log(segloopGroupedBy);
            
            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);

                    for (var coins in coinsin) {

                        var miscellaneoussegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "U" && obj.Element_id === "1");
                        console.log(miscellaneoussegmentdetails);
                        if (miscellaneoussegmentdetails.length > 0)
                        {

                            var miscellsegmentdetailsnm1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            var miscellsegmentdetailsper = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            console.log(miscellsegmentdetailsper);
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "5");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "2");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "12");

                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                            var payorname = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                            var add1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "1");
                            var add2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "2");
                            var city = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "3");

                            var PER01 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                            var PER03 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                            var PER04 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                            var PER05 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                            var PER06 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");

                            var refheader1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval1des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "3");
                            var refheader2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval2des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "3");
                            var refheader3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval3des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "3");

                            var refheader4 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval4 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval4des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "3");

                            if (miscellsegmentdetailsnm1.length > 0)
                            {

                                var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");

                                if (nmelement1.length > 0)
                                {
                                    Appendtag("", "mis", nmelement1[0].NM101, "", "Payor Type", "misnmelement1valid", loop, segloopGroupedBy[groupname1][j].Parent_2, "");
                                }

                                // NM1_02
                                var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                if (nmelement2.length > 0)
                                {

                                    if (typeof (nmelement2[0].Element) !== "undefined")
                                    {
                                        var misnmelement2val = nmelement2[0].NM102;
                                    }


                                }


                                // NM1_04
                                var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                if (nmelement4.length > 0)
                                {
                                    Appendtag("", "mis", nmelement4[0].Element, "", "", "misnmelement4valid", loop, "", "");
                                }

                                // NM1_05
                                var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                if (nmelement5.length > 0)
                                {

                                    Appendtag("", "mis", nmelement5[0].Element, "", "", "misnmelement5valid", loop, "", "");
                                }

                                // NM1_06
                                var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                if (nmelement6.length > 0)
                                {

                                    Appendtag("", "mis", nmelement6[0].Element, "", "", "misnmelement6valid", loop, "", "");
                                }

                                // NM1_07
                                var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                if (nmelement7.length > 0)
                                {

                                    Appendtag("", "mis", nmelement7[0].Element, "", "", "misnmelement7valid", loop, "", "");
                                }

                                // NM1_08
                                var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                if (nmelement8.length > 0)
                                {

                                    if (typeof (nmelement8[0].Element) !== "undefined")
                                    {
                                        var misnmelement8val = nmelement8[0].NM108;
                                    }

                                    Appendtag("", "mis", misnmelement8val, "", "", "misnmelement8valid", loop, "", "");
                                }

                                // NM1_09
                                var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                if (nmelement9.length > 0)
                                {

                                    Appendtag("", "mis", nmelement9[0].Element, "", "", "misnmelement9valid", loop, "", "");
                                }


                                // NM1_10
                                var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                if (nmelement10.length > 0)
                                {

                                    Appendtag("", "mis", nmelement10[0].Element, "", "", "misnmelement10valid", loop, "", "");
                                }


                                // NM1_11
                                var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                if (nmelement11.length > 0)
                                {

                                    Appendtag("", "mis", nmelement11[0].Element, "", "", "misnmelement11valid", loop, "", "");
                                }


                                // NM1_12
                                var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                if (nmelement12.length > 0)
                                {

                                    Appendtag("", "mis", nmelement12[0].Element, "", "", "misnmelement12valid", loop, "", "");
                                }
                            }

                            if (miscellsegmentdetailsper.length > 0)
                            {
                                // PER_01
                                var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                if (perelement1.length > 0)
                                {
                                    if (typeof (perelement1[0].Element) !== "undefined")
                                    {
                                        var perelement1val = perelement1[0].PER01;
                                    }

                                }


                                // PER_02
                                var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                if (perelement2.length > 0)
                                {

                                    Appendtag("", "mis", perelement2[0].Element, "", "", "misperelement2valid", loop, "", "");
                                }


                                // PER_03
                                var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                var p3val = "";
                                if (perelement3.length > 0)
                                {

                                    if (typeof (perelement3[0].Element) !== "undefined")
                                    {
                                        var misperelement3val = perelement3[0].PER03;
                                        p3val = perelement3[0].Element;
                                    }

                                }

                                // PER_04
                                var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                var p4val = "";
                                if (perelement4.length > 0)
                                {
                                    if (typeof (perelement4[0].Element) !== "undefined")
                                    {
                                        p4val = perelement4[0].Element;
                                        var res = p4val.substring(0, 3);
                                        var res1 = p4val.substring(3, 6);
                                        var res2 = p4val.substring(6, 10);
                                        if (p4val.length > 9)
                                        {
                                            p4val = res + "-" + res1 + "-" + res2;
                                        } else
                                        {
                                            p4val = res;
                                        }

                                    }
                                }


                                if (perelement4.length > 0)
                                {
                                    Appendtag("", "mis", p3val + ": " + p4val, "", "", "misperelement4valid", loop, "", "");
                                }

                                // PER_05
                                var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                var p5val = "";
                                if (perelement5.length > 0)
                                {
                                    if (typeof (perelement5[0].Element) !== "undefined")
                                    {
                                        var misperelement5val = perelement5[0].PER05;
                                        p5val = perelement5[0].Element;
                                    }

                                }

                                // PER_06
                                var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                if (perelement6.length > 0)
                                {
                                    Appendtag("", "mis", p5val + ": " + perelement6[0].Element, "", "", "misperelement6valid", loop, "", "");
                                }

                                // PER_07
                                var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                if (perelement7.length > 0)
                                {

                                    if (typeof (perelement7[0].Element) !== "undefined")
                                    {
                                        var misperelement7val = perelement7[0].PER07;
                                    }
                                    Appendtag("", "mis", misperelement7val, "", "", "misperelement7valid", loop, "", "");
                                }


                                // PER_08
                                var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                if (perelement8.length > 0)
                                {

                                    Appendtag("", "mis", perelement8[0].Element, "", "", "misperelement8valid", loop, "", "");
                                }

                                // PER_09
                                var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                if (perelement9.length > 0)
                                {

                                    Appendtag("", "mis", perelement9[0].Element, "", "", "misperelement9valid", loop, "", "");
                                }

                            }


                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (EB12Segment[0].Element === "Y")
                                {
                                    netwk = "In Network";
                                } else if (EB12Segment[0].Element === "N")
                                {
                                    netwk = "Out of Network";
                                } else if (EB12Segment[0].Element === "W")
                                {
                                    netwk = "Any";
                                } else if (EB12Segment[0].Element === "U")
                                {
                                    netwk = "Unknown";
                                }
                            } else
                            {
                                netwk = "Unknown";
                            }

                            var famorind = '';

                            if (EB2Segment.length > 0)
                            {
                                if (typeof (EB2Segment[0].Element) !== "undefined")
                                {
                                    famorind = EB2Segment[0].Element;

                                }
                            }

                            var pn = '';
                            if (payorname.length > 0)
                            {
                                pn = payorname[0].Element;
                            }

                            var eb04 = '';

                            if (EB4Segment.length > 0)
                            {
                                if (typeof (EB4Segment[0].eb04) !== "undefined")
                                {
                                    eb04 = EB4Segment[0].eb04;

                                }
                            }

                            var eb05 = '';
                            if (EB5Segment.length > 0)
                            {
                                if (typeof (EB5Segment[0].Element) !== "undefined")
                                {
                                    eb05 = EB5Segment[0].Element;

                                }
                            }

                            var add1val = '';
                            if (add1.length > 0)
                            {
                                if (typeof (add1[0].Element) !== "undefined")
                                {
                                    add1val = add1[0].Element;

                                }
                            }
                            
                             var add1val1 = '';
                            if (add2.length > 0)
                            {
                                if (typeof (add2[0].Element) !== "undefined")
                                {
                                    add1val1 = add2[0].Element;

                                }
                            }

                            var cityval = '';
                            if (city.length > 0)
                            {
                                if (typeof (city[0].Element) !== "undefined")
                                {
                                    cityval = city[0].Element;

                                }
                            }

                            var stateval = '';
                            if (state.length > 0)
                            {
                                if (typeof (state[0].Element) !== "undefined")
                                {
                                    stateval = state[0].Element;

                                }
                            }


                            var zipval = '';
                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    //   zipval = zip[0].Element;
                                    zipval = zip[0].Element;
                                    var res = zipval.substring(0, 5);
                                    var res1 = zipval.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (zipval.length > 5)
                                    {
                                        zipval = res + "-" + res1;
                                    } else
                                    {
                                        zipval = res;
                                    }

                                }
                            }

                            var p3val = '';
                            if (PER03.length > 0)
                            {
                                if (typeof (PER03[0].Element) !== "undefined")
                                {
                                    p3val = PER03[0].Element;

                                }
                            }


                            var p4val = ''; //398
                            if (PER04.length > 0)
                            {
                                if (typeof (PER04[0].Element) !== "undefined")
                                {
                                    p4val = PER04[0].Element;
                                    var res = p4val.substring(0, 3);
                                    var res1 = p4val.substring(3, 6);
                                    var res2 = p4val.substring(6, 10);
                                    if (p4val.length === 10)
                                    {
                                        p4val = res + "-" + res1 + "-" + res2;
                                    } else
                                    {
                                        p4val = PER04[0].Element;
                                    }

                                }
                            }




                            var p5val = ''; //398
                            if (PER05.length > 0)
                            {
                                if (typeof (PER05[0].Element) !== "undefined")
                                {
                                    p5val = "<br>" + PER05[0].Element + " : ";
                                }
                            } else
                            {
                                p5val = '';
                            }


                            var p6val = ''; //398
                            if (PER06.length > 0)
                            {
                                if (typeof (PER06[0].Element) !== "undefined")
                                {
                                    p6val = PER06[0].Element;
                                }
                            }


                            Appendtag("", "mis", pn, " | " + famorind + " | " + netwk + " | " + eb04 + " | " + eb05, "Payor Name", "mispayername" + segloopGroupedBy[groupname1][j].Tid, loop, segloopGroupedBy[groupname1][j].Parent_2, "");
                            if (add1.length > 0)
                            {
                                if(add2.length > 0)
                                {
                                     Appendtag("", "mis", add1val + " " +  add1val1 + " " + cityval + " " + stateval + " " + zipval, "", "Address", "mispayeradd1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                                else
                                {
                                     Appendtag("", "mis", add1val + " " + cityval + " " + stateval + " " + zipval, "", "Address", "mispayeradd1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                               
                                }
                             }

                            if (PER01.length > 0)
                            {
                                Appendtag("", "mis", p3val + ": " + p4val + p5val + p6val, "", "Contact", "mispayercontact" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }




                            if (dtpsegment3.length > 0)
                            {
                                if (dtpsegment2.length > 0)
                                {
                                    if (dtpsegment2[0].Element === "D8")
                                    {
                                        Appendtag("", "mis", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "mispayerdtp" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                    } else if (dtpsegment2[0].Element === "RD8")
                                    {
                                        var splitstr = dtpsegment3[0].Element;
                                        var dtp = splitstr.split('-');
                                        Appendtag("", "mis", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "mispayerdtp" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                    }
                                }
                            }


                            var refhead1 = '';
                            if (refheader1.length > 0)
                            {
                                if (typeof (refheader1[0].REF01) !== "undefined")
                                {
                                    refhead1 = refheader1[0].REF01;
                                }

                            }

                            var refv1 = '';
                            if (refval1.length > 0)
                            {
                                if (typeof (refval1[0].Element) !== "undefined")
                                {
                                    refv1 = refval1[0].Element;

                                    Appendtag("", "mis", refv1, "", refhead1, "mispayerref1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd1 = '';
                            if (refval1des.length > 0)
                            {
                                if (typeof (refval1des[0].Element) !== "undefined")
                                {
                                    refd1 = refval1des[0].Element;
                                    Appendtag("", "mis", refd1, "", "Desc", "mispayerrefdesc1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }




                            var refhead2 = '';
                            if (refheader2.length > 0)
                            {
                                if (typeof (refheader2[0].REF01) !== "undefined")
                                {
                                    refhead2 = refheader2[0].REF01;
                                }

                            }

                            var refv2 = '';
                            if (refval2.length > 0)
                            {
                                if (typeof (refval2[0].Element) !== "undefined")
                                {
                                    refv2 = refval2[0].Element;
                                    Appendtag("", "mis", refv2, "", refhead2, "mispayerref2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd2 = '';
                            if (refval2des.length > 0)
                            {
                                if (typeof (refval2des[0].Element) !== "undefined")
                                {
                                    refd2 = refval2des[0].Element;
                                    Appendtag("", "mis", refd2, "", "Desc", "mispayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }



                            var refhead3 = '';
                            if (refheader3.length > 0)
                            {
                                if (typeof (refheader3[0].REF01) !== "undefined")
                                {
                                    refhead3 = refheader3[0].REF01;
                                }

                            }

                            var refv3 = '';
                            if (refval3.length > 0)
                            {
                                if (typeof (refval3[0].Element) !== "undefined")
                                {
                                    refv3 = refval3[0].Element;
                                    Appendtag("", "mis", refv3, "", refhead3, "mispayerref3" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd3 = '';
                            if (refval3des.length > 0)
                            {
                                if (typeof (refval3des[0].Element) !== "undefined")
                                {
                                    refd3 = refval3des[0].Element;
                                    Appendtag("", "mis", refd3, "", "Desc", "mispayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }


                            var refhead4 = '';
                            if (refheader4.length > 0)
                            {
                                if (typeof (refheader4[0].REF01) !== "undefined")
                                {
                                    refhead4 = refheader4[0].REF01;
                                }

                            }

                            var refv4 = '';
                            if (refval4.length > 0)
                            {
                                if (typeof (refval4[0].Element) !== "undefined")
                                {
                                    refv4 = refval4[0].Element;
                                    Appendtag("", "mis", refv4, "", refhead4, "mispayerref4" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd4 = '';
                            if (refval4des.length > 0)
                            {
                                if (typeof (refval4des[0].Element) !== "undefined")
                                {
                                    refd4 = refval4des[0].Element;
                                    Appendtag("", "mis", refd4, "", "Desc", "mispayerrefdesc4" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }


                            var ltinmsg = '';
                            if (EBmsgSegment.length > 0)
                            {
                                ltinmsg = msgsegment(EBmsgSegment);
                                Appendtag("", "mis", ltinmsg, "", "MSG", "mispayermsg" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }
                            var ltininfo = '';
                            if (EBiiiSegment.length > 0)
                            {
                                ltininfo = iiimsgsegment(EBiiiSegment);
                                Appendtag("", "mis", ltininfo, "", "POS", "mispayerinfo" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }

                        }
                    }
                }
            }

        }



        function FetchSegmentLoop_UN(response)
        {
            var segloop;
            var loop;
            var segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1" && obj.Element === "U" &&  typeof(obj.Parent_2) === "undefined");
           // typeof (perelement4[0].Element) !== "undefined"
             console.log('U Segment');
            console.log(segloop);
            const segloopGroupedBy = groupBy(segloop, 'Element');
            loop = "loopsegmentplanunull";
            $('#loopsegmentplanunull').append("<div class='accordion' id= 'accordionExampleloopmis'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header' id='headingplansmis'><h5><a href='#!' class='collapsed' data-toggle='collapse' data-target='#collapseplanmis' aria-expanded='false' aria-controls='collapseplanmis'><i class='fas fa-angle-down rotate-icon'></i> Additional Benefit Information </a></h5></div>" +
                    "<div id='collapseplanmis' class='collapse card-body' aria-labelledby='headingplanmis' data-parent='#accordionExampleloopmis'>" +
                    "<div class='card-body task-details'>" +
                    "<table class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody>" +
                    "</tbody> </table>" + "</div></div></div></div></div>");
//Miscell
           
            
            for (var groupname1 in segloopGroupedBy) {

                for (j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "1" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);

                    for (var coins in coinsin) {

                        var miscellaneoussegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "U" && obj.Element_id === "1");
                        console.log(miscellaneoussegmentdetails);
                        if (miscellaneoussegmentdetails.length > 0)
                        {

                            var miscellsegmentdetailsnm1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            var miscellsegmentdetailsper = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            console.log(miscellsegmentdetailsper);
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "5");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "2");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment_Sequence === miscellaneoussegmentdetails[0].Segment_Sequence && obj.Element_id === "12");

                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");

                            var payorname = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                            var add1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "1");
                            var add2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N3" && obj.Element_id === "2");
                            var city = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "1");
                            var state = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "2");
                            var zip = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "N4" && obj.Element_id === "3");

                            var PER01 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                            var PER03 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                            var PER04 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                            var PER05 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                            var PER06 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");

                            var refheader1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval1des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "1" && obj.Segment === "REF" && obj.Element_id === "3");
                            var refheader2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval2 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval2des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "2" && obj.Segment === "REF" && obj.Element_id === "3");
                            var refheader3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval3 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval3des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "3" && obj.Segment === "REF" && obj.Element_id === "3");

                            var refheader4 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "1");
                            var refval4 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "2");
                            var refval4des = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4 && obj.segment_counter === "4" && obj.Segment === "REF" && obj.Element_id === "3");

                            if (miscellsegmentdetailsnm1.length > 0)
                            {

                                var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");

                                if (nmelement1.length > 0)
                                {
                                    Appendtag("", "mis", nmelement1[0].NM101, "", "Payor Type", "misnmelement1valid", loop, segloopGroupedBy[groupname1][j].Parent_2, "");
                                }

                                // NM1_02
                                var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                if (nmelement2.length > 0)
                                {

                                    if (typeof (nmelement2[0].Element) !== "undefined")
                                    {
                                        var misnmelement2val = nmelement2[0].NM102;
                                    }


                                }


                                // NM1_04
                                var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                if (nmelement4.length > 0)
                                {
                                    Appendtag("", "mis", nmelement4[0].Element, "", "", "misnmelement4valid", loop, "", "");
                                }

                                // NM1_05
                                var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                if (nmelement5.length > 0)
                                {

                                    Appendtag("", "mis", nmelement5[0].Element, "", "", "misnmelement5valid", loop, "", "");
                                }

                                // NM1_06
                                var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                if (nmelement6.length > 0)
                                {

                                    Appendtag("", "mis", nmelement6[0].Element, "", "", "misnmelement6valid", loop, "", "");
                                }

                                // NM1_07
                                var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                if (nmelement7.length > 0)
                                {

                                    Appendtag("", "mis", nmelement7[0].Element, "", "", "misnmelement7valid", loop, "", "");
                                }

                                // NM1_08
                                var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                if (nmelement8.length > 0)
                                {

                                    if (typeof (nmelement8[0].Element) !== "undefined")
                                    {
                                        var misnmelement8val = nmelement8[0].NM108;
                                    }

                                    Appendtag("", "mis", misnmelement8val, "", "", "misnmelement8valid", loop, "", "");
                                }

                                // NM1_09
                                var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                if (nmelement9.length > 0)
                                {

                                    Appendtag("", "mis", nmelement9[0].Element, "", "", "misnmelement9valid", loop, "", "");
                                }


                                // NM1_10
                                var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                if (nmelement10.length > 0)
                                {

                                    Appendtag("", "mis", nmelement10[0].Element, "", "", "misnmelement10valid", loop, "", "");
                                }


                                // NM1_11
                                var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                if (nmelement11.length > 0)
                                {

                                    Appendtag("", "mis", nmelement11[0].Element, "", "", "misnmelement11valid", loop, "", "");
                                }


                                // NM1_12
                                var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                if (nmelement12.length > 0)
                                {

                                    Appendtag("", "mis", nmelement12[0].Element, "", "", "misnmelement12valid", loop, "", "");
                                }
                            }

                            if (miscellsegmentdetailsper.length > 0)
                            {
                                // PER_01
                                var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                if (perelement1.length > 0)
                                {
                                    if (typeof (perelement1[0].Element) !== "undefined")
                                    {
                                        var perelement1val = perelement1[0].PER01;
                                    }

                                }


                                // PER_02
                                var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                if (perelement2.length > 0)
                                {

                                    Appendtag("", "mis", perelement2[0].Element, "", "", "misperelement2valid", loop, "", "");
                                }


                                // PER_03
                                var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                var p3val = "";
                                if (perelement3.length > 0)
                                {

                                    if (typeof (perelement3[0].Element) !== "undefined")
                                    {
                                        var misperelement3val = perelement3[0].PER03;
                                        p3val = perelement3[0].Element;
                                    }

                                }

                                // PER_04
                                var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                var p4val = "";
                                if (perelement4.length > 0)
                                {
                                    if (typeof (perelement4[0].Element) !== "undefined")
                                    {
                                        p4val = perelement4[0].Element;
                                        var res = p4val.substring(0, 3);
                                        var res1 = p4val.substring(3, 6);
                                        var res2 = p4val.substring(6, 10);
                                        if (p4val.length > 9)
                                        {
                                            p4val = res + "-" + res1 + "-" + res2;
                                        } else
                                        {
                                            p4val = res;
                                        }

                                    }
                                }


                                if (perelement4.length > 0)
                                {
                                    Appendtag("", "mis", p3val + ": " + p4val, "", "", "misperelement4valid", loop, "", "");
                                }

                                // PER_05
                                var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                var p5val = "";
                                if (perelement5.length > 0)
                                {
                                    if (typeof (perelement5[0].Element) !== "undefined")
                                    {
                                        var misperelement5val = perelement5[0].PER05;
                                        p5val = perelement5[0].Element;
                                    }

                                }

                                // PER_06
                                var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                if (perelement6.length > 0)
                                {
                                    Appendtag("", "mis", p5val + ": " + perelement6[0].Element, "", "", "misperelement6valid", loop, "", "");
                                }

                                // PER_07
                                var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                if (perelement7.length > 0)
                                {

                                    if (typeof (perelement7[0].Element) !== "undefined")
                                    {
                                        var misperelement7val = perelement7[0].PER07;
                                    }
                                    Appendtag("", "mis", misperelement7val, "", "", "misperelement7valid", loop, "", "");
                                }


                                // PER_08
                                var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                if (perelement8.length > 0)
                                {

                                    Appendtag("", "mis", perelement8[0].Element, "", "", "misperelement8valid", loop, "", "");
                                }

                                // PER_09
                                var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                if (perelement9.length > 0)
                                {

                                    Appendtag("", "mis", perelement9[0].Element, "", "", "misperelement9valid", loop, "", "");
                                }

                            }


                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (EB12Segment[0].Element === "Y")
                                {
                                    netwk = "In Network";
                                } else if (EB12Segment[0].Element === "N")
                                {
                                    netwk = "Out of Network";
                                } else if (EB12Segment[0].Element === "W")
                                {
                                    netwk = "Any";
                                } else if (EB12Segment[0].Element === "U")
                                {
                                    netwk = "Unknown";
                                }
                            } else
                            {
                                netwk = "Unknown";
                            }

                            var famorind = '';

                            if (EB2Segment.length > 0)
                            {
                                if (typeof (EB2Segment[0].Element) !== "undefined")
                                {
                                    famorind = EB2Segment[0].Element;

                                }
                            }

                            var pn = '';
                            if (payorname.length > 0)
                            {
                                pn = payorname[0].Element;
                            }

                            var eb04 = '';

                            if (EB4Segment.length > 0)
                            {
                                if (typeof (EB4Segment[0].eb04) !== "undefined")
                                {
                                    eb04 = EB4Segment[0].eb04;

                                }
                            }

                            var eb05 = '';
                            if (EB5Segment.length > 0)
                            {
                                if (typeof (EB5Segment[0].Element) !== "undefined")
                                {
                                    eb05 = EB5Segment[0].Element;

                                }
                            }

                            var add1val = '';
                            if (add1.length > 0)
                            {
                                if (typeof (add1[0].Element) !== "undefined")
                                {
                                    add1val = add1[0].Element;

                                }
                            }
                            
                             var add1val2 = '';
                            if (add2.length > 0)
                            {
                                if (typeof (add2[0].Element) !== "undefined")
                                {
                                    add1val2 = add2[0].Element;

                                }
                            }

                            var cityval = '';
                            if (city.length > 0)
                            {
                                if (typeof (city[0].Element) !== "undefined")
                                {
                                    cityval = city[0].Element;

                                }
                            }

                            var stateval = '';
                            if (state.length > 0)
                            {
                                if (typeof (state[0].Element) !== "undefined")
                                {
                                    stateval = state[0].Element;

                                }
                            }


                            var zipval = '';
                            if (zip.length > 0)
                            {
                                if (typeof (zip[0].Element) !== "undefined")
                                {
                                    //   zipval = zip[0].Element;
                                    zipval = zip[0].Element;
                                    var res = zipval.substring(0, 5);
                                    var res1 = zipval.substring(5, 9);
                                    // console.log(res);
                                    // console.log(res1);
                                    if (zipval.length > 5)
                                    {
                                        zipval = res + "-" + res1;
                                    } else
                                    {
                                        zipval = res;
                                    }

                                }
                            }

                            var p3val = '';
                            if (PER03.length > 0)
                            {
                                if (typeof (PER03[0].Element) !== "undefined")
                                {
                                    p3val = PER03[0].Element;

                                }
                            }


                            var p4val = ''; //398
                            if (PER04.length > 0)
                            {
                                if (typeof (PER04[0].Element) !== "undefined")
                                {
                                    p4val = PER04[0].Element;
                                    var res = p4val.substring(0, 3);
                                    var res1 = p4val.substring(3, 6);
                                    var res2 = p4val.substring(6, 10);
                                    if (p4val.length === 10)
                                    {
                                        p4val = res + "-" + res1 + "-" + res2;
                                    } else
                                    {
                                        p4val = PER04[0].Element;
                                    }

                                }
                            }




                            var p5val = ''; //398
                            if (PER05.length > 0)
                            {
                                if (typeof (PER05[0].Element) !== "undefined")
                                {
                                    p5val = "<br>" + PER05[0].Element + " : ";
                                }
                            } else
                            {
                                p5val = '';
                            }


                            var p6val = ''; //398
                            if (PER06.length > 0)
                            {
                                if (typeof (PER06[0].Element) !== "undefined")
                                {
                                    p6val = PER06[0].Element;
                                }
                            }


                            Appendtag("", "mis", pn, " | " + famorind + " | " + netwk + " | " + eb04 + " | " + eb05, "Payor Name", "mispayername" + segloopGroupedBy[groupname1][j].Tid, loop, segloopGroupedBy[groupname1][j].Parent_2, "");
                            if (add1.length > 0)
                            {
                                if (add2.length > 0) 
                                {
                                  Appendtag("", "mis", add1val + " " + add1val2 + " " + cityval + " " + stateval + " " + zipval, "", "Address", "mispayeradd1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                } 
                                else
                                {
                                  Appendtag("", "mis", add1val + " " + cityval + " " + stateval + " " + zipval, "", "Address", "mispayeradd1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }

                            if (PER01.length > 0)
                            {
                                Appendtag("", "mis", p3val + ": " + p4val + p5val + p6val, "", "Contact", "mispayercontact" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }




                            if (dtpsegment3.length > 0)
                            {
                                if (dtpsegment2.length > 0)
                                {
                                    if (dtpsegment2[0].Element === "D8")
                                    {
                                        Appendtag("", "mis", conversion(dtpsegment3[0].Element), "", dtpsegment1[0].dtp, "mispayerdtp" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                    } else if (dtpsegment2[0].Element === "RD8")
                                    {
                                        var splitstr = dtpsegment3[0].Element;
                                        var dtp = splitstr.split('-');
                                        Appendtag("", "mis", conversion(dtp[0]) + " - " + conversion(dtp[1]), "", dtpsegment1[0].dtp, "mispayerdtp" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                    }
                                }
                            }


                            var refhead1 = '';
                            if (refheader1.length > 0)
                            {
                                if (typeof (refheader1[0].REF01) !== "undefined")
                                {
                                    refhead1 = refheader1[0].REF01;
                                }

                            }

                            var refv1 = '';
                            if (refval1.length > 0)
                            {
                                if (typeof (refval1[0].Element) !== "undefined")
                                {
                                    refv1 = refval1[0].Element;

                                    Appendtag("", "mis", refv1, "", refhead1, "mispayerref1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd1 = '';
                            if (refval1des.length > 0)
                            {
                                if (typeof (refval1des[0].Element) !== "undefined")
                                {
                                    refd1 = refval1des[0].Element;
                                    Appendtag("", "mis", refd1, "", "Desc", "mispayerrefdesc1" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }




                            var refhead2 = '';
                            if (refheader2.length > 0)
                            {
                                if (typeof (refheader2[0].REF01) !== "undefined")
                                {
                                    refhead2 = refheader2[0].REF01;
                                }

                            }

                            var refv2 = '';
                            if (refval2.length > 0)
                            {
                                if (typeof (refval2[0].Element) !== "undefined")
                                {
                                    refv2 = refval2[0].Element;
                                    Appendtag("", "mis", refv2, "", refhead2, "mispayerref2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd2 = '';
                            if (refval2des.length > 0)
                            {
                                if (typeof (refval2des[0].Element) !== "undefined")
                                {
                                    refd2 = refval2des[0].Element;
                                    Appendtag("", "mis", refd2, "", "Desc", "mispayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }



                            var refhead3 = '';
                            if (refheader3.length > 0)
                            {
                                if (typeof (refheader3[0].REF01) !== "undefined")
                                {
                                    refhead3 = refheader3[0].REF01;
                                }

                            }

                            var refv3 = '';
                            if (refval3.length > 0)
                            {
                                if (typeof (refval3[0].Element) !== "undefined")
                                {
                                    refv3 = refval3[0].Element;
                                    Appendtag("", "mis", refv3, "", refhead3, "mispayerref3" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd3 = '';
                            if (refval3des.length > 0)
                            {
                                if (typeof (refval3des[0].Element) !== "undefined")
                                {
                                    refd3 = refval3des[0].Element;
                                    Appendtag("", "mis", refd3, "", "Desc", "mispayerrefdesc2" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }


                            var refhead4 = '';
                            if (refheader4.length > 0)
                            {
                                if (typeof (refheader4[0].REF01) !== "undefined")
                                {
                                    refhead4 = refheader4[0].REF01;
                                }

                            }

                            var refv4 = '';
                            if (refval4.length > 0)
                            {
                                if (typeof (refval4[0].Element) !== "undefined")
                                {
                                    refv4 = refval4[0].Element;
                                    Appendtag("", "mis", refv4, "", refhead4, "mispayerref4" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }
                            }



                            var refd4 = '';
                            if (refval4des.length > 0)
                            {
                                if (typeof (refval4des[0].Element) !== "undefined")
                                {
                                    refd4 = refval4des[0].Element;
                                    Appendtag("", "mis", refd4, "", "Desc", "mispayerrefdesc4" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                }

                            }


                            var ltinmsg = '';
                            if (EBmsgSegment.length > 0)
                            {
                                ltinmsg = msgsegment(EBmsgSegment);
                                Appendtag("", "mis", ltinmsg, "", "MSG", "mispayermsg" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }
                            var ltininfo = '';
                            if (EBiiiSegment.length > 0)
                            {
                                ltininfo = iiimsgsegment(EBiiiSegment);
                                Appendtag("", "mis", ltininfo, "", "POS", "mispayerinfo" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                            }

                        }
                    }
                }
            }

        }

        _.defer($.ajax({
            url: "getebrequestid",
            type: "get", //send it through get method
            data: {
                ebrequestid: rid
            },
            success: function (dbresponse) {
                var txt = dbresponse;
                var response = jQuery.parseJSON(txt);
                console.log('U Segment test');
                    console.log(response);
                if (response.Response.length > 0)
                {
                    var checkebsegment = response.Response.filter(obj => obj.Segment === "EB");
                    var Ebstatus = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1");
                    var plancd = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "5" && obj.Parent_4 === "1");
                    var plandet = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "2" && obj.Parent_4 === "1");
                    console.log(checkebsegment);
                    
                    if (checkebsegment.length > 0)
                    {
                        if ($('#status').text() !== "Cannot process")
                        {

                            //Loop Segment
                            setTimeout(function ()
                            {
                               
                                FetchSegmentLoop_C(response);
                                FetchSegmentLoop_A(response);
                                FetchSegmentLoop_B(response);
                                FetchSegmentLoop_G(response);

                                FetchSegmentLoop_D(response);
                                console.log('U Segment test');
                                FetchSegmentLoop_U(response);
                                FetchSegmentLoop_UN(response);
                                //Deductible - C
                                if ($('#collapseplanded').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanded').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanded').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanded').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanded').find('#familyh6').hide();

                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplanded').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanded').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanded').find('#Network').find('#indany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanded').find('#Network').find('#indun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanded').find('#Network').find('#indivh6').hide();

                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplanded').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanded').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanded').find('#Network').find('#otherany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanded').find('#Network').find('#otherun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanded').find('#Network').find('#otherh6').hide();

                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplanded').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanded').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanded').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanded').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplanded').find('#Network').find('#indin').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplanded').find('#Network').find('#indout').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplanded').find('#Network').find('#indany').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplanded').find('#Network').find('#indun').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplanded').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplanded').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplanded').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplanded').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                            {
                                                                                $('#loopsegmentplanc').hide();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplanded').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#famun').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#famun').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#indin').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#indout').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#indout').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#indany').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#indany').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#indun').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#indun').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#otherin').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#otherany').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#otherany').hide();
                                }
                                if ($('#collapseplanded').find('#Network').find('#otherun').find('tbody').html() === '')
                                {
                                    $('#collapseplanded').find('#Network').find('#otherun').hide();
                                }




                                //Co insurance - D
                                if ($('#collapseplandes').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplandes').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplandes').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplandes').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplandes').find('#familyh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplandes').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplandes').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplandes').find('#Network').find('#indany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplandes').find('#Network').find('#indun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplandes').find('#Network').find('#indivh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplandes').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplandes').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplandes').find('#Network').find('#otherany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplandes').find('#Network').find('#otherun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplandes').find('#Network').find('#otherh6').hide();
                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplandes').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplandes').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplandes').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplandes').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplandes').find('#Network').find('#indin').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplandes').find('#Network').find('#indout').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplandes').find('#Network').find('#indany').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplandes').find('#Network').find('#indun').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplandes').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplandes').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplandes').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplandes').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                            {

                                                                                $('#loopsegmentpland').hide();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplandes').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#famun').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#famun').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#indin').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#indout').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#indout').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#indany').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#indany').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#indun').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#indun').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#otherin').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#otherany').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#otherany').hide();
                                }
                                if ($('#collapseplandes').find('#Network').find('#otherun').find('tbody').html() === '')
                                {
                                    $('#collapseplandes').find('#Network').find('#otherun').hide();
                                }

                                //Co insurance - A
                                if ($('#collapseplancoins').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancoins').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancoins').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancoins').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancoins').find('#familyh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancoins').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancoins').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancoins').find('#Network').find('#indany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancoins').find('#Network').find('#indun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancoins').find('#Network').find('#indivh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancoins').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancoins').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancoins').find('#Network').find('#otherany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancoins').find('#Network').find('#otherun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancoins').find('#Network').find('#otherh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancoins').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancoins').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancoins').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancoins').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplancoins').find('#Network').find('#indin').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplancoins').find('#Network').find('#indout').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplancoins').find('#Network').find('#indany').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplancoins').find('#Network').find('#indun').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplancoins').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplancoins').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplancoins').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplancoins').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                            {

                                                                                $('#loopsegmentplana').hide();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplancoins').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#famun').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#famun').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#indin').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#indout').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#indout').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#indany').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#indany').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#indun').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#indun').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#otherin').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#otherany').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#otherany').hide();
                                }
                                if ($('#collapseplancoins').find('#Network').find('#otherun').find('tbody').html() === '')
                                {
                                    $('#collapseplancoins').find('#Network').find('#otherun').hide();
                                }


                                //Co insurance - B
                                if ($('#collapseplancopay').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancopay').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancopay').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancopay').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancopay').find('#familyh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancopay').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancopay').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancopay').find('#Network').find('#indany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancopay').find('#Network').find('#indun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancopay').find('#Network').find('#indivh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancopay').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancopay').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancopay').find('#Network').find('#otherany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancopay').find('#Network').find('#otherun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplancopay').find('#Network').find('#otherh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplancopay').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplancopay').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplancopay').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplancopay').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplancopay').find('#Network').find('#indin').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplancopay').find('#Network').find('#indout').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplancopay').find('#Network').find('#indany').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplancopay').find('#Network').find('#indun').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplancopay').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplancopay').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplancopay').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplancopay').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                            {

                                                                                $('#loopsegmentplanb').hide();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplancopay').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#famun').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#famun').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#indin').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#indout').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#indout').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#indany').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#indany').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#indun').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#indun').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#otherin').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplancopay').find('#Network').find('#otherun').find('tbody').html() === '')
                                {
                                    $('#collapseplancopay').find('#Network').find('#otherun').hide();
                                }





                                //Co insurance - G
                                if ($('#collapseplanoop').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanoop').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanoop').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanoop').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanoop').find('#familyh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplanoop').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanoop').find('#Network').find('#indout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanoop').find('#Network').find('#indany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanoop').find('#Network').find('#indun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanoop').find('#Network').find('#indivh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplanoop').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanoop').find('#Network').find('#otherout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanoop').find('#Network').find('#otherany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanoop').find('#Network').find('#otherun').find('tbody').html() === '')
                                            {
                                                // $('#loopsegmentplanc').hide();
                                                $('#collapseplanoop').find('#Network').find('#otherh6').hide();
                                            }
                                        }
                                    }
                                }


                                if ($('#collapseplanoop').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanoop').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanoop').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanoop').find('#Network').find('#famun').find('tbody').html() === '')
                                            {
                                                if ($('#collapseplanoop').find('#Network').find('#indin').find('tbody').html() === '')
                                                {
                                                    if ($('#collapseplanoop').find('#Network').find('#indout').find('tbody').html() === '')
                                                    {
                                                        if ($('#collapseplanoop').find('#Network').find('#indany').find('tbody').html() === '')
                                                        {
                                                            if ($('#collapseplanoop').find('#Network').find('#indun').find('tbody').html() === '')
                                                            {
                                                                if ($('#collapseplanoop').find('#Network').find('#otherin').find('tbody').html() === '')
                                                                {
                                                                    if ($('#collapseplanoop').find('#Network').find('#otherout').find('tbody').html() === '')
                                                                    {
                                                                        if ($('#collapseplanoop').find('#Network').find('#otherany').find('tbody').html() === '')
                                                                        {
                                                                            if ($('#collapseplanoop').find('#Network').find('#otherun').find('tbody').html() === '')
                                                                            {

                                                                                $('#loopsegmentplang').hide();
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplanoop').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#famun').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#famun').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#indin').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#indin').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#indout').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#indout').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#indany').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#indany').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#indun').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#indun').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#otherin').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#otherin').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#otherout').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#otherout').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#otherany').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#otherany').hide();
                                }
                                if ($('#collapseplanoop').find('#Network').find('#otherun').find('tbody').html() === '')
                                {
                                    $('#collapseplanoop').find('#Network').find('#otherun').hide();
                                }




                                //Misc
                                if ($('#collapseplanmis').find('table').find('tbody').html() === '')
                                {
                                    $('#loopsegmentplanu').hide();
                                }

                              
                                //if ($('#collapseplanactive').find('#Network').find('table').html() === '')
                                // {
                                //     $('#collapseplanactive').find('#Network').find('table').hide();
                                //  }

                                //Limitation
                                if ($('#collapseplanlimit').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    if ($('#collapseplanlimit').find('#Network').find('#famout').find('tbody').html() === '')
                                    {
                                        if ($('#collapseplanlimit').find('#Network').find('#famany').find('tbody').html() === '')
                                        {
                                            if ($('#collapseplanlimit').find('#Network').find('#famun').find('tbody').html() === '')
                                            {

                                                if ($('#collapseplanlimit').find('#Network').find('#otherany').find('tbody').html() === '')
                                                {


                                                    $('#loopsegmentplanf').hide();
                                                }

                                            }
                                        }
                                    }
                                }

                                if ($('#collapseplanlimit').find('#Network').find('#famin').find('tbody').html() === '')
                                {
                                    $('#collapseplanlimit').find('#Network').find('#famin').hide();
                                }
                                if ($('#collapseplanlimit').find('#Network').find('#famout').find('tbody').html() === '')
                                {
                                    $('#collapseplanlimit').find('#Network').find('#famout').hide();
                                }
                                if ($('#collapseplanlimit').find('#Network').find('#famany').find('tbody').html() === '')
                                {
                                    $('#collapseplanlimit').find('#Network').find('#famany').hide();
                                }
                                if ($('#collapseplanlimit').find('#Network').find('#otherany').find('tbody').html() === '')
                                {
                                    $('#collapseplanlimit').find('#Network').find('#otherany').hide();
                                }

                            }, 8000);
                        }
                    }
                }

            }
        }));
    });
 

    $(document).ready(function () {
        var globalval = "";
        var rid = GetParameterValues('rid');
        rid = parseInt(rid);
        var benefittypecode = "";
      /*  _.defer($.ajax({
            url: "getebbenefittype",
            type: "get", //send it through get method
            success: function (dbresponse) {
                var txt = dbresponse;
                var response = jQuery.parseJSON(txt);
                if (response.Response.length > 0)
                {
                    benefittypecode = response.Response;
                }
            }
        })); */




        /*  $('#export').click(function () {
         
         var brid = GetParameterValues('rid');
         
         var btnidval = '';
         $('#seperatercol').find('.sepbtn').each(function (e) {
         var btnid = $(this).attr('id');
         if ($('#' + btnid).prop('checked') === true)
         {
         btnidval = btnid + "," + btnidval;
         
         }
         });
         
         
         if (btnidval !== "")
         {
         
         btnidval = btnidval.substring(0, btnidval.length - 1);
         
         window.open("generatenew?requestid=" + brid + "&bentype=" + btnidval, "_self");
         } else
         {
         window.open("generatenew?requestid=" + brid + "&bentype=", "_self");
         }
         
         
         
         }); */



        $(document).on('change', '.radio-p-fill-5', function () { // In network

            if ($(".radio-p-fill-5").prop('checked') === true)
            {
                if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("", "io");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "ia");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "iu");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === false)
                {

                    trigger("", "ioa");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "iau");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("In Network", "iou");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true)
                {
                    trigger("", "ioau");
                } else
                {

                    trigger("In Network", "");
                }




            } else
            {

                if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("Out of Network", "");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("Any", "");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("Unknown", "");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === false)
                {
                    //  alert('muthu');
                    trigger("", "oa");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "au");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "ou");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true)
                {
                    trigger("", "oau");
                } else
                {
                    if (globalval === "")
                    {
                        globalval = ["|"];
                    }

                    trigger("", "");
                }


            }

        });

        function trigger(v1, v2)
        {
            // Global

            if (globalval !== "")
            {
                var v = globalval;
                $("section").find("#loopsegment").find("a").each(function () {
                    //    .find("#accordionExampleloop").find("a").each(function () {


                    if (v !== "" && $(this).attr('value').search(new RegExp(v.join("|"), 'gi')) !== -1) {
                        // console.log("inside:" + v);

                        var id = $(this).parent().parent().parent().parent().parent().attr('id');

                        if (id !== "undefined")
                        {

                            $('#' + id).show();
                        }
                        $(this).show();

                    } else
                    {

                        if (v === "")
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).show();
                            }
                            $(this).show();
                        } else
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).hide();
                            }

                        }
                    }
                });

            }


            // Second value

            var v = v1;

            if (v !== "")
            {
                $("section").find("#loopsegment").find("a").each(function () {
                    //    .find("#accordionExampleloop").find("a").each(function () {

                    var tagid = $(this).parent().parent().parent().parent().parent().attr('id');

                    if ($("#" + tagid).is(":visible")) {
                        //  console.log(tagid);

                        $('#' + tagid).find("a").each(function () {

                            if (v !== "" && $(this).text().search(new RegExp(v, 'gi')) !== -1) {


                                var id = "#" + tagid;
                                if (id !== "undefined")
                                {

                                    $(id).show();
                                }

                            } else
                            {
                                var id = "#" + tagid;
                                if (id !== "undefined")
                                {

                                    $(id).hide();
                                }


                            }


                        });



                    }
                });
            }

            var v = v2;
            if (v2 !== "")
            {
                // console.log(globalval);
                if (v2 === "io")
                {
                    if (globalval !== "")
                    {
                        v = ["In Network", "Out of Network"];
                    } else
                    {
                        v = ["In Network", "Out of Network"];
                    }

                } else if (v2 === "ia")
                {
                    if (globalval !== "")
                    {
                        //  v = ["In Network", "Any", globalval];
                        v = ["In Network", "Any"];
                    } else
                    {
                        v = ["In Network", "Any"];
                    }
                } else if (v2 === "iu")
                {
                    if (globalval !== "")
                    {
                        // v = ["In Network", "Unknown", globalval];
                        v = ["In Network", "Unknown"];
                    } else
                    {
                        v = ["In Network", "Unknown"];
                    }

                } else if (v2 === "ioa")
                {
                    if (globalval !== "")
                    {
                        //  v = ["In Network", "Out of Network", "Any", globalval];
                        v = ["In Network", "Out of Network", "Any"];
                    } else
                    {
                        v = ["In Network", "Out of Network", "Any"];
                    }

                } else if (v2 === "iau")
                {
                    if (globalval !== "")
                    {
                        // v = ["In Network", "Any", "Unknown", globalval];
                        v = ["In Network", "Any", "Unknown"];
                    } else
                    {
                        v = ["In Network", "Any", "Unknown"];
                    }

                } else if (v2 === "iou")
                {
                    if (globalval !== "")
                    {
                        // v = ["In Network", "Out of Network", "Unknown", globalval];
                        v = ["In Network", "Out of Network", "Unknown"];
                    } else
                    {
                        v = ["In Network", "Out of Network", "Unknown"];
                    }

                } else if (v2 === "ioau")
                {
                    if (globalval !== "")
                    {
                        //  v = ["In Network", "Out of Network", "Any", "Unknown", globalval];
                        v = ["In Network", "Out of Network", "Any", "Unknown"];
                    } else
                    {
                        v = ["In Network", "Out of Network", "Any", "Unknown"];
                    }

                } else if (v2 === "oa")
                {
                    if (globalval !== "")
                    {
                        // v = ["Out of Network", "Any", globalval];
                        v = ["Out of Network", "Any"];
                    } else
                    {
                        v = ["Out of Network", "Any"];
                    }

                } else if (v2 === "au")
                {
                    if (globalval !== "")
                    {
                        // v = ["Any", "Unknown", globalval];
                        v = ["Any", "Unknown"];
                    } else
                    {
                        v = ["Any", "Unknown"];
                    }

                } else if (v2 === "ou")
                {
                    if (globalval !== "")
                    {
                        // v = ["Out of Network", "Unknown", globalval];
                        v = ["Out of Network", "Unknown"];
                    } else
                    {
                        v = ["Out of Network", "Unknown"];
                    }

                } else if (v2 === "oau")
                {
                    if (globalval !== "")
                    {
                        //  v = ["Out of Network", "Any", "Unknown", globalval];
                        v = ["Out of Network", "Any", "Unknown"];
                    } else
                    {
                        v = ["Out of Network", "Any", "Unknown"];
                    }

                }

                $("section").find("#loopsegment").find("a").each(function () {
                    //    .find("#accordionExampleloop").find("a").each(function () {

                    var tagid = $(this).parent().parent().parent().parent().parent().attr('id');

                    if ($("#" + tagid).is(":visible")) {
                        // console.log(v);

                        $('#' + tagid).find("a").each(function () {

                            if (v !== "" && $(this).text().search(new RegExp(v.join("|"), 'gi')) !== -1) {


                                var id = "#" + tagid;
                                if (id !== "undefined")
                                {

                                    $(id).show();
                                }

                            } else
                            {
                                var id = "#" + tagid;
                                if (id !== "undefined")
                                {
                                    $(id).hide();

                                }


                            }


                        });

                    }
                });

            }


        }



        $(document).on('change', '.radio-p-fill-6', function () { // Outofnetwork

            if ($(".radio-p-fill-6").prop('checked') === true)
            {


                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("", "io");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "oa");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "ou");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "ioa");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "iou");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "oau");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true)
                {
                    trigger("", "ioau");
                } else
                {

                    trigger("Out of Network", "");
                }



            } else
            {
                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("In Network", "");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("Any", "");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("Unknown", "");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "ia");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "iu");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "au");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true)
                {
                    trigger("", "iau");
                } else
                {
                    if (globalval === "")
                    {
                        globalval = ["|"];
                    }
                    trigger("", "");
                }


            }


        });

        $(document).on('change', '.radio-p-fill-7', function () { //Any

            if ($(".radio-p-fill-7").prop('checked') === true)
            {

                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("", "ia");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "oa");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "au");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "ioa");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "iau");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "oau");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true)
                {
                    trigger("", "ioau");
                } else
                {

                    trigger("Any", "");
                }

            } else
            {
                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false) {

                    trigger("In Network", "");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("Out of Network", "");
                } else if ($(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("Unknown", "");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === false)
                {
                    trigger("", "io");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "iu");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "ou");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-8").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true)
                {
                    trigger("", "iou");
                } else
                {
                    if (globalval === "")
                    {
                        globalval = ["|"];
                    }
                    trigger("", "");
                }
            }

        });


        $(document).on('change', '.radio-p-fill-8', function () { // Unknown
            if ($(".radio-p-fill-8").prop('checked') === true)
            {
                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-7").prop('checked') === false) {

                    trigger("", "iu");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "ou");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "au");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "iou");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "iau");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "oau");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true)
                {
                    trigger("", "ioau");
                } else
                {

                    trigger("Unknown", "");
                }

            } else
            {
                if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-7").prop('checked') === false) {

                    trigger("In Network", "");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("Out of Network", "");
                } else if ($(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("Any", "");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === false)
                {
                    trigger("", "io");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === false)
                {
                    trigger("", "ia");
                } else if ($(".radio-p-fill-6").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-5").prop('checked') === false)
                {
                    trigger("", "oa");
                } else if ($(".radio-p-fill-5").prop('checked') === true && $(".radio-p-fill-7").prop('checked') === true && $(".radio-p-fill-6").prop('checked') === true)
                {
                    trigger("", "ioa");
                } else
                {
                    if (globalval === "")
                    {
                        globalval = ["|"];
                    }
                    trigger("", "");
                }
            }
        });


        $(".on-page-search-other").on("keyup", function () {
            var v = $(this).val();
            //  console.log(v);
            $(".results").removeClass("results");
            $("section").find("#loopsegment").find("table").find("td").each(function () {
                if (v !== "" && $(this).text().search(new RegExp(v, 'gi')) !== -1) {
                    $(this).addClass("results");

                }

            });
        });


        var selarr = [];
        $(document).on('click', '.sepbtn1', function (e) { // Unknown
            //alert('click');

            var v;

            $('.radio-p-fill-5').prop('checked', false);
            $('.radio-p-fill-6').prop('checked', false);
            $('.radio-p-fill-7').prop('checked', false);
            $('.radio-p-fill-8').prop('checked', false);
            $('#seperatercol').find('.sepbtn').each(function (e) {
                var btnid = $(this).attr('id');
                // console.log(btnid);
                if ($('#' + btnid).prop('checked') === true)
                {
                    $('#' + btnid).prop('checked', false);
                    $('#' + btnid).css("background-color", "#139092");
                    $('#' + btnid).css("color", "#fff");
                    $('#' + btnid).css("border-color", "#128587");
                }

            });

            v = ["|"];
            globalval = v;
            while (selarr.length > 0) {
                selarr.pop();
            }


            $("section").find("#loopsegment").find("a").each(function () {

                if (v !== "" && $(this).attr('value').search(new RegExp(v.join("|"), 'gi')) !== -1) {
                    //  console.log("inside:" + v);

                    var id = $(this).parent().parent().parent().parent().parent().attr('id');
                    if (id !== "undefined")
                    {

                        $('#' + id).show();
                    }
                    $(this).show();

                } else
                {

                    if (v === "")
                    {
                        var id = $(this).parent().parent().parent().parent().parent().attr('id');
                        if (id !== "undefined")
                        {

                            $('#' + id).show();
                        }
                        $(this).show();
                    } else
                    {
                        var id = $(this).parent().parent().parent().parent().parent().attr('id');
                        if (id !== "undefined")
                        {

                            $('#' + id).hide();
                        }

                    }
                }

            });

        });



        $(document).on('change', '.sepbtn', function (e) { // Unknown

            var btnid = e.currentTarget.id;

            var v;

            if ($('#' + btnid).prop('checked') === true)
            {
                // $('#selectedservice').text($(this).attr('value'));

                $('.radio-p-fill-5').prop('checked', false);
                $('.radio-p-fill-6').prop('checked', false);
                $('.radio-p-fill-7').prop('checked', false);
                $('.radio-p-fill-8').prop('checked', false);

                $(this).css({'background-color': '#3d505e'});


                v = $(this).attr('value');


                if (v !== "All")
                {
                    if (selarr.indexOf(v.trim()) === -1)
                    {
                        selarr.push(v.trim());
                    }

                }


                if (v === "All")
                {
                    v = ["|"];
                    globalval = v;
                    while (selarr.length > 0) {
                        selarr.pop();
                    }

                } else
                {

                    v = selarr;

                    globalval = v;
                }


            } else
            {


                $('.radio-p-fill-5').prop('checked', false);
                $('.radio-p-fill-6').prop('checked', false);
                $('.radio-p-fill-7').prop('checked', false);
                $('.radio-p-fill-8').prop('checked', false);

                $('#' + btnid).css("background-color", "#139092");
                $('#' + btnid).css("color", "#fff");
                $('#' + btnid).css("border-color", "#128587");

                v = $(this).attr('value');

                if (v === "All")
                {
                    v = ["|"];
                    globalval = v;
                    while (selarr.length > 0) {
                        selarr.pop();
                    }

                } else
                {

                    if (selarr.length > 0) {


                        selarr = jQuery.grep(selarr, function (value) {
                            return value !== v;
                        });

                        // console.log("delete: " + v);

                    }

                    if (selarr.length === 0)
                    {
                        v = ["|"];
                        globalval = v;
                    } else
                    {
                        v = selarr;
                        globalval = v;
                    }

                }



            }


            $("section").find("#loopsegment").find("a").each(function () {
                //    .find("#accordionExampleloop").find("a").each(function () {
                //console.log("outside: " + v);

                if (v.indexOf(',') === -1)
                {
                    //   console.log($(this).attr('value').search(new RegExp(v.join("|"), 'gi')));
                    if (v !== "" && $(this).attr('value').search(new RegExp(v.join("|"), 'gi')) !== -1) {
                        //  console.log("inside:" + v);

                        var id = $(this).parent().parent().parent().parent().parent().attr('id');
                        if (id !== "undefined")
                        {

                            $('#' + id).show();
                        }
                        $(this).show();

                    } else
                    {

                        if (v === "")
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).show();
                            }
                            $(this).show();
                        } else
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).hide();
                            }

                        }
                    }
                } else
                {
                    if (v !== "" && $(this).attr('value').matchAll(new RegExp(v.join("|"), 'gi')) !== -1) {
                        //  console.log("inside:" + v);

                        var id = $(this).parent().parent().parent().parent().parent().attr('id');
                        if (id !== "undefined")
                        {

                            $('#' + id).show();
                        }
                        $(this).show();

                    } else
                    {

                        if (v === "")
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).show();
                            }
                            $(this).show();
                        } else
                        {
                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                            if (id !== "undefined")
                            {

                                $('#' + id).hide();
                            }

                        }
                    }
                }

            });


        });




        function GetParameterValues(param) {
            var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for (var i = 0; i < url.length; i++) {
                var urlparam = url[i].split('=');
                if (urlparam[0] === param) {
                    return urlparam[1];
                }
            }
        }


        const groupBy = (array, key) => {
            // Return the end result
            return array.reduce((result, currentValue) => {
                // If an array already present for key, push it to the array. Else create an array and push the object
                (result[currentValue[key]] = result[currentValue[key]] || []).push(
                        currentValue
                        );
                // Return the current iteration `result` value, this will be taken as next iteration `result` value and accumulate
                return result;
            }, {}); // empty object is the initial value for result object
        };
        function Appendtag(gn, gnid, element, heading, tagvalue, spanid, loopsegment, func, Limitation, layer)
        {

            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
            var ltpinid = "accordionExampleloop" + segmentid;
            var ltpin = "";

            var head = '';
            var subhead = '';

            if (heading.includes("Family") && heading.includes("In"))
            {
                head = 'family';
                subhead = 'famin';
            } else if (heading.includes("Family") && heading.includes("Out"))
            {
                head = 'family';
                subhead = 'famout';
            } else if (heading.includes("Family") && heading.includes("Any"))
            {
                head = 'family';
                subhead = 'famany';
            } else if (heading.includes("Family") && heading.includes("Unknown"))
            {
                head = 'individual';
                subhead = 'famun';
            } else if (heading.includes("dividual") && heading.includes("In"))
            {
                head = 'individual';
                subhead = 'indin';
            } else if (heading.includes("dividual") && heading.includes("Out"))
            {
                head = 'individual';
                subhead = 'indout';
            } else if (heading.includes("dividual") && heading.includes("Any"))
            {
                head = 'individual';
                subhead = 'indany';
            } else if (heading.includes("dividual") && heading.includes("Unknown"))
            {
                head = 'individual';
                subhead = 'indun';
            } else if (heading.includes("Unknown") && heading.includes("In"))
            {
                head = 'active';
                subhead = 'activein';
            } else if (heading.includes("Unknown") && heading.includes("Out"))
            {
                head = 'active';
                subhead = 'activeout';
            } else if (heading.includes("Unknown") && heading.includes("Any"))
            {
                head = 'active';
                subhead = 'activeany';
            } else if (heading.includes("Unknown") && heading.includes("Unknown"))
            {
                head = 'active';
                subhead = 'activeun';
            } else if (heading.includes("Active") && heading.includes("In"))
            {
                head = 'active';
                subhead = 'activein';
            } else if (heading.includes("Active") && heading.includes("Out"))
            {
                head = 'active';
                subhead = 'activeout';
            } else if (heading.includes("Active") && heading.includes("Any"))
            {
                head = 'active';
                subhead = 'activeany';
            } else if (heading.includes("Active") && heading.includes("Unknown"))
            {
                head = 'active';
                subhead = 'activeun';
            } else if (heading.includes("Miscellaneous") && heading.includes("In"))
            {
                head = 'misc';
                subhead = 'miscin';
            } else if (heading.includes("Miscellaneous") && heading.includes("Out"))
            {
                head = 'misc';
                subhead = 'miscout';
            } else if (heading.includes("Miscellaneous") && heading.includes("Any"))
            {
                head = 'misc';
                subhead = 'miscany';
            } else if (heading.includes("Miscellaneous") && heading.includes("Unknown"))
            {
                head = 'misc';
                subhead = 'miscun';
            }





            if (typeof (element) !== "undefined")
            {

                ltpin = element;
                if (ltpin !== "")
                {

                    if (tagvalue === "Authorization Requirement" || tagvalue === "Calendar Year | Authorization Requirement" || tagvalue === "OOP | Authorization Requirement" || tagvalue === "Deductible Authorization Requirement" || tagvalue === "Limitation Authorization Requirement")
                    {
                        if (ltpin === "YES")
                        {
                            // $('#' + layer).find('table').find('tbody').append("<tr><th> " + heading + "</th><td class='text-left'></td></tr>");
                            $('#' + layer).show();
                            $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            //  $('#' + loopsegment + '').find('#' + ltpinid).show();
                            //  $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: red; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                        } else if (ltpin === "NO")
                        {
                            //  $('#' + layer).find('table').find('tbody').append("<tr><th> " + heading + "</th><td class='text-left'></td></tr>");
                            $('#' + layer).show();
                            $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            //  $('#' + loopsegment + '').find('#' + ltpinid).show();
                            //   $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: green; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                        } else
                        {
                            //  $('#' + layer).find('table').find('tbody').append("<tr><th> " + heading + "</th><td class='text-left'></td></tr>");
                            $('#' + layer).show();
                            $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            //   $('#' + loopsegment + '').find('#' + ltpinid).show();
                            //  $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word;  background-color: orange; color: white; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                        }

                    } else
                    {
                        if (tagvalue === "Payor Type" || tagvalue === "Payor Name")
                        {
                            // $('#' + layer).find('table').find('tbody').append("<tr><th> " + heading + "</th><td class='text-left'></td></tr>");
                            $('#' + layer).show();
                            $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");
                            //  $('#' + loopsegment + '').find('#' + ltpinid).show();
                            //   $('#' + loopsegment + '').find('#' + ltpinid).find('table').find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='word-break: break-word; width: inherit; font-weight: bold;'>" + ltpin + "</span></td></tr>");

                        } else
                        {

                            if (Limitation !== "")
                            {
                                $('#' + layer).show();
                                $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> <span style='background-color: red; color: white; font-family: cursive !important; font-size: 14px !important; font-weight: 100;'>" + tagvalue + "</span></th><td class='text-left'><span id='" + spanid + gn.trim() + "' class='float-left text-wrap' style='background-color: red; color: white; font-family: cursive !important; font-size: 14px !important; font-weight: 100;'>" + ltpin + "</span></td></tr>");
                                // $('#' + loopsegment + '').find('#' + ltpinid).find('a').find('span').html('');
                                //  $('#' + loopsegment + '').find('#' + ltpinid).find('a').append("<span style='background-color: red; color: white; font-family: cursive !important; font-size: 14px !important; font-weight: 100;'>" + heading + "</span>");
                            } else
                            {
                                $('#' + layer).show();
                                $('#' + layer).find('#' + head).find('#' + subhead).find('tbody').append("<tr><th> " + tagvalue + "</th><td class='text-left'><span class='float-left text-wrap' style='word-break: break-word; width: inherit;'>" + ltpin + "</span></td></tr>");
                            }



                        }
                    }
                    //   }
                } else
                {
                    // $('#' + ltpinid + '').find('#' + layer).hide();
                }

            } else
            {
                // $('#' + ltpinid + '').find('#' + layer).hide();
            }
        }


        function conversion(f)
        {
            return  f.substring(6, 4) + "/" + f.substring(8, 6) + "/" + f.substring(0, 4);
        }


        function DTP(dtp1, dtp2, dtp3)
        {

            var result = '';
            if (dtp3.length > 0)
            {
                if (dtp2.length > 0)
                {
                    if (dtp2[0].Element === "D8")
                    {
                        result = dtp1[0].dtp + "~" + conversion(dtp3[0].Element);

                    } else if (dtp2[0].Element === "RD8")
                    {
                        var splitstr = dtp3[0].Element;
                        var dtp = splitstr.split('-');
                        result = dtp1[0].dtp + "~" + conversion(dtp[0]) + " - " + conversion(dtp[1]);
                    }
                }
            }
            return result;
        }

        function msgsegment(msg)
        {
            if (msg.length > 0)
            {
                if (msg.length > 1)
                {
                    var ltinmsg = '';
                    for (var i = 0; i < msg.length; i++)
                    {
                        var incStr = msg[i].Element;
                        var checkmsg = incStr.search("SEQ#");
                        if (checkmsg === -1)
                        {
                            ltinmsg = ltinmsg + msg[i].Element + "<br>";
                        }

                    }

                } else
                {

                    var incStr = msg[0].Element;
                    var checkmsg = incStr.search("SEQ#");
                    if (checkmsg === -1)
                    {
                        ltinmsg = msg[0].Element;
                    }
                }
                return ltinmsg;
            }
        }


        function iiimsgsegment(msg)
        {
            if (msg.length > 0)
            {
                if (msg.length > 1)
                {
                    var ltinmsg = '';
                    for (var i = 0; i < msg.length; i++)
                    {

                        if (typeof (msg[i].III02) !== "undefined")
                        {

                            if (typeof (msg[i].III01) !== "undefined")
                            {

                                ltinmsg = ltinmsg + msg[i].III01 + " | " + msg[i].III02 + " ";
                            } else
                            {
                                ltinmsg = ltinmsg + msg[i].III02 + " ";
                            }


                        } else
                        {
                            if (typeof (msg[i].III01) !== "undefined")
                            {
                                ltinmsg = ltinmsg + msg[i].III01 + " ";

                            }

                        }
                    }
                }
            } else
            {
                if (msg.length > 0)
                {
                    if (typeof (msg[0].III01) !== "undefined")
                    {
                        ltinmsg = msg[0].III01;
                    }
                    if (typeof (msg[0].III02) !== "undefined")
                    {
                        ltinmsg = msg[0].III02;
                    }
                }
            }
            return ltinmsg;
        }

        var benefit_id_arr = [];
        function FetchSegmentLoop(response)
        {

          /*   if (typeof(benefittypecode) === "undefined" || benefittypecode === "")
            {
                _.defer($.ajax({
                    url: "getebbenefittype",
                    type: "get", //send it through get method
                    success: function (dbresponse) {
                        var txt = dbresponse;
                        var response1 = jQuery.parseJSON(txt);
                        if (response1.Response.length > 0)
                        {
                            benefittypecode = response1.Response;
                            //console.log(response.Response);
                        }
                    }
                }));
            } */
            var segloop;
            var loop;
            //console.log(response);
            segloop = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "3" && obj.Parent_2 !== "30" && obj.Parent_2 !== "null" && obj.Parent_2 !== "");
            var rev_dep_arr = [];

            const segloopGroupedBy = groupBy(segloop, 'Element');
            //   console.log(segloopGroupedBy);
            var bsa = [];
            for (var groupname in segloopGroupedBy) {

                for (var j = 0; j < segloopGroupedBy[groupname].length; j++)
                {
                    // console.log(segloopGroupedBy[groupname][j].benefit_type);
                    var gn = segloopGroupedBy[groupname][j].Tid;
                    var gnid = segloopGroupedBy[groupname][j].Parent_4;
                    var groupid = segloopGroupedBy[groupname][j].groupid;
                    var default_group = segloopGroupedBy[groupname][j].default_group;
                    var optional_group = segloopGroupedBy[groupname][j].optional_group;
                    var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                    var benefit_id = segloopGroupedBy[groupname][j].benefit_type;
                    console.log(benefit_id);
                    console.log(segloopGroupedBy[groupname][j].benefit_type);
                    var res = "";
                    if (typeof (segloopGroupedBy[groupname][j].selected_benefit) !== "undefined")
                    {
                        res = segloopGroupedBy[groupname][j].selected_benefit.split("^");
                    }

                    var selectstring = "";
                 /*   for (var k = 0; k < res.length; k++)
                    {
                        var selected = benefittypecode.filter(obj => obj.benefit_code === res[k]);
                        if (selected.length > 0)
                        {
                            console.log(selected);
                            var n = selectstring.includes(selected[0].benefit_type);
                            if (!n)
                            {
                                selectstring = selectstring + selected[0].benefit_type + " /";
                            }
                            console.log(selectstring);
                        } else
                        {
                            selectstring = "Undefine " + res[k] + " /";
                        }

                    }
                     */
                    
                     var selected = segloopGroupedBy[groupname][j].benefit_type_des;
                            if(selected.length > 0)
                            {
                                selectstring = segloopGroupedBy[groupname][j].benefit_type_des;
                            }
                            else
                            {
                                selectstring = "Undefine " + segloopGroupedBy[groupname][j].benefit_type_des + " /";
                            }
                         

                    var benefittype = selectstring;
                   // benefittype = benefittype.slice(0, benefittype.length - 1);
                    var def_arr = [];

                    if (typeof (default_group) !== "undefined")
                    {
                        def_arr = default_group.split(',');
                    }

                    var opt_arr = [];
                    console.log("benefittype : ");
                    console.log(benefittype);
                    if (typeof (optional_group) !== "undefined")
                    {
                        opt_arr = optional_group.split(',');
                    }




                    var arr = groupid.split('|');
                    for (var jl = 0; jl < arr.length; jl++)
                    {

                        if (bsa.indexOf(arr[jl].trim()) === -1)
                        {
                            bsa.push(arr[jl].trim());

                        }
                    }

                    if (benefittype !== "")
                    {
                        if (rev_dep_arr.indexOf(benefittype) === -1)
                        {

                            rev_dep_arr.push(benefittype);
                            benefit_id_arr.push(benefit_id.replaceAll('/', '').replaceAll('^', '-').trim());
                            console.log(benefit_id.replaceAll('/', '').replaceAll('^', '-').trim());
                            loop = "loopsegment";
                            $('#loopsegment').append("<div class='accordion' id= 'accordionExampleloop" + benefit_id.replace('/', '').replaceAll('^', '-').trim() + "'><div class='col-xl-12 col-lg-12 task-detail-right'><div class='card card-border-c-blue'><div class='card-header'  value ='" + groupid.trim() + "'  id='headingTwo" + gn.trim() + "'><h5><a href='#!' class='collapsed' style='font-family: system-ui !important; font-weight: bold;' value= '" + groupid + "' data-toggle='collapse' data-target='#collapseTwo" + gn.trim() + "' aria-expanded='false' aria-controls='collapseTwo" + gn.trim() + "'><i class='fas fa-angle-down rotate-icon'></i> " + benefittype.trim() + " </a></h5></div>" +
                                    "<div id='" + benefit_id.replaceAll(' ', '').replaceAll('/', '').replaceAll('^', '-').trim() + "'><div id='collapseTwo" + gn.trim() + "' class='collapse card-body' aria-labelledby='headingTwo" + gn.trim() + "' data-parent='#accordionExampleloop" + benefit_id.replace('/', '').replaceAll('^', '-').trim() + "'>" +
                                    "<div class='card-body task-details'>" +
                                    "<div id = 'family'> <h6 id='familyh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'> Family</i> <hr></h6>" +
                                    "<table id='famin' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='famout' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='famany' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id = 'famun' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table></div>" +
                                    "<br><div id = 'individual'> <h6 id='indivh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'> Individual</i> <hr></h6>" +
                                    "<table id='indin' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='indout' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='indany' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id = 'indun' class='table table-responsive invoice-table invoice-order table-borderless' style= 'line-height: 1.2;'><tbody></tbody></table></div>" +
                                    "<br><div id = 'active'> <h6 id='activeh6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'> Active</i> <hr></h6>" +
                                    "<table id='activein' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='activeout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='activeany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id = 'activeun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table></div>" +
                                    "<br><div id = 'misc'> <h6 id='misch6' style= 'color: #1a618b !important;'><i class='fas fa-user-friends m-r-5'> Miscellaneous</i> <hr></h6>" +
                                    "<table id='miscin' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='miscout' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id='miscany' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table>" +
                                    "<table id = 'miscun' class='table table-responsive invoice-table invoice-order table-borderless' style= ' line-height: 1.2;'><tbody></tbody></table></div>" +
                                    "</div></div></div></div></div></div>");
                        }

                    }
                }

            }


            for (var kl = 0; kl < bsa.length; kl++)
            {
                if (bsa[kl].trim() !== "")
                {
                    var st = bsa[kl].trim().split('_');



                    if (typeof (default_group) !== "undefined")
                    {
                        if (def_arr.indexOf(st[1].trim()) === -1)
                        {

                        } else
                        {
                            $('#seperatercol').append("<div class='btn btn-primary d-inline'><input type='checkbox' checked class='sepbtn btn btn-primary' id='" + st[1].trim() + "' value ='" + st[0].trim() + "'/><label for='" + st[1].trim() + "' class='cr'>" + st[0].trim() + "</label></div>");

                        }
                    }

                    if (typeof (optional_group) !== "undefined")
                    {
                        if (opt_arr.indexOf(st[1].trim()) === -1)
                        {

                        } else
                        {
                            $('#seperatercol').append("<div class='btn btn-primary d-inline'><input type='checkbox' class='sepbtn btn btn-primary' id='" + st[1].trim() + "' value ='" + st[0].trim() + "'/><label for='" + st[1].trim() + "' class='cr'>" + st[0].trim() + "</label></div>");

                        }
                    }

                }


            }

            $('#seperatercol').append("<input type='button' class='sepbtn1 btn1 btn-success' id='group' value ='All'></input>");

            var coinnet = "0";
            var cooutnet = "0";
            var coany = "0";
            var actcoinnet = "";
            var actcoinoutnet = "";
            var actcoinanynet = "";
            var coinmsg = "";
            var cooutmsg = "";
            var coanymsg = "";
            var actcoinmsg = "";
            var copayinnet = "0";
            var copayoutnet = "0";
            var copayany = "0";
            var actconetmsg = "";
            var copayinmsg = "";
            var copayoutmsg = "";
            var copayanymsg = "";
            var actcoanymsg = "";
            var ltpin = "";
            var lqin = "";
            var lain = "";
            var lpin = "";
            var lpautin = "";
            var lpquain = "";
            var ltpout = "";
            var lqout = "";
            var laout = "";
            var lpout = "";
            var lpautout = "";
            var lpquaout = "";
            var ltpany = "";
            var lqany = "";
            var laany = "";
            var lpany = "";
            var lpautany = "";
            var lpquaany = "";
            var ltinmsg = "";
            var ltoutmsg = "";
            var ltanymsg = "";
            var loopseg = "";
            for (var groupname1 in segloopGroupedBy) {

                for (var j = 0; j < segloopGroupedBy[groupname1].length; j++)
                {
                    //  var benefit_id = segloopGroupedBy[groupname1][j].benefit_type;
                    // benefit_id = benefit_id.replace('/', '').replaceAll('^', '-').trim();

                    var res = "";
                    if (typeof (segloopGroupedBy[groupname1][j].selected_benefit) !== "undefined")
                    {
                        res = segloopGroupedBy[groupname1][j].selected_benefit.split("^");
                    }

                    var selectstring = "";
                   /* for (var k = 0; k < res.length; k++)
                    {
                        var selected = benefittypecode.filter(obj => obj.benefit_code === res[k]);
                        if (selected.length > 0)
                        {
                            // console.log(selected);
                            var n = selectstring.includes(selected[0].benefit_type);
                            if (!n)
                            {
                                selectstring = selectstring + selected[0].benefit_type + " /";
                            }

                        } else
                        {
                            selectstring = "Undefine " + res[k] + " /";
                        }

                    } */
                    
                    
                     var selected = segloopGroupedBy[groupname1][j].benefit_type_des;
                            if(selected.length > 0)
                            {
                                selectstring = segloopGroupedBy[groupname1][j].benefit_type_des;
                            }
                            else
                            {
                                selectstring = "Undefine " + segloopGroupedBy[groupname1][j].benefit_type_des + " /";
                            }

                    // var benefit_id = selectstring;
                    //  benefit_id = benefittype.slice(0, benefittype.length - 1);
                    // benefit_id = benefit_id.replaceAll(' ', '').replaceAll('/', '').replaceAll('^', '-').trim();
                    // console.log(benefit_id);
                    var benefit_id = segloopGroupedBy[groupname1][j].benefit_type;
                    benefit_id = benefit_id.replaceAll(' ', '').replaceAll('/', '').replaceAll('^', '-').trim();

                    var coinsin = response.Response.filter(obj => obj.Element === groupname1.trim() && obj.Element_id === "3" && obj.Parent_4 === segloopGroupedBy[groupname1][j].Parent_4);
                    //console.log(coinsin);
                    for (var coins in coinsin) {

                        var segmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "1" && obj.Element_id === "1");
                        var coinssegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "A" && obj.Element_id === "1");
                        var copaysegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "B" && obj.Element_id === "1");
                        var colimitsegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "F" && obj.Element_id === "1");
                        var miscellaneoussegmentdetails = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "U" && obj.Element_id === "1");
                        var coinssegmentdetailsother = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "C" && obj.Element_id === "1");
                        var coinssegmentdetailsotherop = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "G" && obj.Element_id === "1");
                        var coinssegmentdetailsother1 = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "D" && obj.Element_id === "1");
                        var coinssegmentdetailsother2 = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "III" && obj.Element_id === "1");
                        var coinssegmentdetailsother3 = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "R" && obj.Element_id === "1");
                        var coinssegmentdetailsother4 = response.Response.filter(obj => obj.Parent_4 === coinsin[coins].Parent_4.trim() && obj.Element === "I" && obj.Element_id === "1");

                        if (coinssegmentdetailsother.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsother[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.benefit_type && );
                            //  console.log(benefit_id);

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }


                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }





                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Unknown | " + netwk, "Deductible Unknown-Network", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);


                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Deductible | Unknown | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Deductible | Unknown | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);



                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | Unknown | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | Unknown | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Unknown | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Unknown | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                }


                            } else
                            {
                                // console.log('Muthu');
                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {


                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Deductible | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Deductible | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {


                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Deductible | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Deductible | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                // console.log(EB7Segment);
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {

                                        if (typeof (EB6Segment[0].Element) === "undefined")
                                        {
                                            // console.log(EB2Segment[0].Element);
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | dividual | " + netwk, "Individual Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }
                                }

                                if (typeof (EB6Segment[0].Element) === "undefined")
                                {
                                    var checkmsg = 'Unknown';
                                    if (EB2Segment.length > 0)
                                    {
                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            checkmsg = 'Family';
                                        } else
                                        {
                                            checkmsg = 'Individual';
                                        }
                                    }
                                    if (EBmsgSegment.length > 0)
                                    {
                                        ltinmsg = msgsegment(EBmsgSegment);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | " + checkmsg + " | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                    }
                                    if (EBiiiSegment.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(EBiiiSegment);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible |" + checkmsg + " | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                    }
                                }


                            }


                            // console.log(plan);
                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible
                                    if (EB6Segment[0].Element === "23")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }

                                                }

                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible", "ofamilyded", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family Deductible Network", "ofamilydednet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | Family | " + netwk, "Authorization Requirement", "ofamilydedautnet", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydeddtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydeddtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "MSG", "ofamilydedmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "POS", "ofamilydediiimsg", loop, "", "", benefit_id);
                                                }


                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {

                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | dividual | " + netwk, "Individual Deductible", "oindded", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual Deductible Network", "oinddednet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | dividual | " + netwk, "Authorization Requirement", "oinddedautnet", loop, "12", "", benefit_id);


                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddeddtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddeddtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "MSG", "oinddedmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "POS", "oinddediiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "24")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible MET | Family | " + netwk, "Family Deductible MET", "ofamilydedmet", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family Deductible MET Network", "ofamilydedmetnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible MET | Family | " + netwk, "Authorization Requirement", "ofamilydedautmet", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible MET | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedmetdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible MET | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedmetdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible MET | Family | " + netwk, "MSG", "ofamilydedmetmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible MET | Family | " + netwk, "POS", "ofamilydedmetiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible MET | dividual | " + netwk, "Individual Deductible MET", "oinddedmet", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual Deductible MET Network", "oinddedmetnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible MET | dividual | " + netwk, "Authorization Requirement", "oinddedmetaut", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible MET | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedmetdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible MET | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedmetdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible MET | dividual | " + netwk, "MSG", "oinddedmetmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible MET | dividual | " + netwk, "POS", "oinddedmetiiimsg", loop, "", "", benefit_id);
                                                }

                                            }

                                        }

                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "26")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible Per Episode", "ofamilydedepi", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family Deductible Network", "ofamilydedepinet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | Family | " + netwk, "Authorization Requirement", "ofamilydedautepi", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedepidtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedepidtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "MSG", "ofamilydedepimsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "POS", "ofamilydedepiiimsg", loop, "", "", benefit_id);
                                                }




                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | dividual | " + netwk, "Individual Deductible Per Episode", "oinddedepi", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual Deductible Network", "oinddedepinet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | dividual | " + netwk, "Authorization Requirement", "oinddedautepi", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedepidtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedepidtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "MSG", "oinddedepimsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "POS", "oinddedepiiimsg", loop, "", "", benefit_id);
                                                }

                                            }

                                        }


                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "27")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }




                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible Per Visit", "ofamilydedvis", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family Deductible Network", "ofamilydedvisnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | Family | " + netwk, "Authorization Requirement", "ofamilydedautvis", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedvisdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedvisdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "MSG", "ofamilydedvismsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "POS", "ofamilydedvisiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | dividual | " + netwk, "Individual Deductible Per Visit", "oinddedvis", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual Deductible Network", "oinddedvisnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | dividual | " + netwk, "Authorization Requirement", "oinddedautvis", loop, "12", "");

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedvisdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedvisdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "MSG", "oinddedvismsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "POS", "oinddedvisiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met 26,27
                                    if (EB6Segment[0].Element === "29")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | Family | " + netwk, "Family Deductible Remaining", "ofamilydedrem", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family Deductible Remaining Network", "ofamilydedremnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | Family | " + netwk, "Authorization Requirement", "ofamilydedautrem", loop, "12", "", benefit_id);


                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedremdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedremdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "MSG", "ofamilydedremmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | Family | " + netwk, "POS", "ofamilydedremiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Deductible | dividual | " + netwk, "Individual Deductible Remaining", "oinddedrem", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "dividual Deductible Network Remaining", "oinddedremnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Deductible | dividual | " + netwk, "Authorization Requirement", "oinddedautrem", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedremdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Deductible | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedremdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "MSG", "oinddedremmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Deductible | dividual | " + netwk, "POS", "oinddedremiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }
                                }

                            }

                        }

                        if (coinssegmentdetailsotherop.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsotherop[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.benefit_type);
                            // console.log(benefit_id);
                            // console.log(EB2Segment[0].Element)

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }


                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }



                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }




                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Unknown | " + netwk, "OOP " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | OOP | Unknown | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | OOP | Unknown | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);


                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | Unknown | " + netwk, dtpsegment1[0].dtp, "oopotherinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | Unknown | " + netwk, dtpsegment1[0].dtp, "oopotherinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Unknown | " + netwk, "MSG", "oopotherinddedmsg", loop, "", "", benefit_id);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Unknown | " + netwk, "POS", "oopotherinddediiimsg", loop, "", "", benefit_id);
                                }




                            } else
                            {

                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {


                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | OOP | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | OOP | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {

                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | OOP | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | OOP | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {


                                        if (typeof (EB6Segment[0].Element) === "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Family | " + netwk, "Family Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | dividual | " + netwk, "Individual Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }
                                }



                            }


                            // console.log(plan);
                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible
                                    if (EB6Segment[0].Element === "23")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Family | " + netwk, "Family OOP Deductible", "oopofamilyded", loop, "", "", benefit_id);
                                                //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family OOP Network", "oopofamilydednet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | Family | " + netwk, "Authorization Requirement", "oopofamilydedautnet", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydeddtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydeddtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "MSG", "oopofamilydedmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "POS", "oopofamilydediiimsg", loop, "", "", benefit_id);
                                                }




                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | dividual | " + netwk, "Individual OOP", "oopoindded", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual OOP Network", "oopoinddednet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | dividual | " + netwk, "Authorization Requirement", "oopoinddedautnet", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddeddtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddeddtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "MSG", "oopoinddedmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "POS", "oopoinddediiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "24")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }


                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP MET | Family | " + netwk, "Family OOP MET", "oopofamilydedmet", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family OOP MET Network", "oopofamilydedmetnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP MET | Family | " + netwk, "Authorization Requirement", "oopofamilydedautmet", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP MET | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedmetdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP MET | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedmetdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP MET | Family | " + netwk, "MSG", "oopofamilydedmetmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP MET | Family | " + netwk, "POS", "oopofamilydedmetiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP MET | dividual | " + netwk, "Individual OOP MET", "oopoinddedmet", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual OOP MET Network", "oopoinddedmetnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP MET | dividual | " + netwk, "Authorization Requirement", "oopoinddedmetaut", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP MET | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedmetdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP MET | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedmetdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP MET | dividual | " + netwk, "MSG", "oopoinddedmetmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP MET | dividual | " + netwk, "POS", "oopoinddedmetiiimsg", loop, "", "", benefit_id);
                                                }

                                            }

                                        }

                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "26")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Family | " + netwk, "Family OOP Per Episode", "oopofamilydedepi", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family OOP Network", "oopofamilydedepinet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | Family | " + netwk, "Authorization Requirement", "oopofamilydedautepi", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedepidtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedepidtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "MSG", "oopofamilydedepimsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "POS", "oopofamilydedepiiimsg", loop, "", "", benefit_id);
                                                }




                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | dividual | " + netwk, "Individual OOP Per Episode", "oopoinddedepi", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual OOP Network", "oopoinddedepinet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | dividual | " + netwk, "Authorization Requirement", "oopoinddedautepi", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedepidtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedepidtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "MSG", "oopoinddedepimsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "POS", "oopoinddedepiiimsg", loop, "", "", benefit_id);
                                                }

                                            }

                                        }


                                    }


                                    // Family Deductile Met
                                    if (EB6Segment[0].Element === "27")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }




                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Family | " + netwk, "Family OOP Per Visit", "oopofamilydedvis", loop, "", "", benefit_id);
                                                //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family OOP Network", "oopofamilydedvisnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | Family | " + netwk, "Authorization Requirement", "oopofamilydedautvis", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedvisdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedvisdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "MSG", "oopofamilydedvismsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "POS", "oopofamilydedvisiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }

                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | dividual | " + netwk, "Individual OOP Per Visit", "oopoinddedvis", loop, "", "", benefit_id);
                                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual OOP Network", "oopoinddedvisnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | dividual | " + netwk, "Authorization Requirement", "oopoinddedautvis", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedvisdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedvisdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "MSG", "oopoinddedvismsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "POS", "oopoinddedvisiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }

                                    // Family Deductile Met 26,27
                                    if (EB6Segment[0].Element === "29")
                                    {
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | Family | " + netwk, "Family OOP Remaining", "oopofamilydedrem", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Family OOP Remaining Network", "oopofamilydedremnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | Family | " + netwk, "Authorization Requirement", "oopofamilydedautrem", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedremdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | Family | " + netwk, dtpsegment1[0].dtp, "oopofamilydedremdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }


                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "MSG", "oopofamilydedremmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | Family | " + netwk, "POS", "oopofamilydedremiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                            if (EB2Segment[0].Element === "IND")
                                            {
                                                var eb2seg = '';
                                                if (EB7Segment.length > 0)
                                                {
                                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                                    {
                                                        eb2seg = "$ " + EB7Segment[0].Element;
                                                    }
                                                }



                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | OOP | dividual | " + netwk, "Individual OOP Remaining", "oopoinddedrem", loop, "", "", benefit_id);
                                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "", "Individual OOP Network Remaining", "oopoinddedremnet", loop, "12", "");
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | OOP | dividual | " + netwk, "Authorization Requirement", "oopoinddedautrem", loop, "12", "", benefit_id);

                                                if (dtpsegment3.length > 0)
                                                {
                                                    if (dtpsegment2.length > 0)
                                                    {
                                                        if (dtpsegment2[0].Element === "D8")
                                                        {
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedremdtpval", loop, "", "", benefit_id);
                                                        } else if (dtpsegment2[0].Element === "RD8")
                                                        {
                                                            var splitstr = dtpsegment3[0].Element;
                                                            var dtp = splitstr.split('-');
                                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | OOP | dividual | " + netwk, dtpsegment1[0].dtp, "oopoinddedremdtpval1", loop, "", "", benefit_id);
                                                        }
                                                    }
                                                }

                                                if (EBmsgSegment.length > 0)
                                                {
                                                    ltinmsg = msgsegment(EBmsgSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "MSG", "oopoinddedremmsg", loop, "", "", benefit_id);
                                                }
                                                if (EBiiiSegment.length > 0)
                                                {
                                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | OOP | dividual | " + netwk, "POS", "oopoinddedremiiimsg", loop, "", "", benefit_id);
                                                }

                                            }
                                        }


                                    }
                                }

                            }

                        }

                        if (coinssegmentdetailsother1.length > 0)
                        {
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetailsother1[0].Parent_4);
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "7");
                            var EB9Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "9");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "12");
                            var EB10Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "10");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Element_id === "11");
                            var EBmsgSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "MSG");
                            var EBiiiSegment = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === segmentdetails1[0].Parent_4 && obj.benefit_type);
                            //  console.log(benefit_id);

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }



                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Description | Unknown | " + netwk, "Description " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Description | Unknown | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Description | Unknown | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);

                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Description | Unknown | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Description | Unknown | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (EBmsgSegment.length > 0)
                                {
                                    ltinmsg = msgsegment(EBmsgSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Description | Unknown | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                }
                                if (EBiiiSegment.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(EBiiiSegment);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Description | Unknown | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                }

                            } else
                            {

                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {

                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Description | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Description | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {


                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb05 = EB5Segment[0].Element;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Description | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Description | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {

                                        if (typeof (EB6Segment[0].Element) === "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Description | Family | " + netwk, "Family Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Description | dividual | " + netwk, "Individual Deductible", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }
                                }


                            }



                            if (EB6Segment.length > 0)
                            {
                                if (typeof (EB6Segment[0].Element) !== "undefined")
                                {
                                    // Family Deductible

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (EB2Segment[0].Element === "FAM")
                                        {


                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Family Deductible", "Family Deductible", "ofamilyded", loop, "", "");
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, "| Description | Family | " + netwk, "Family Description" + netwk, "ofamilydednet", loop, "12", "", benefit_id);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, "| Description | Family | " + netwk, "Authorization Requirement", "ofamilydedautnet", loop, "12", "", benefit_id);
                                            if (EB9Segment.length > 0)
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB9Segment[0].eb09, "| Description | Family | " + netwk, "Description Qualifier", "famcoinslqinval", loop, "9", "", benefit_id);
                                            }

                                            if (EB10Segment.length > 0)
                                            {
                                                var preindex = '';
                                                if (typeof (EB9Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = " " + (EB9Segment[0].eb09);
                                                }
                                                if (typeof (EB10Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = EB10Segment[0].Element + preindex;
                                                }
                                                // preindex = element10[0].Element + preindex;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, "| Description | Family | " + netwk, "Description Quantity", "famcoinslpquainval", loop, "", "", benefit_id);
                                                //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "| Description | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedquadtpval", loop, "", "", benefit_id);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "| Description | Family | " + netwk, dtpsegment1[0].dtp, "ofamilydedquadtpval1", loop, "", "", benefit_id);
                                                    }
                                                }
                                            }
                                            if (EBmsgSegment.length > 0)
                                            {
                                                ltinmsg = msgsegment(EBmsgSegment);
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "| Description | Family | " + netwk, "MSG", "ofamilydedmsg", loop, "", "", benefit_id);
                                            }
                                            if (EBiiiSegment.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(EBiiiSegment);
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "| Description | Family | " + netwk, "POS", "ofamilydediiimsg", loop, "", "", benefit_id);
                                            }


                                        }
                                        if (EB2Segment[0].Element === "IND")
                                        {


                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Individual Deductible", "Individual Deductible", "oindded", loop, "", "");
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB12Segment[0].eb12, " | Description | dividual | " + netwk, "Individual Deductible Network", "oinddednet", loop, "12", "", benefit_id);
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB11Segment[0].eb11, " | Description | dividual | " + netwk, "Authorization Requirement", "oinddedautnet", loop, "12", "", benefit_id);
                                            if (EB9Segment.length > 0)
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, EB9Segment[0].eb09, " | Description | dividual | " + netwk, "Description Qualifier", "indcoinslqinval", loop, "9", "", benefit_id);
                                            }


                                            if (EB10Segment.length > 0)
                                            {
                                                var preindex = '';
                                                if (typeof (EB9Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = " " + (EB9Segment[0].eb09);
                                                }
                                                if (typeof (EB10Segment[0].Element) !== "undefined")
                                                {
                                                    preindex = EB10Segment[0].Element + preindex;
                                                }
                                                // preindex = element10[0].Element + preindex;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Description | dividual | " + netwk, "Description Quantity", "indcoinslpquainval", loop, "", "", benefit_id);
                                                //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautin" + gn.trim() + "'><th> Limitation Authorization IN </th><td class='text-right'><span id='coinslpautinval" + gn.trim() + "' class='text-primary'>" + lpautin + "</span></td></tr>");
                                            }

                                            if (dtpsegment3.length > 0)
                                            {
                                                if (dtpsegment2.length > 0)
                                                {
                                                    if (dtpsegment2[0].Element === "D8")
                                                    {
                                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Description | dividual | " + netwk, dtpsegment1[0].dtp, "oinddedquadtpval", loop, "", "", benefit_id);
                                                    } else if (dtpsegment2[0].Element === "RD8")
                                                    {
                                                        var splitstr = dtpsegment3[0].Element;
                                                        var dtp = splitstr.split('-');
                                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Description | Individual | " + netwk, dtpsegment1[0].dtp, "oinddedquadtpval1", loop, "", "", benefit_id);
                                                    }
                                                }
                                            }

                                            if (EBmsgSegment.length > 0)
                                            {
                                                ltinmsg = msgsegment(EBmsgSegment);
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Description | dividual | " + netwk, "MSG", "oinddedmsg", loop, "", "", benefit_id);
                                            }
                                            if (EBiiiSegment.length > 0)
                                            {
                                                ltinmsg = iiimsgsegment(EBiiiSegment);
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Description | dividual | " + netwk, "POS", "oinddediiimsg", loop, "", "", benefit_id);
                                            }

                                        }
                                    }

                                }

                            }
                        }
                        if (coinssegmentdetailsother2.length > 0)
                        {
                            var gn = segloopGroupedBy[groupname1][j].Tid;
                            var gnid = segloopGroupedBy[groupname1][j].Parent_4;
                            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                            var actcoinnetid = "accordionExampleloop" + segmentid;
                            $('#loopsegment').find('#' + actcoinnetid).hide();
                            $('#' + actcoinnetid).html("");
                        }
                        if (coinssegmentdetailsother3.length > 0)
                        {
                            var gn = segloopGroupedBy[groupname1][j].Tid;
                            var gnid = segloopGroupedBy[groupname1][j].Parent_4;
                            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                            var actcoinnetid = "accordionExampleloop" + segmentid;
                            $('#loopsegment').find('#' + actcoinnetid).css("display", "none");
                            $('#' + actcoinnetid).html("");
                        }
                        if (coinssegmentdetailsother4.length > 0)
                        {

                            var gn = segloopGroupedBy[groupname1][j].Tid;
                            var gnid = segloopGroupedBy[groupname1][j].Parent_4;
                            var segmentid = gn.trim() + "" + gnid.replace('=', '').trim();
                            var actcoinnetid = "accordionExampleloop" + segmentid;
                            $('#loopsegment').find('#' + actcoinnetid).css("display", "none");

                            $('#' + actcoinnetid).html("");
                        }
                        //Active
                        if (segmentdetails.length > 0)
                        {
                            // console.log("segmentdetails");
                            // console.log(segmentdetails);
                            var segmentdetails1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "PER");
                            // console.log(coinsinsegmentdetails1.length);
                            var msg = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");


                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var EB11Segment = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.benefit_type);
                            // console.log(benefit_id);

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element;
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }



                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }




                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Active | Active | " + netwk, "Active " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Active | Active | " + netwk, "Payor Type" + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Active | Active | " + netwk, "Desc" + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);

                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Active | Active | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Active | Active | " + netwk, dtpsegment1[0].dtp, "otherinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Active | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Active | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                }


                            } else
                            {



                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {

                                        if (typeof (EB6Segment[0].Element) === "undefined")
                                        {
                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Active | Family | " + netwk, "Active " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb2seg = "$ " + EB7Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Active | Individual | " + netwk, "Active " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }
                                }

                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {

                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Active | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        } else if (EB2Segment[0].Element === "IND")
                                        {
                                            eb04 = EB4Segment[0].eb04;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Active | Individual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                        }

                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {

                                    if (EB2Segment[0].Element === "FAM")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Active | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    } else if (EB2Segment[0].Element === "IND")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Active | Individual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }

                                }

                                // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Active | Active | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Active | Active | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);



                            }


                            if (segmentdetails1.length > 0)
                            {


                                if (segmentdetails1[0].Element === "Y")
                                {
                                    var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");
                                    if (element1.length > 0)
                                    {

                                        if (typeof (element1[0].Element) !== "undefined")
                                        {
                                            actcoinnet = element1[0].eb01;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinnet, " | Active | In Network", "Active In Network", "actcoinnetval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            actcoinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinnet, " | Active | In Network", "Authorization Requirement", "actcoinnetautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Active | In Network", "In Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", benefit_id);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Active | In Network", "In Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {

                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | In Network", "MSG", "actcoanymsgval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | In Network", "POS", "actcoanyiiimsgval", loop, "", "", benefit_id);
                                    }




                                } else if (segmentdetails1[0].Element === "N")
                                {
                                    var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");
                                    if (element1.length > 0)
                                    {
                                        if (typeof (element1[0].Element) !== "undefined")
                                        {
                                            actcoinoutnet = element1[0].eb01;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinoutnet, " | Active | Out of Network", "Active Out of Network", "actcoinoutnetval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {
                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            actcoinoutnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinoutnet, " | Active | Out of Network", "Authorization Requirement", "actcoinoutnetautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Active | Out of Network", "Out of Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", benefit_id);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Active | Out of Network", "Out of Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {

                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Out of Network", "MSG", "actcoanymsgval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Out of Network", "POS", "actcoanyiiimsgval", loop, "", "", benefit_id);
                                    }




                                } else if (segmentdetails1[0].Element === "W")
                                {

                                    var element1 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "1");
                                    // console.log(element8.length);
                                    if (element1.length > 0)
                                    {

                                        if (typeof (element1[0].Element) !== "undefined")
                                        {
                                            actcoinanynet = element1[0].eb01;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinanynet, " | Active | Any", "Active Any", "coanyval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === segmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element1.length > 0)
                                    {

                                        if (typeof (element1[0].Element) !== "undefined")
                                        {
                                            actcoinanynet = element1[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, actcoinanynet, " | Active | Any", "Authorization Requirement", "coanyval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Active | Any", "Any Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", benefit_id);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Active | Any", "Any Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {

                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Any", "MSG", "actcoanymsgval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Any", "POS", "actcoanyiiimsgval", loop, "", "", benefit_id);
                                    }


                                } else
                                {
                                    if (typeof (EB2Segment[0].Element) !== "undefined")
                                    {
                                        if (dtpsegment3.length > 0)
                                        {
                                            if (dtpsegment2.length > 0)
                                            {
                                                if (dtpsegment2[0].Element === "D8")
                                                {
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Active | Any", "Any Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval", loop, "", "", benefit_id);
                                                } else if (dtpsegment2[0].Element === "RD8")
                                                {
                                                    var splitstr = dtpsegment3[0].Element;
                                                    var dtp = splitstr.split('-');
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Active | Any", "Any Network " + dtpsegment1[0].dtp, "actcoanyoutltindtpval1", loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Any", "MSG", "actcoanymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Active | Any", "POS", "actcoanyiiimsgval", loop, "", "", benefit_id);
                                    }

                                }



                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {
                                    // if (miscellaneous[0].Element === "Y")
                                    //{
                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement1[0].NM101, " | Active | Any", "Miscellaneous", "nmelement1valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {
                                            if (typeof (nmelement2[0].Element) !== "undefined")
                                            {
                                                var nmelement2val = nmelement2[0].NM102;
                                            }

                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement2val, "", "", "nmelement2valid", loop, "", "");
                                        }
                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement3[0].Element, " | Active | Any", "", "nmelement3valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement4[0].Element, " | Active | Any", "", "nmelement4valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement5[0].Element, " | Active | Any", "", "nmelement5valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement6[0].Element, " | Active | Any", "", "nmelement6valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement7[0].Element, " | Active | Any", "", "nmelement7valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {

                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement8val, " | Active | Any", "", "nmelement8valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement9[0].Element, " | Active | Any", "", "nmelement9valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement10[0].Element, " | Active | Any", "", "nmelement10valid", loop, "", "", benefit_id);
                                        }
                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement11[0].Element, " | Active | Any", "", "nmelement11valid", loop, "", "", benefit_id);
                                        }
                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement12[0].Element, " | Active | Any", "", "nmelement12valid", loop, "", "", benefit_id);
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {
                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                            }
                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement1val, "", "Miscellaneous", "perelement1valid", loop, "", "");
                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement2[0].Element, " | Active | Any", "", "perelement2valid", loop, "", "", benefit_id);
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }
                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement3val, "", "", "perelement3valid", loop, "", "");
                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";

                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }

                                        if (perelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val, " | Active | Any", "", "perelement4valid", loop, "", "", benefit_id);
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {

                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }

                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement5val, "", "", "perelement5valid", loop, "", "");
                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p5val + ": " + perelement6[0].Element, " | Active | Any", "", "perelement6valid", loop, "", "", benefit_id);
                                        }

                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {

                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement7val, " | Active | Any", "", "perelement7valid", loop, "", "", benefit_id);
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement8[0].Element, " | Active | Any", "", "perelement8valid", loop, "", "", benefit_id);
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement9[0].Element, " | Active | Any", "", "perelement9valid", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                            }
                        }

                        // Co insurance
                        if (coinssegmentdetails.length > 0)
                        {
                            //  console.log(coinssegmentdetails.length);
                            var coinsinsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "III");
                            //  console.log("Coinsurance: " + coinsinsegmentdetails1.length);
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB8Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.benefit_type);
                            // console.log(benefit_id);
                            //   console.log(coinssegmentdetails);
                            //DTP
                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {

                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }

                            // console.log(EB2Segment);
                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {

                                var eb2seg = '';
                                if (EB8Segment.length > 0)
                                {
                                    if (typeof (EB8Segment[0].Element) !== "undefined")
                                    {

                                        eb2seg = parseFloat(EB8Segment[0].Element) * 100;
                                        eb2seg = eb2seg + " %";
                                    }
                                }

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }




                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Co-Insurance | Unknown | " + netwk, "CO-Insurance Unknown-Network", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);


                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | Unknown | " + netwk, "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | Unknown | " + netwk, "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);

                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co-Insurance | Unknown | " + netwk, dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co-Insurance | Unknown | " + netwk, dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co-Insurance | Unknown | " + netwk, "MSG", "othercoinddedmsg", loop, "", "", benefit_id);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co-Insurance | Unknown | " + netwk, "POS", "othercoinddediiimsg", loop, "", "", benefit_id);
                                }


                            } else
                            {
                                if (coinsinsegmentdetails1.length === 0)
                                {


                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }



                                    var eb2seg = '';
                                    if (EB7Segment.length > 0)
                                    {
                                        if (typeof (EB7Segment[0].Element) !== "undefined")
                                        {

                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb2seg = "$ " + EB7Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Co-Insurance | Family | " + netwk, "Family Co-Insurance", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb2seg = "$ " + EB7Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Co-Insurance | dividual | " + netwk, "Individual Co-Insurance", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }


                                    var checkmsg = 'Unknown';
                                    if (EB2Segment.length > 0)
                                    {
                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            checkmsg = 'Family';
                                        } else
                                        {
                                            checkmsg = 'dividual';
                                        }
                                    }

                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            coinnet = parseFloat(element8[0].Element) * 100;
                                            coinnet = coinnet + " %";
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | Co-Insurance | " + checkmsg + " | " + netwk, "CO-Insurance " + netwk, "otherinsinval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }


                                }


                            }




                            //    console.log(coinsinsegmentdetails1);
                            if (coinsinsegmentdetails1.length > 0)
                            {



                                var header = '';
                                var element2 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                if (element2.length > 0)
                                {

                                    if (typeof (element2[0].Element) !== "undefined")
                                    {
                                        if (element2[0].Element === "FAM")
                                        {
                                            header = ' Family | ';
                                        } else if (element2[0].Element === "IND")
                                        {
                                            header = ' dividual | ';
                                        } else
                                        {
                                            header = ' Unknown | ';
                                        }

                                    } else
                                    {
                                        header = ' Unknown | ';
                                    }

                                } else
                                {
                                    header = ' Unknown | ';
                                }


                                if (coinsinsegmentdetails1[0].Element === "Y")
                                {


                                    //6 segment
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            coinnet = parseFloat(element8[0].Element) * 100;
                                            coinnet = coinnet + " %";
                                        }

                                        //  console.log(coinnet);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | |" + header + " In Network", "CO-Insurance IN-Network", "coinsinval", loop, "", "", benefit_id);
                                    }



                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | |" + header + " In Network", "Authorization Requirement", "coinsinautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co-Insurance |" + header + " In Network", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co-Insurance |" + header + " In Network", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " |  |" + header + " In Network", "MSG", "outeractcoinsmsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " In Network", "POS", "outeractcoinsiiimsgval", loop, "", "", benefit_id);
                                    }

                                } else if (coinsinsegmentdetails1[0].Element === "N")
                                {


                                    console.log(header);
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    if (element8.length > 0)
                                    {

                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            cooutnet = parseFloat(element8[0].Element) * 100;
                                            cooutnet = cooutnet + " %";
                                        }
                                        console.log(" | |" + header + " Out of Network");
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, cooutnet, " | |" + header + " Out of Network", "CO-Insurance OUT-Network", "coinsoutval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | |" + header + " Out of Network", "Authorization Requirement", "coinsoutautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | |" + header + " Out of Network", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | |" + header + " Out of Network", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Out of Network", "MSG", "outeractcoinsmsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Out of Network", "POS", "outeractcoinsiiimsgval", loop, "", "", benefit_id);
                                    }

                                } else if (coinsinsegmentdetails1[0].Element === "W")
                                {
                                    // console.log(coinsinsegmentdetails1);



                                    var element8 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    // console.log(element8.length);
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            coany = parseFloat(element8[0].Element) * 100;
                                            coany = coany + " %";
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coany, " | |" + header + " Any", "CO-Insurance - ANY", "coanyval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === coinssegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | |" + header + " Any", "Authorization Requirement", "coinanyautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | |" + header + " Any", dtpsegment1[0].dtp, "coanyltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | |" + header + " Any", dtpsegment1[0].dtp, "coanyltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Co-Insurance | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb05 = EB5Segment[0].Element;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Co-Insurance | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Any", "MSG", "outeractcoinsmsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Any", "POS", "outeractcoinsiiimsgval", loop, "", "", benefit_id);
                                    }

                                } else
                                {


                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Any", "MSG", "coanymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | |" + header + " Any", "POS", "coanyiiimsgval", loop, "", "", benefit_id);
                                    }

                                }




                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {
                                    // if (miscellaneous[0].Element === "Y")
                                    // {
                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement1[0].NM101, " | | Unknown | Any", "Miscellaneous", "nmelement1valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {

                                            if (typeof (nmelement2[0].Element) !== "undefined")
                                            {
                                                var nmelement2val = nmelement2[0].NM102;
                                            }

                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement2val, "", "", "nmelement2valid", loop, "", "");
                                        }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement3[0].Element, " | | Unknown | Any", "", "nmelement3valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement4[0].Element, " | | Unknown | Any", "", "nmelement4valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement5[0].Element, " | | Unknown | Any", "", "nmelement5valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement6[0].Element, " | | Unknown | Any", "", "nmelement6valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement7[0].Element, " | | Unknown | Any", "", "nmelement7valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {

                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement8val, " | | Unknown | Any", "", "nmelement8valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement9[0].Element, " | | Unknown | Any", "", "nmelement9valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement10[0].Element, " | | Unknown | Any", "", "nmelement10valid", loop, "", "", benefit_id);
                                        }
                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement11[0].Element, " | | Unknown | Any", "", "nmelement11valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement12[0].Element, " | | Unknown | Any", "", "nmelement12valid", loop, "", "", benefit_id);
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {

                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                                /* if (perelement1val === "IC")
                                                 {
                                                 perelement1val = "Information Contact";
                                                 }*/
                                            }
                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement1val, "", "Miscellaneous", "perelement1valid", loop, "", "");
                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement2[0].Element, " | | Unknown | Any", "", "perelement2valid", loop, "", "", benefit_id);
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }

                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement3val, "", "", "perelement3valid", loop, "", "");
                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";

                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }

                                        if (perelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val, " | | Unknown | Any", "", "perelement4valid", loop, "", "", benefit_id);
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {
                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }

                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement5val, "", "", "perelement5valid", loop, "", "");
                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p5val + ": " + perelement6[0].Element, " | | Unknown | Any", "", "perelement6valid", loop, "", "", benefit_id);
                                        }


                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {


                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement7val, " | | Unknown | Any", "", "perelement7valid", loop, "", "", benefit_id);
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement8[0].Element, " | | Unknown | Any", "", "perelement8valid", loop, "", "", benefit_id);
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement9[0].Element, " | | Unknown | Any", "", "perelement9valid", loop, "", "", benefit_id);
                                        }

                                    }
                                }
                            }

                        } else
                        {
                        }
                        //Co payment
                        if (copaysegmentdetails.length > 0)
                        {
                            //  console.log(copaysegmentdetails[0].Parent_4);
                            var copaysegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.benefit_type);
                            // console.log(benefit_id);

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {

                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Co Payment | | " + netwk, eb06, "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");

                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        if (eb06 !== '')
                                        {
                                            copayoutnet = parseFloat(EB7Segment[0].Element) + " / " + eb06;
                                            copayoutnet = "$ " + copayoutnet;
                                        } else
                                        {
                                            copayoutnet = parseFloat(EB7Segment[0].Element);
                                            copayoutnet = "$ " + copayoutnet;
                                        }
                                    }
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayoutnet, "CO-Payment | Unknown | " + netwk, "CO-Payment Unknown-Network", "othercopayoutval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                }

                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, "CO-Payment | Unknown | " + netwk, "Payor Type", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, "CO-Payment | Unknown | " + netwk, "Desc", "othercoindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "");

                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), "CO-Payment | Unknown | " + netwk, dtpsegment1[0].dtp, "othercoinddeddtpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), "CO-Payment | Unknown | " + netwk, dtpsegment1[0].dtp, "othercoinddeddtpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }
                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "CO-Payment | Unknown | " + netwk, "MSG", "othercoinddedmsg", loop, "", "", benefit_id);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, "CO-Payment | Unknown | " + netwk, "POS", "othercoinddediiimsg", loop, "", "", benefit_id);
                                }


                            } else
                            {
                                if (copaysegmentdetails1.length === 0)
                                {
                                    var eb06 = '';
                                    if (EB6Segment.length > 0)
                                    {
                                        if (typeof (EB6Segment[0].eb06) !== "undefined")
                                        {
                                            eb06 = EB6Segment[0].eb06;
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }


                                    var checkmsg = 'Unknown';
                                    if (EB2Segment.length > 0)
                                    {
                                        if (EB2Segment[0].Element === "FAM")
                                        {
                                            checkmsg = 'Family';
                                        } else
                                        {
                                            checkmsg = 'dividual';
                                        }
                                    }

                                    if (EB7Segment.length > 0)
                                    {
                                        if (typeof (EB7Segment[0].Element) !== "undefined")
                                        {
                                            if (eb06 !== '')
                                            {
                                                copayoutnet = parseFloat(EB7Segment[0].Element) + " / " + eb06;
                                                copayoutnet = "$ " + copayoutnet;
                                            } else
                                            {
                                                copayoutnet = parseFloat(EB7Segment[0].Element);
                                                copayoutnet = "$ " + copayoutnet;
                                            }
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayoutnet, " | CO-Payment | " + checkmsg + " | " + netwk, "CO-Payment Unknown-Network", "othercopayoutval" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                    }


                                }

                            }


                            if (copaysegmentdetails1.length > 0)
                            {
                                //  console.log(copaysegmentdetails1[0].Parent_4);
                                if (copaysegmentdetails1[0].Element === "Y")
                                {

                                    var header = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' dividual | ';
                                            } else
                                            {
                                                header = ' Unknown | ';
                                            }

                                        } else
                                        {
                                            header = ' Unknown | ';
                                        }

                                    } else
                                    {
                                        header = ' Unknown | ';
                                    }



                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayinnet = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayinnet = "$ " + copayinnet;
                                            } else
                                            {
                                                copayinnet = parseFloat(element8[0].Element);
                                                copayinnet = "$ " + copayinnet;
                                            }
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayinnet, " | Co Payment |" + header + "In Network", " CO-Payment IN-Network", "copayinval", loop, "", "", benefit_id);
                                    }


                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | Co Payment |" + header + "In Network", "Authorization Requirement", "copayinautval", loop, "", "", benefit_id);
                                        }


                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co Payment |" + header + "In Network", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co Payment |" + header + "In Network", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }


                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "In Network", "MSG", "outeractcopaymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "In Network", "POS", "outeractcopayiiimsgval", loop, "", "", benefit_id);
                                    }




                                } else if (copaysegmentdetails1[0].Element === "N")
                                {

                                    var header = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' dividual | ';
                                            } else
                                            {
                                                header = ' Unknown | ';
                                            }

                                        } else
                                        {
                                            header = ' Unknown | ';
                                        }

                                    } else
                                    {
                                        header = ' Unknown | ';
                                    }

                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayoutnet = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayoutnet = "$ " + copayoutnet;
                                            } else
                                            {
                                                copayoutnet = parseFloat(element8[0].Element);
                                                copayoutnet = "$ " + copayoutnet;
                                            }
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayoutnet, " | Co Payment |" + header + "Out of Network", " CO-Payment OUT-Network", "copayoutval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {

                                        if (typeof (element11[0].Element) !== "undefined")
                                        {
                                            coinnet = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, coinnet, " | Co Payment |" + header + "Out of Network", "Authorization Requirement", "copayoutautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co Payment |" + header + "Out of Network", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co Payment |" + header + "Out of Network", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "Out of Network", "MSG", "outeractcopaymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "Out of Network", "POS", "outeractcopayiiimsgval", loop, "", "", benefit_id);
                                    }


                                } else if (copaysegmentdetails1[0].Element === "W")
                                {

                                    var header = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' dividual | ';
                                            } else
                                            {
                                                header = ' Unknown | ';
                                            }

                                        } else
                                        {
                                            header = ' Unknown | ';
                                        }

                                    } else
                                    {
                                        header = ' Unknown | ';
                                    }



                                    var element8 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element6val = '';
                                    if (element6.length > 0)
                                    {
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            element6val = (element6[0].eb06);
                                        }
                                    }

                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            if (element6val !== '')
                                            {
                                                copayany = parseFloat(element8[0].Element) + " / " + element6val;
                                                copayany = "$ " + copayany;
                                            } else
                                            {
                                                copayany = parseFloat(element8[0].Element);
                                                copayany = "$ " + copayany;
                                            }
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayany, " | Co Payment |" + header + " Any", " CO-Payment ANY", "coanyval", loop, "", "", benefit_id);
                                    }

                                    var element11 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    if (element11.length > 0)
                                    {
                                        if (typeof (element11[0].Element) !== "undefined")
                                        {

                                            copayany = element11[0].eb11;
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, copayany, " | Co Payment |" + header + " Any", "Authorization Requirement", "copayanyautval", loop, "", "", benefit_id);
                                        }


                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co Payment |" + header + "Any", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co Payment |" + header + "Any", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {


                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | CO-Payment | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | CO-Payment | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "Any", "MSG", "outeractcopaymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + "Any", "POS", "outeractcopayiiimsgval", loop, "", "", benefit_id);
                                    }


                                } else
                                {
                                    var header = '';
                                    var element2 = response.Response.filter(obj => obj.Parent_4 === copaysegmentdetails[0].Parent_4 && obj.Element_id === "2");
                                    if (element2.length > 0)
                                    {

                                        if (typeof (element2[0].Element) !== "undefined")
                                        {
                                            if (element2[0].Element === "FAM")
                                            {
                                                header = ' Family | ';
                                            } else if (element2[0].Element === "IND")
                                            {
                                                header = ' dividual | ';
                                            } else
                                            {
                                                header = ' Unknown | ';
                                            }

                                        } else
                                        {
                                            header = ' Unknown | ';
                                        }

                                    } else
                                    {
                                        header = ' Unknown | ';
                                    }


                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Co Payment |" + header + "Any", dtpsegment1[0].dtp, "coanyautltindtpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Co Payment |" + header + "Any", dtpsegment1[0].dtp, "coanyautltindtpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + " Any", "MSG", "coanymsgval", loop, "", "", benefit_id);
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='copayanymsg" + gn.trim() + "'><th> CO-Payment Any MSG</th><td class='text-right'><span id='copayanymsgval" + gn.trim() + "' class='text-primary'>" + copayanymsg + "</span></td></tr>");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Co Payment |" + header + " Any", "POS", "coanyiiimsgval", loop, "", "", benefit_id);
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='copayanymsg" + gn.trim() + "'><th> CO-Payment Any MSG</th><td class='text-right'><span id='copayanymsgval" + gn.trim() + "' class='text-primary'>" + copayanymsg + "</span></td></tr>");
                                    }


                                }

                               
                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {
                                    //if (miscellaneous[0].Element === "Y")
                                    //{
                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement1[0].NM101, " | Co Payment |" + header + "Any", "Miscellaneous", "nmelement1valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {

                                            if (typeof (nmelement2[0].Element) !== "undefined")
                                            {
                                                var nmelement2val = nmelement2[0].NM102;
                                            }
                                            //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement2val, "", "", "nmelement2valid", loop, "", "");
                                        }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement3[0].Element, " | Co Payment |" + header + "Any", "", "nmelement3valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement4[0].Element, " | Co Payment |" + header + "Any", "", "nmelement4valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement5[0].Element, " | Co Payment |" + header + "Any", "", "nmelement5valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement6[0].Element, " | Co Payment |" + header + "Any", "", "nmelement6valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement7[0].Element, " | Co Payment |" + header + "Any", "", "nmelement7valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {


                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement8val, " | Co Payment |" + header + "Any", "", "nmelement8valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement9[0].Element, " | Co Payment |" + header + "Any", "", "nmelement9valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement10[0].Element, " | Co Payment |" + header + "Any", "", "nmelement10valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement11[0].Element, " | Co Payment |" + header + "Any", "", "nmelement11valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {


                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement12[0].Element, " | Co Payment |" + header + "Any", "", "nmelement12valid", loop, "", "", benefit_id);
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {
                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                            }
                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement1val, "", "Miscellaneous", "perelement1valid", loop, "", "");
                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement2[0].Element, " | Co Payment |" + header + "Any", "", "perelement2valid", loop, "", "", benefit_id);
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }
                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement3val, "", "", "perelement3valid", loop, "", "");
                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";
                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }
                                        if (perelement4.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val, " | Co Payment |" + header + "Any", "", "perelement4valid", loop, "", "", benefit_id);
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {
                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }

                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement5val, "", "", "perelement5valid", loop, "", "");
                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p5val + ": " + perelement6[0].Element, " | Co Payment |" + header + "Any", "", "perelement6valid", loop, "", "", benefit_id);
                                        }

                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {

                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement7val, " | Co Payment |" + header + "Any", "", "perelement7valid", loop, "", "", benefit_id);
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement8[0].Element, " | Co Payment |" + header + "Any", "", "perelement8valid", loop, "", "", benefit_id);
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement9[0].Element, " | Co Payment |" + header + "Any", "", "perelement9valid", loop, "", "", benefit_id);
                                        }

                                    }
                                }
                            }
                        } else
                        {
                        }

                        if (colimitsegmentdetails.length > 0)
                        {

                            var colimitsegmentdetails1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var miscellaneous = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var miscellaneousdetails = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "NM1");
                            var perdetails = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "PER");
                            var msg = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "MSG");
                            var iii = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "III");
                            var dtpsegment1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "1");
                            var dtpsegment2 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "2");
                            var dtpsegment3 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "DTP" && obj.Element_id === "3");
                            var EB6Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                            var EB2Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "2");
                            var EB4Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "4");
                            var EB5Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "5");
                            var EB7Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                            var EB12Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "12");
                            var hsdsegment1 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "1");
                            var hsdsegment2 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "2");
                            var hsdsegment3 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "3");
                            var hsdsegment4 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "4");
                            var hsdsegment5 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "5");
                            var hsdsegment6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Segment === "HSD" && obj.Element_id === "6");
                            // var benefit_id = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.benefit_type);
                            //  console.log(benefit_id);

                            var netwk = '';
                            if (EB12Segment.length > 0)
                            {
                                if (typeof (EB12Segment[0].Element) !== "undefined")
                                {
                                    if (EB12Segment[0].Element === "Y")
                                    {
                                        netwk = "In Network";
                                    } else if (EB12Segment[0].Element === "N")
                                    {
                                        netwk = "Out of Network";
                                    } else if (EB12Segment[0].Element === "W")
                                    {
                                        netwk = "Any";
                                    } else if (EB12Segment[0].Element === "U")
                                    {
                                        netwk = "Network-Unknown";
                                    }
                                }
                            } else
                            {
                                netwk = "Network-Unknown";
                            }

                            var checkmsg = 'Unknown';
                            if (EB2Segment.length > 0)
                            {
                                if (EB2Segment[0].Element === "FAM")
                                {
                                    checkmsg = 'Family';
                                } else
                                {
                                    checkmsg = 'dividual';
                                }
                            }

                            if (typeof (EB2Segment[0].Element) === "undefined")
                            {
                                var eb06 = '';
                                if (EB6Segment.length > 0)
                                {
                                    if (typeof (EB6Segment[0].eb06) !== "undefined")
                                    {
                                        eb06 = EB6Segment[0].eb06;
                                    }
                                }

                                var eb2seg = '';
                                if (EB7Segment.length > 0)
                                {
                                    if (typeof (EB7Segment[0].Element) !== "undefined")
                                    {
                                        eb2seg = "$ " + EB7Segment[0].Element + " / " + eb06;

                                    }
                                }


                                var eb04 = '';
                                if (EB4Segment.length > 0)
                                {
                                    if (typeof (EB4Segment[0].eb04) !== "undefined")
                                    {
                                        eb04 = EB4Segment[0].eb04;
                                    }
                                }

                                var eb05 = '';
                                if (EB5Segment.length > 0)
                                {
                                    if (typeof (EB5Segment[0].Element) !== "undefined")
                                    {
                                        eb05 = EB5Segment[0].Element;
                                    }
                                }


                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb2seg, " | Limitation | Unknown | " + netwk, "Limitation | " + netwk, "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "L", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | Unknown | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | Unknown | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);


                                //DTP
                                if (dtpsegment3.length > 0)
                                {
                                    if (dtpsegment2.length > 0)
                                    {
                                        if (dtpsegment2[0].Element === "D8")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Limitation | Unknown | " + netwk, dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", benefit_id);
                                        } else if (dtpsegment2[0].Element === "RD8")
                                        {
                                            var splitstr = dtpsegment3[0].Element;
                                            var dtp = splitstr.split('-');
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Limitation | Unknown | " + netwk, dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", benefit_id);
                                        }
                                    }
                                }

                                if (msg.length > 0)
                                {
                                    ltinmsg = msgsegment(msg);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | Unknown | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                }
                                if (iii.length > 0)
                                {
                                    ltinmsg = iiimsgsegment(iii);
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | Unknown | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                }

                            } else
                            {
                                if (colimitsegmentdetails1.length === 0)
                                {
                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }



                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | Family | " + netwk, "MSG", "otherinddedmsg", loop, "", "", benefit_id);
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | Family | " + netwk, "POS", "otherinddediiimsg", loop, "", "", benefit_id);
                                    }



                                }
                            }


                            if (colimitsegmentdetails1.length > 0)
                            {


                                if (colimitsegmentdetails1[0].Element === "Y")
                                {
                                    var EB4Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "4");
                                    var EB5Segment = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "5");
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");

                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            lain = "$ " + element7[0].Element + " / " + preindex;
                                        }
                                        //console.log(laout);
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lain, " | Limitation | " + checkmsg + " | In Network", "Limitation | In Network", "coinslainval", loop, "", "L", benefit_id);
                                        }
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='coinslain" + gn.trim() + "'><th> Limitation Amount IN </th><td class='text-right'><span id='coinslainval" + gn.trim() + "' class='text-primary'>" + lain + "</span></td></tr>");
                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpout = parseFloat(element8[0].Element) * 100;
                                            lpout = lpout + " %";
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpout, " | Limitation | " + checkmsg + " | In Network", "Limitation Percentage", "coinslpinval", loop, "", "", benefit_id);
                                        // $('#loopsegment .table').find('tbody').append("<tr  id='coinslpin" + gn.trim() + "'><th> Limitation Percentage IN </th><td class='text-right'><span id='coinslpinval" + gn.trim() + "' class='text-primary'>" + lpin + "</span></td></tr>");
                                    }

                                    if (element9.length > 0)
                                    {
                                        // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element9[0].eb09, "", "Limitation Qualifier", "coinslqinval", loop, "9", "");
                                    }

                                    if (element10.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " | In Network", "Limitation Quantity", "coinslpquainval", loop, "", "", benefit_id);

                                    }


                                    //  console.log(hsdsegment1);
                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " | In Network", "Limitation Quantity", "coinslpquainhsd1val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " | In Network", "Limitation Quantity", "coinslpquainhsd2val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " | In Network", "Limitation Period", "coinslpquainhsd3val", loop, "", "", benefit_id);
                                    }


                                    if (element11.length > 0)
                                    {
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, " | Limitation | " + checkmsg + " | In Network", "Authorization Requirement", "coinslpautinval", loop, "11", "", benefit_id);
                                    }


                                    //DTP
                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Limitation | " + checkmsg + " In Network", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Limitation | " + checkmsg + " In Network", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " In Network", "MSG", "outerlimactcoanymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " In Network", "POS", "outerlimactcoanyiiimsgval", loop, "", "", benefit_id);
                                    }



                                } else if (colimitsegmentdetails1[0].Element === "N")
                                {
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");


                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            laout = "$ " + element7[0].Element + " / " + preindex;
                                        }
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, laout, " | Limitation | " + checkmsg + " Out of Network", "Limitation | Out of Network", "coinslaoutval", loop, "", "L", benefit_id);
                                        }

                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpout = parseFloat(element8[0].Element) * 100;
                                            lpout = lpout + " %";
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpout, " | Limitation | " + checkmsg + " Out of Network", "Limitation Percentage", "coinslaoutval", loop, "", "", benefit_id);

                                    }

                                    if (element10.length > 0)
                                    {

                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Out of Network", "Limitation Quantity", "coinslpquaoutval", loop, "", "", benefit_id);

                                    }

                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Out of Network", "Limitation Quantity", "coinslpquaouthsd1val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Out of Network", "Limitation Quantity", "coinslpquaouthsd2val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Out of Network", "Limitation Period", "coinslpquaouthsd3val", loop, "", "", benefit_id);
                                    }


                                    if (element11.length > 0)
                                    {

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, " | Limitation | " + checkmsg + " Out of Network", "Authorization Requirement", "coinslpautoutval", loop, "11", "", benefit_id);
                                        //$('#loopsegment .table').find('tbody').append("<tr  id='coinslpautout" + gn.trim() + "'><th> Limitation Authorization OUT </th><td class='text-right'><span id='coinslpautoutval" + gn.trim() + "' class='text-primary'>" + lpautout + "</span></td></tr>");
                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Limitation | " + checkmsg + " Out of Network", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Limitation | " + checkmsg + " Out of Network", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Out of Network", "MSG", "outerlimactcoanymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Out of Network", "POS", "outerlimactcoanyiiimsgval", loop, "", "", benefit_id);
                                    }


                                } else if (colimitsegmentdetails1[0].Element === "W")
                                {
                                    var element6 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "6");
                                    var element9 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "9");
                                    var element7 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "7");
                                    var element8 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "8");
                                    var element11 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "11");
                                    var element10 = response.Response.filter(obj => obj.Parent_4 === colimitsegmentdetails[0].Parent_4 && obj.Element_id === "10");


                                    if (element7.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element6[0].Element) !== "undefined")
                                        {
                                            preindex = (element6[0].eb06);
                                        }

                                        if (typeof (element7[0].Element) !== "undefined")
                                        {
                                            laany = "$ " + element7[0].Element + " / " + preindex;
                                        }
                                        if (typeof (EB2Segment[0].Element) !== "undefined")
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, laany, " | Limitation | " + checkmsg + " Any", "Limitation | Any", "coinslaanyval", loop, "", "L", benefit_id);
                                        }

                                    }
                                    if (element8.length > 0)
                                    {
                                        if (typeof (element8[0].Element) !== "undefined")
                                        {
                                            lpany = parseFloat(element8[0].Element) * 100;
                                            lpany = lpany + " %";
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, lpany, " | Limitation | " + checkmsg + " Any", "Limitation Percentage", "coinslpanyval", loop, "", "", benefit_id);

                                    }


                                    if (element10.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (element9[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (element9[0].eb09);
                                        }
                                        if (typeof (element10[0].Element) !== "undefined")
                                        {
                                            preindex = element10[0].Element + preindex;
                                        }

                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Any", "Limitation Quantity", "coinslpquaanyval", loop, "", "", benefit_id);

                                    }


                                    if (hsdsegment2.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment1[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment1[0].hsd1);
                                        }
                                        if (typeof (hsdsegment2[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment2[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Any", "Limitation Quantity", "coinslpquaanyhsd1val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment4.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment3[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment3[0].hsd3);
                                        }
                                        if (typeof (hsdsegment4[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment4[0].Element + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Any", "Limitation Quantity", "coinslpquaanyhsd2val", loop, "", "", benefit_id);
                                    }

                                    if (hsdsegment6.length > 0)
                                    {
                                        var preindex = '';
                                        if (typeof (hsdsegment5[0].Element) !== "undefined")
                                        {
                                            preindex = " " + (hsdsegment5[0].hsd5);
                                        }
                                        if (typeof (hsdsegment6[0].Element) !== "undefined")
                                        {
                                            preindex = hsdsegment6[0].Element + ' / ' + preindex;
                                        }
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, preindex, " | Limitation | " + checkmsg + " Any", "Limitation Period", "coinslpquaanyhsd3val", loop, "", "", benefit_id);
                                    }



                                    if (element11.length > 0)
                                    {
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, element11[0].eb11, " | Limitation | " + checkmsg + " Any", "Authorization Requirement", "coinslpautanyval", loop, "11", "", benefit_id);

                                    }

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Limitation | " + checkmsg + " Any", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Limitation | " + checkmsg + " Any", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb04 = '';
                                    if (EB4Segment.length > 0)
                                    {
                                        if (typeof (EB4Segment[0].eb04) !== "undefined")
                                        {

                                            if (EB2Segment[0].Element === "FAM")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | Family | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            } else if (EB2Segment[0].Element === "IND")
                                            {
                                                eb04 = EB4Segment[0].eb04;
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb04, " | Limitation | dividual | " + netwk, "Payor Type", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    var eb05 = '';
                                    if (EB5Segment.length > 0)
                                    {
                                        if (typeof (EB5Segment[0].Element) !== "undefined")
                                        {


                                            if (typeof (EB6Segment[0].Element) === "undefined")
                                            {
                                                if (EB2Segment[0].Element === "FAM")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | Family | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                } else if (EB2Segment[0].Element === "IND")
                                                {
                                                    eb05 = EB5Segment[0].Element;
                                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, eb05, " | Limitation | dividual | " + netwk, "Desc", "otherindded" + segloopGroupedBy[groupname1][j].Tid, loop, "", "", benefit_id);
                                                }
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Any", "MSG", "outerlimactcoanymsgval", loop, "", "", benefit_id);
                                    }

                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Any", "POS", "outerlimactcoanyiiimsgval", loop, "", "", benefit_id);
                                    }


                                } else
                                {

                                    if (dtpsegment3.length > 0)
                                    {
                                        if (dtpsegment2.length > 0)
                                        {
                                            if (dtpsegment2[0].Element === "D8")
                                            {
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtpsegment3[0].Element), " | Limitation | " + checkmsg + " Any", dtpsegment1[0].dtp, "coinslanytpval", loop, "", "", benefit_id);
                                            } else if (dtpsegment2[0].Element === "RD8")
                                            {
                                                var splitstr = dtpsegment3[0].Element;
                                                var dtp = splitstr.split('-');
                                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, conversion(dtp[0]) + " - " + conversion(dtp[1]), " | Limitation | " + checkmsg + " Any", dtpsegment1[0].dtp, "coinslanytpval1", loop, "", "", benefit_id);
                                            }
                                        }
                                    }

                                    if (msg.length > 0)
                                    {
                                        ltinmsg = msgsegment(msg);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Any", "MSG", "coinsltanymsgval", loop, "", "", benefit_id);
                                        //$('#loopsegment .table').find('tbody').append("<tr  id='coinsltanymsg" + gn.trim() + "'><th> Limitation ANY MSG</th><td class='text-right'><span id='coinsltanymsgval" + gn.trim() + "' class='text-primary'>" + ltanymsg + "</span></td></tr>");
                                    }
                                    if (iii.length > 0)
                                    {
                                        ltinmsg = iiimsgsegment(iii);
                                        Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Limitation | " + checkmsg + " Any", "POS", "coinsltanymsgval", loop, "", "", benefit_id);
                                        //$('#loopsegment .table').find('tbody').append("<tr  id='coinsltanymsg" + gn.trim() + "'><th> Limitation ANY MSG</th><td class='text-right'><span id='coinsltanymsgval" + gn.trim() + "' class='text-primary'>" + ltanymsg + "</span></td></tr>");
                                    }
                                }




                                //Miscellaneous
                                if (miscellaneous.length > 0)
                                {
                                    //  if (miscellaneous[0].Element === "Y")
                                    //  {
                                    if (miscellaneousdetails.length > 0)
                                    {
                                        // NM1_01
                                        var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                        if (nmelement1.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement1[0].NM101, " | Limitation | " + checkmsg + " Any", "Miscellaneous", "nmelement1valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_02
                                        var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                        if (nmelement2.length > 0)
                                        {
                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement2[0].NM102, "", "", "nmelement2valid", loop, "", "");
                                        }

                                        // NM1_03
                                        var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                        if (nmelement3.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement3[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement3valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_04
                                        var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                        if (nmelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement4[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement4valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_05
                                        var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                        if (nmelement5.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement5[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement5valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_06
                                        var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                        if (nmelement6.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement6[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement6valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_07
                                        var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                        if (nmelement7.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement7[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement7valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_08
                                        var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                        if (nmelement8.length > 0)
                                        {

                                            if (typeof (nmelement8[0].Element) !== "undefined")
                                            {
                                                var nmelement8val = nmelement8[0].NM108;
                                            }
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement8val, " | Limitation | " + checkmsg + " Any", "", "nmelement8valid", loop, "", "", benefit_id);
                                        }

                                        // NM1_09
                                        var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                        if (nmelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement9[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement9valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_10
                                        var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                        if (nmelement10.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement10[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement10valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_11
                                        var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                        if (nmelement11.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement11[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement11valid", loop, "", "", benefit_id);
                                        }


                                        // NM1_12
                                        var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                        if (nmelement12.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement12[0].Element, " | Limitation | " + checkmsg + " Any", "", "nmelement12valid", loop, "", "", benefit_id);
                                        }

                                    }

                                    // PER

                                    if (perdetails.length > 0)
                                    {
                                        // PER_01
                                        var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                        if (perelement1.length > 0)
                                        {
                                            if (typeof (perelement1[0].Element) !== "undefined")
                                            {
                                                var perelement1val = perelement1[0].PER01;
                                                /*  if (perelement1val.trim() === "IC")
                                                 {
                                                 perelement1val = "Information Contact";
                                                 } */
                                            }

                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement1val, "", "Miscellaneous", "perelement1valid", loop, "", "");
                                        }


                                        // PER_02
                                        var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                        if (perelement2.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement2[0].Element, " | Limitation | " + checkmsg + " Any", "", "perelement2valid", loop, "", "", benefit_id);
                                        }


                                        // PER_03
                                        var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                        var p3val = "";
                                        if (perelement3.length > 0)
                                        {

                                            if (typeof (perelement3[0].Element) !== "undefined")
                                            {
                                                var perelement3val = perelement3[0].PER03;
                                                p3val = perelement3[0].Element;
                                            }

                                            //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement3val, "", "", "perelement3valid", loop, "", "");
                                        }

                                        // PER_04
                                        var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                        var p4val = "";

                                        if (perelement4.length > 0)
                                        {
                                            if (typeof (perelement4[0].Element) !== "undefined")
                                            {
                                                p4val = perelement4[0].Element;
                                                var res = p4val.substring(0, 3);
                                                var res1 = p4val.substring(3, 6);
                                                var res2 = p4val.substring(6, 10);
                                                if (p4val.length > 9)
                                                {
                                                    p4val = res + "-" + res1 + "-" + res2;
                                                } else
                                                {
                                                    p4val = res;
                                                }

                                            }
                                        }
                                        if (perelement4.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val, " | Limitation | " + checkmsg + " Any", "", "perelement4valid", loop, "", "", benefit_id);
                                        }

                                        // PER_05
                                        var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                        var p5val = "";
                                        if (perelement5.length > 0)
                                        {

                                            if (typeof (perelement5[0].Element) !== "undefined")
                                            {
                                                var perelement5val = perelement5[0].PER05;
                                                p5val = perelement5[0].Element;
                                            }

                                            // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement5val, "", "", "perelement5valid", loop, "", "");
                                        }

                                        // PER_06
                                        var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                        if (perelement6.length > 0)
                                        {
                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p5val + ": " + perelement6[0].Element, " | Limitation | " + checkmsg + " Any", "", "perelement6valid", loop, "", "", benefit_id);
                                        }

                                        // PER_07
                                        var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                        if (perelement7.length > 0)
                                        {

                                            if (typeof (perelement7[0].Element) !== "undefined")
                                            {
                                                var perelement7val = perelement7[0].PER07;
                                            }

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement7val, " | Limitation | " + checkmsg + " Any", "", "perelement7valid", loop, "", "", benefit_id);
                                        }

                                        // PER_08
                                        var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                        if (perelement8.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement8[0].Element, " | Limitation | " + checkmsg + " Any", "", "perelement8valid", loop, "", "", benefit_id);
                                        }

                                        // PER_09
                                        var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellaneous[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                        if (perelement9.length > 0)
                                        {

                                            Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement9[0].Element, " | Limitation | " + checkmsg + " Any", "", "perelement9valid", loop, "", "", benefit_id);
                                        }

                                    }
                                }
                            }
                        } else
                        {
                        }


                        //Miscellaneous
                        if (miscellaneoussegmentdetails.length > 0)
                        {
                            // console.log(miscellaneoussegmentdetails);
                            var miscellsegmentdetailsnm1 = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            var miscellsegmentdetailsper = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            var msg = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);
                            var iii = response.Response.filter(obj => obj.Parent_4 === miscellaneoussegmentdetails[0].Parent_4);



                            // console.log(miscellsegmentdetailsnm1);
                            if (miscellsegmentdetailsnm1.length > 0)
                            {

                                // NM1_01
                                var nmelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "1");
                                //  console.log(nmelement1);
                                if (nmelement1.length > 0)
                                {
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement1[0].NM101, " | Miscellaneous | Miscellaneous | Any", "Miscellaneous", "misnmelement1valid", loop, "", "", benefit_id);
                                }

                                // NM1_02
                                var nmelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "2");
                                if (nmelement2.length > 0)
                                {

                                    if (typeof (nmelement2[0].Element) !== "undefined")
                                    {
                                        var misnmelement2val = nmelement2[0].NM102;
                                    }
                                    //   Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, misnmelement2val, "", "", "misnmelement2valid", loop, "", "");
                                }

                                // NM1_03
                                var nmelement3 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "3");
                                if (nmelement3.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement3[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement3valid", loop, "", "", benefit_id);
                                }

                                // NM1_04
                                var nmelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "4");
                                if (nmelement4.length > 0)
                                {
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement4[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement4valid", loop, "", "", benefit_id);
                                }

                                // NM1_05
                                var nmelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "5");
                                if (nmelement5.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement5[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement5valid", loop, "", "", benefit_id);
                                }

                                // NM1_06
                                var nmelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "6");
                                if (nmelement6.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement6[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement6valid", loop, "", "", benefit_id);
                                }

                                // NM1_07
                                var nmelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "7");
                                if (nmelement7.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement7[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement7valid", loop, "", "", benefit_id);
                                }

                                // NM1_08
                                var nmelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "8");
                                if (nmelement8.length > 0)
                                {

                                    if (typeof (nmelement8[0].Element) !== "undefined")
                                    {
                                        var misnmelement8val = nmelement8[0].NM108;
                                    }

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, misnmelement8val, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement8valid", loop, "", "", benefit_id);
                                }

                                // NM1_09
                                var nmelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "9");
                                if (nmelement9.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement9[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement9valid", loop, "", "", benefit_id);
                                }


                                // NM1_10
                                var nmelement10 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "10");
                                if (nmelement10.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement10[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement10valid", loop, "", "", benefit_id);
                                }


                                // NM1_11
                                var nmelement11 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "11");
                                if (nmelement11.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement11[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement11valid", loop, "", "", benefit_id);
                                }


                                // NM1_12
                                var nmelement12 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsnm1[0].Parent_4 && obj.Segment === "NM1" && obj.Element_id === "12");
                                if (nmelement12.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, nmelement12[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misnmelement12valid", loop, "", "", benefit_id);
                                }
                            }

                            if (miscellsegmentdetailsper.length > 0)
                            {
                                // PER_01
                                var perelement1 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "1");
                                if (perelement1.length > 0)
                                {
                                    if (typeof (perelement1[0].Element) !== "undefined")
                                    {
                                        var perelement1val = perelement1[0].PER01;
                                    }
                                    // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement1val, "", "Miscellaneous", "misperelement1valid", loop, "", "");
                                }


                                // PER_02
                                var perelement2 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "2");
                                if (perelement2.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement2[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misperelement2valid", loop, "", "", benefit_id);
                                }


                                // PER_03
                                var perelement3 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "3");
                                var p3val = "";
                                if (perelement3.length > 0)
                                {

                                    if (typeof (perelement3[0].Element) !== "undefined")
                                    {
                                        var misperelement3val = perelement3[0].PER03;
                                        p3val = perelement3[0].Element;
                                    }
                                    //  Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, misperelement3val, "", "", "misperelement3valid", loop, "", "");
                                }

                                // PER_04
                                var perelement4 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "4");
                                var p4val = "";
                                if (perelement4.length > 0)
                                {
                                    if (typeof (perelement4[0].Element) !== "undefined")
                                    {
                                        p4val = perelement4[0].Element;
                                        var res = p4val.substring(0, 3);
                                        var res1 = p4val.substring(3, 6);
                                        var res2 = p4val.substring(6, 10);
                                        if (p4val.length > 9)
                                        {
                                            p4val = res + "-" + res1 + "-" + res2;
                                        } else
                                        {
                                            p4val = res;
                                        }

                                    }
                                }

                                if (perelement4.length > 0)
                                {
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p3val + ": " + p4val, " | Miscellaneous | Miscellaneous | Any", "", "misperelement4valid", loop, "", "", benefit_id);
                                }

                                // PER_05
                                var perelement5 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "5");
                                var p5val = "";
                                if (perelement5.length > 0)
                                {
                                    if (typeof (perelement5[0].Element) !== "undefined")
                                    {
                                        var misperelement5val = perelement5[0].PER05;
                                        p5val = perelement5[0].Element;
                                    }
                                    // Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, misperelement5val, "", "", "misperelement5valid", loop, "", "");
                                }

                                // PER_06
                                var perelement6 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "6");
                                if (perelement6.length > 0)
                                {
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, p5val + ": " + perelement6[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misperelement6valid", loop, "", "", benefit_id);
                                }

                                // PER_07
                                var perelement7 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "7");
                                if (perelement7.length > 0)
                                {

                                    if (typeof (perelement7[0].Element) !== "undefined")
                                    {
                                        var misperelement7val = perelement7[0].PER07;
                                    }
                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, misperelement7val, " | Miscellaneous | Miscellaneous | Any", "", "misperelement7valid", loop, "", "", benefit_id);
                                }


                                // PER_08
                                var perelement8 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "8");
                                if (perelement8.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement8[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misperelement8valid", loop, "", "", benefit_id);
                                }

                                // PER_09
                                var perelement9 = response.Response.filter(obj => obj.Parent_4 === miscellsegmentdetailsper[0].Parent_4 && obj.Segment === "PER" && obj.Element_id === "9");
                                if (perelement9.length > 0)
                                {

                                    Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, perelement9[0].Element, " | Miscellaneous | Miscellaneous | Any", "", "misperelement9valid", loop, "", "", benefit_id);
                                }

                            }




                            if (msg.length > 0)
                            {
                                var msgval = response.Response.filter(obj => obj.Parent_4 === msg[0].Parent_4 && obj.Segment === "MSG");
                                //  console.log(msgval);
                                ltinmsg = msgsegment(msgval);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Miscellaneous | Miscellaneous | Any", "MSG", "misperelementmsg", loop, "", "", benefit_id);
                                //$('#loopsegment .table').find('tbody').append("<tr  id='coinsltanymsg" + gn.trim() + "'><th> Limitation ANY MSG</th><td class='text-right'><span id='coinsltanymsgval" + gn.trim() + "' class='text-primary'>" + ltanymsg + "</span></td></tr>");
                            }
                            if (iii.length > 0)
                            {
                                var posval = response.Response.filter(obj => obj.Parent_4 === msg[0].Parent_4 && obj.Segment === "III");
                                // console.log(posval);  
                                ltinmsg = iiimsgsegment(posval);
                                Appendtag(segloopGroupedBy[groupname1][j].Tid, segloopGroupedBy[groupname1][j].Parent_4, ltinmsg, " | Miscellaneous | Miscellaneous | Any", "POS", "misperelementpos", loop, "", "", benefit_id);
                                //$('#loopsegment .table').find('tbody').append("<tr  id='coinsltanymsg" + gn.trim() + "'><th> Limitation ANY MSG</th><td class='text-right'><span id='coinsltanymsgval" + gn.trim() + "' class='text-primary'>" + ltanymsg + "</span></td></tr>");
                            }



                        }

                    }

                }

            }

        }

        _.defer($.ajax({
            url: "getobebrequestid",
            type: "get", //send it through get method
            data: {
                ob_ebrequestid: rid
            },
            success: function (dbresponse) {
                var txt = dbresponse;
                var response = jQuery.parseJSON(txt);
                if (response.Response.length > 0)
                {
                    var checkebsegment = response.Response.filter(obj => obj.Segment === "EB");
                    var Ebstatus = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "1");
                    var plancd = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "5" && obj.Parent_4 === "1");
                    var plandet = response.Response.filter(obj => obj.Segment === "EB" && obj.Element_id === "2" && obj.Parent_4 === "1");
              

                    if (checkebsegment.length > 0)
                    {
                        if ($('#status').text() !== "Cannot process")
                        {
                            //Loop Segment
                            setTimeout(function ()
                            {
                                FetchSegmentLoop(response);
                                const data = [...document.querySelectorAll('.sepbtn:checked')].map(e => e.value);
                                var v;
                                v = data;
                                globalval = data;
                                //  console.log(globalval);
                                //  selarr = v;
                                for (var i = 0; i < globalval.length; i++) {
                                    if (selarr.indexOf(globalval[i]) === -1)
                                    {
                                        selarr.push(globalval[i]);
                                    }
                                }
                                $("section").find("#loopsegment").find("a").each(function () {
                                    if (v !== "" && $(this).attr('value').search(new RegExp(v.join("|"), 'gi')) !== -1) {
                                        var id = $(this).parent().parent().parent().parent().parent().attr('id');
                                        if (id !== "undefined")
                                        {
                                            $('#' + id).show();
                                        }
                                        $(this).show();

                                    } else
                                    {
                                        if (v === "")
                                        {
                                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                                            if (id !== "undefined")
                                            {

                                                $('#' + id).show();
                                            }
                                            $(this).show();
                                        } else
                                        {
                                            var id = $(this).parent().parent().parent().parent().parent().attr('id');
                                            if (id !== "undefined")
                                            {

                                                $('#' + id).hide();
                                            }

                                        }
                                    }
                                });



                                $('#loopsegment').find('div').find('div').find('div').find('div').find('div').find('div').find("#family").find('table').find('tbody').each(function () {

                                    if ($(this).html() === '')
                                    {
                                        $(this).parent().hide();

                                    }

                                });

                                $('#loopsegment').find('div').find('div').find('div').find('div').find('div').find('div').find("#individual").find('table').find('tbody').each(function (index) {

                                    if ($(this).html() === '')
                                    {
                                        $(this).parent().hide();

                                    }


                                });


                                $('#loopsegment').find('div').find('div').find('div').find('div').find('div').find('div').find("#active").find('table').find('tbody').each(function () {

                                    if ($(this).html() === '')
                                    {
                                        $(this).parent().hide();

                                    }
                                });



                                $('#loopsegment').find('div').find('div').find('div').find('div').find('div').find('div').find("#misc").find('table').find('tbody').each(function () {
                                    if ($(this).html() === '')
                                    {
                                        $(this).parent().hide();

                                    }

                                });

                                for (var k = 0; k < benefit_id_arr.length; k++)
                                {
                                    //    console.log(benefit_id_arr[k]);
                                    // Family
                                    if ($('#' + benefit_id_arr[k]).find('#family').find('#famin').find('tbody').html() === '')
                                    {
                                        if ($('#' + benefit_id_arr[k]).find('#family').find('#famout').find('tbody').html() === '')
                                        {
                                            if ($('#' + benefit_id_arr[k]).find('#family').find('#famany').find('tbody').html() === '')
                                            {
                                                if ($('#' + benefit_id_arr[k]).find('#family').find('#famun').find('tbody').html() === '')
                                                {
                                                    $('#' + benefit_id_arr[k]).find('#family').find('#familyh6').hide();
                                                }
                                            }
                                        }
                                    }

                                    // Individual
                                    if ($('#' + benefit_id_arr[k]).find('#individual').find('#indin').find('tbody').html() === '')
                                    {
                                        if ($('#' + benefit_id_arr[k]).find('#individual').find('#indout').find('tbody').html() === '')
                                        {
                                            if ($('#' + benefit_id_arr[k]).find('#individual').find('#indany').find('tbody').html() === '')
                                            {
                                                if ($('#' + benefit_id_arr[k]).find('#individual').find('#indun').find('tbody').html() === '')
                                                {
                                                    $('#' + benefit_id_arr[k]).find('#individual').find('#indivh6').hide();
                                                }
                                            }
                                        }
                                    }

                                    // Active
                                    if ($('#' + benefit_id_arr[k]).find('#active').find('#activein').find('tbody').html() === '')
                                    {
                                        if ($('#' + benefit_id_arr[k]).find('#active').find('#activeout').find('tbody').html() === '')
                                        {
                                            if ($('#' + benefit_id_arr[k]).find('#active').find('#activeany').find('tbody').html() === '')
                                            {
                                                if ($('#' + benefit_id_arr[k]).find('#active').find('#activeun').find('tbody').html() === '')
                                                {
                                                    $('#' + benefit_id_arr[k]).find('#active').find('#activeh6').hide();
                                                }
                                            }
                                        }
                                    }

                                    // Misc
                                    if ($('#' + benefit_id_arr[k]).find('#misc').find('#miscin').find('tbody').html() === '')
                                    {
                                        if ($('#' + benefit_id_arr[k]).find('#misc').find('#miscout').find('tbody').html() === '')
                                        {
                                            if ($('#' + benefit_id_arr[k]).find('#misc').find('#miscany').find('tbody').html() === '')
                                            {
                                                if ($('#' + benefit_id_arr[k]).find('#misc').find('#miscun').find('tbody').html() === '')
                                                {
                                                    $('#' + benefit_id_arr[k]).find('#misc').find('#misch6').hide();
                                                }
                                            }
                                        }
                                    }


                                }

                            }, 7000);
                        }
                    }
                }

            }
        }));

    }); 